{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 61d9486ed9a9fadf088b","webpack:///./~/lodash/create.js","webpack:///./~/lodash/isArray.js","webpack:///./~/lodash/isObject.js","webpack:///./~/lodash/_root.js","webpack:///./~/lodash/_getNative.js","webpack:///./~/xmlbuilder/lib/XMLNode.js","webpack:///external \"@brightsign/bscore\"","webpack:///./~/lodash/_baseGetTag.js","webpack:///./~/lodash/isArrayLike.js","webpack:///./~/lodash/isObjectLike.js","webpack:///./~/lodash/keys.js","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///./~/lodash/_ListCache.js","webpack:///./~/lodash/_Symbol.js","webpack:///./~/lodash/_assocIndexOf.js","webpack:///./~/lodash/_getMapData.js","webpack:///./~/lodash/_nativeCreate.js","webpack:///./~/lodash/_toKey.js","webpack:///./~/lodash/eq.js","webpack:///./~/lodash/isFunction.js","webpack:///external \"redux\"","webpack:///webpack:///webpack/universalModuleDefinition","webpack:///webpack:/webpack/bootstrap 1b5fe0c6be4f18e9aac2","webpack:///webpack:/external \"@brightsign/bscore\"","webpack:///webpack:/external \"lodash\"","webpack:///webpack:///lib/actions/actionSign.ts","webpack:///webpack:///lib/utils.ts","webpack:///webpack:///lib/bsDmInterfaces.ts","webpack:///webpack:///lib/bsDmClasses.ts","webpack:///webpack:/external \"reselect\"","webpack:///webpack:///lib/actions/actionMediaState.ts","webpack:///webpack:///lib/bsDmError.ts","webpack:///webpack:///lib/reducers/index.ts","webpack:///webpack:///lib/actions/actionBase.ts","webpack:///webpack:///lib/actions/actionZone.ts","webpack:///webpack:///lib/bsDmContentItems.ts","webpack:///webpack:///lib/bsDmDefaults.ts","webpack:///webpack:///lib/bsDmParameterizedStrings.ts","webpack:///webpack:///lib/actions/actionEvent.ts","webpack:///webpack:///lib/selectors/index.ts","webpack:///webpack:///lib/actions/actionAssetMap.ts","webpack:///webpack:///lib/actions/actionTransition.ts","webpack:///webpack:/external \"redux\"","webpack:///webpack:///lib/actions/actionDataFeed.ts","webpack:///webpack:///lib/actions/actionHtmlSite.ts","webpack:///webpack:///lib/actions/actionUserVariable.ts","webpack:///webpack:///lib/reducers/reducerEvent.ts","webpack:///webpack:///lib/reducers/reducerMediaState.ts","webpack:///webpack:///lib/reducers/reducerSign.ts","webpack:///webpack:///lib/reducers/reducerZone.ts","webpack:///webpack:///lib/actions/index.ts","webpack:///webpack:/external \"core-js/es6/set\"","webpack:///webpack:/external \"core-js/fn/array/from\"","webpack:///webpack:/external \"core-js/fn/object/assign\"","webpack:///webpack:///lib/actions/actionPlaylist.ts","webpack:///webpack:///lib/main.ts","webpack:///webpack:///lib/reducers/reducerAssetMap.ts","webpack:///webpack:///lib/reducers/reducerDataFeed.ts","webpack:///webpack:///lib/reducers/reducerHtmlSite.ts","webpack:///webpack:///lib/reducers/reducerTransition.ts","webpack:///webpack:///lib/reducers/reducerUserVariable.ts","webpack:///webpack:///lib/selectors/selectorPlaylist.ts","webpack:///webpack:///lib/selectors/selectorSignEntityDetail.ts","webpack:///webpack:/external \"uuid\"","webpack:///./~/lodash/_Map.js","webpack:///./~/lodash/_MapCache.js","webpack:///./~/lodash/_isIndex.js","webpack:///./~/lodash/_isKey.js","webpack:///./~/lodash/_isPrototype.js","webpack:///./~/lodash/identity.js","webpack:///./~/lodash/isArguments.js","webpack:///./~/lodash/isBuffer.js","webpack:///./~/lodash/isLength.js","webpack:///./~/lodash/isSymbol.js","webpack:///./~/lodash/isTypedArray.js","webpack:///external \"crypto\"","webpack:///external \"events\"","webpack:///external \"stream\"","webpack:///./src/converters.ts","webpack:///./~/image-size/lib/types ^\\.\\/.*$","webpack:///./~/image-size/lib/index.js","webpack:///./~/image-size/lib/types.js","webpack:///./~/image-size/lib/types/bmp.js","webpack:///./~/image-size/lib/types/dds.js","webpack:///./~/image-size/lib/types/gif.js","webpack:///./~/image-size/lib/types/jpg.js","webpack:///./~/image-size/lib/types/png.js","webpack:///./~/image-size/lib/types/psd.js","webpack:///./~/image-size/lib/types/svg.js","webpack:///./~/image-size/lib/types/tiff.js","webpack:///./~/image-size/lib/types/webp.js","webpack:///./~/lodash/_Stack.js","webpack:///./~/lodash/_assignValue.js","webpack:///./~/lodash/_baseAssignValue.js","webpack:///./~/lodash/_baseGet.js","webpack:///./~/lodash/_baseIsEqual.js","webpack:///./~/lodash/_baseKeys.js","webpack:///./~/lodash/_castPath.js","webpack:///./~/lodash/_copyObject.js","webpack:///./~/lodash/_defineProperty.js","webpack:///./~/lodash/_equalArrays.js","webpack:///./~/lodash/_freeGlobal.js","webpack:///./~/lodash/_getTag.js","webpack:///./~/lodash/_isIterateeCall.js","webpack:///./~/lodash/_isStrictComparable.js","webpack:///./~/lodash/_matchesStrictComparable.js","webpack:///./~/lodash/_toSource.js","webpack:///./~/tmp/lib/tmp.js","webpack:///./~/xmlbuilder/lib/XMLCData.js","webpack:///./~/xmlbuilder/lib/XMLComment.js","webpack:///./~/xmlbuilder/lib/XMLDeclaration.js","webpack:///./~/xmlbuilder/lib/XMLDocType.js","webpack:///./~/xmlbuilder/lib/XMLElement.js","webpack:///./~/xmlbuilder/lib/XMLProcessingInstruction.js","webpack:///(webpack)/buildin/module.js","webpack:///external \"assert\"","webpack:///external \"buffer\"","webpack:///external \"child_process\"","webpack:///external \"core-js/es6/promise\"","webpack:///external \"core-js/es6/set\"","webpack:///external \"core-js/fn/array/from\"","webpack:///external \"core-js/fn/object/assign\"","webpack:///external \"fs-extra\"","webpack:///external \"lodash\"","webpack:///external \"net\"","webpack:///external \"os\"","webpack:///external \"reselect\"","webpack:///external \"tty\"","webpack:///external \"util\"","webpack:///external \"uuid\"","webpack:///external \"zlib\"","webpack:///./src/bpfImporter.ts","webpack:///./src/bpfToJson.ts","webpack:///./src/index.ts","webpack:///./src/signBuilder.ts","webpack:///./src/store/reducers.ts","webpack:///webpack:/webpack/bootstrap aef148c1a47d618d27ac","webpack:///webpack:/external \"path\"","webpack:///webpack:///~/fluent-ffmpeg/lib/utils.js","webpack:///webpack:/external \"util\"","webpack:///webpack:/external \"fs\"","webpack:///webpack:///~/pngjs/lib/constants.js","webpack:///webpack:/external \"stream\"","webpack:///webpack:/external \"zlib\"","webpack:///webpack:/external \"fs-extra\"","webpack:///webpack:///lib/error.ts","webpack:///webpack:///~/async/dist/async.js","webpack:///webpack:/external \"child_process\"","webpack:///webpack:///lib/fileOperations.ts","webpack:///webpack:///~/debug/src/debug.js","webpack:///webpack:///~/exif/lib/exif/makernotes/agfa.js","webpack:///webpack:///~/exif/lib/exif/makernotes/epson.js","webpack:///webpack:///~/exif/lib/exif/makernotes/fujifilm.js","webpack:///webpack:///~/exif/lib/exif/makernotes/olympus.js","webpack:///webpack:///~/exif/lib/exif/makernotes/panasonic.js","webpack:///webpack:///~/exif/lib/exif/makernotes/sanyo.js","webpack:///webpack:///~/get-stream/~/object-assign/index.js","webpack:///webpack:///~/jpeg-js/index.js","webpack:///webpack:///~/parse-png/index.js","webpack:///webpack:///~/pngjs/lib/bitmapper.js","webpack:///webpack:///~/pngjs/lib/chunkstream.js","webpack:///webpack:///~/pngjs/lib/crc.js","webpack:///webpack:///~/pngjs/lib/filter-parse.js","webpack:///webpack:///~/pngjs/lib/format-normaliser.js","webpack:///webpack:///~/pngjs/lib/interlace.js","webpack:///webpack:///~/pngjs/lib/packer.js","webpack:///webpack:///~/pngjs/lib/paeth-predictor.js","webpack:///webpack:///~/pngjs/lib/parser.js","webpack:///webpack:///~/pngjs/lib/png.js","webpack:///webpack:///~/pngjs/lib/sync-reader.js","webpack:///webpack:/external \"assert\"","webpack:///webpack:/external \"image-size\"","webpack:///webpack:///lib/exif.ts","webpack:///webpack:///lib/folderEnumerator.ts","webpack:///webpack:///lib/thumbnail.ts","webpack:///webpack:/external \"core-js/es6/promise\"","webpack:///webpack:///~/bmp-js/index.js","webpack:///webpack:///~/bmp-js/lib/decoder.js","webpack:///webpack:///~/bmp-js/lib/encoder.js","webpack:///webpack:///~/debug/src/browser.js","webpack:///webpack:///~/debug/src/index.js","webpack:///webpack:///~/debug/src/node.js","webpack:///webpack:///~/exif/lib/exif/Buffer.js","webpack:///webpack:///~/exif/lib/exif/ExifImage.js","webpack:///webpack:///~/exif/lib/exif/index.js","webpack:///webpack:/~/exif/lib/exif/makernotes ^/.//.*$","webpack:///webpack:///~/file-type/index.js","webpack:///webpack:///~/fluent-ffmpeg/index.js","webpack:///webpack:///~/fluent-ffmpeg/lib/capabilities.js","webpack:///webpack:///~/fluent-ffmpeg/lib/ffprobe.js","webpack:///webpack:///~/fluent-ffmpeg/lib/fluent-ffmpeg.js","webpack:///webpack:///~/fluent-ffmpeg/lib/options","webpack:///webpack:///~/fluent-ffmpeg/lib/options/audio.js","webpack:///webpack:///~/fluent-ffmpeg/lib/options/custom.js","webpack:///webpack:///~/fluent-ffmpeg/lib/options/inputs.js","webpack:///webpack:///~/fluent-ffmpeg/lib/options/misc.js","webpack:///webpack:///~/fluent-ffmpeg/lib/options/output.js","webpack:///webpack:///~/fluent-ffmpeg/lib/options/video.js","webpack:///webpack:///~/fluent-ffmpeg/lib/options/videosize.js","webpack:///webpack:///~/fluent-ffmpeg/lib/processor.js","webpack:///webpack:///~/fluent-ffmpeg/lib/recipes.js","webpack:///webpack:///~/get-stream/buffer-stream.js","webpack:///webpack:///~/get-stream/index.js","webpack:///webpack:///~/isexe/index.js","webpack:///webpack:///~/isexe/mode.js","webpack:///webpack:///~/isexe/windows.js","webpack:///webpack:///~/jimp/resize.js","webpack:///webpack:///~/jpeg-js/lib/decoder.js","webpack:///webpack:///~/jpeg-js/lib/encoder.js","webpack:///webpack:///~/ms/index.js","webpack:///webpack:///~/pinkie-promise/index.js","webpack:///webpack:///~/pinkie/index.js","webpack:///webpack:///~/pngjs/lib/bitpacker.js","webpack:///webpack:///~/pngjs/lib/filter-pack.js","webpack:///webpack:///~/pngjs/lib/filter-parse-async.js","webpack:///webpack:///~/pngjs/lib/filter-parse-sync.js","webpack:///webpack:///~/pngjs/lib/packer-async.js","webpack:///webpack:///~/pngjs/lib/packer-sync.js","webpack:///webpack:///~/pngjs/lib/parser-async.js","webpack:///webpack:///~/pngjs/lib/parser-sync.js","webpack:///webpack:///~/pngjs/lib/png-sync.js","webpack:///webpack:///~/pngjs/lib/sync-inflate.js","webpack:///webpack:///~/resize-img/index.js","webpack:///webpack:///(webpack)/buildin/module.js","webpack:///webpack:///~/which/which.js","webpack:///webpack:/external \"buffer\"","webpack:///webpack:/external \"crypto\"","webpack:///webpack:/external \"events\"","webpack:///webpack:/external \"net\"","webpack:///webpack:/external \"os\"","webpack:///webpack:/external \"tmp\"","webpack:///webpack:/external \"tty\"","webpack:///./~/image-size/lib/detector.js","webpack:///./~/image-size/lib/readUInt.js","webpack:///./~/lodash/_DataView.js","webpack:///./~/lodash/_Hash.js","webpack:///./~/lodash/_Promise.js","webpack:///./~/lodash/_Set.js","webpack:///./~/lodash/_SetCache.js","webpack:///./~/lodash/_Uint8Array.js","webpack:///./~/lodash/_WeakMap.js","webpack:///./~/lodash/_apply.js","webpack:///./~/lodash/_arrayEvery.js","webpack:///./~/lodash/_arrayFilter.js","webpack:///./~/lodash/_arrayLikeKeys.js","webpack:///./~/lodash/_arrayMap.js","webpack:///./~/lodash/_arrayPush.js","webpack:///./~/lodash/_arraySome.js","webpack:///./~/lodash/_baseAssign.js","webpack:///./~/lodash/_baseCreate.js","webpack:///./~/lodash/_baseEach.js","webpack:///./~/lodash/_baseEvery.js","webpack:///./~/lodash/_baseFor.js","webpack:///./~/lodash/_baseForOwn.js","webpack:///./~/lodash/_baseGetAllKeys.js","webpack:///./~/lodash/_baseHasIn.js","webpack:///./~/lodash/_baseIsArguments.js","webpack:///./~/lodash/_baseIsEqualDeep.js","webpack:///./~/lodash/_baseIsMatch.js","webpack:///./~/lodash/_baseIsNative.js","webpack:///./~/lodash/_baseIsTypedArray.js","webpack:///./~/lodash/_baseIteratee.js","webpack:///./~/lodash/_baseMatches.js","webpack:///./~/lodash/_baseMatchesProperty.js","webpack:///./~/lodash/_baseProperty.js","webpack:///./~/lodash/_basePropertyDeep.js","webpack:///./~/lodash/_baseRest.js","webpack:///./~/lodash/_baseSetToString.js","webpack:///./~/lodash/_baseTimes.js","webpack:///./~/lodash/_baseToString.js","webpack:///./~/lodash/_baseUnary.js","webpack:///./~/lodash/_cacheHas.js","webpack:///./~/lodash/_coreJsData.js","webpack:///./~/lodash/_createAssigner.js","webpack:///./~/lodash/_createBaseEach.js","webpack:///./~/lodash/_createBaseFor.js","webpack:///./~/lodash/_equalByTag.js","webpack:///./~/lodash/_equalObjects.js","webpack:///./~/lodash/_getAllKeys.js","webpack:///./~/lodash/_getMatchData.js","webpack:///./~/lodash/_getRawTag.js","webpack:///./~/lodash/_getSymbols.js","webpack:///./~/lodash/_getValue.js","webpack:///./~/lodash/_hasPath.js","webpack:///./~/lodash/_hashClear.js","webpack:///./~/lodash/_hashDelete.js","webpack:///./~/lodash/_hashGet.js","webpack:///./~/lodash/_hashHas.js","webpack:///./~/lodash/_hashSet.js","webpack:///./~/lodash/_isKeyable.js","webpack:///./~/lodash/_isMasked.js","webpack:///./~/lodash/_listCacheClear.js","webpack:///./~/lodash/_listCacheDelete.js","webpack:///./~/lodash/_listCacheGet.js","webpack:///./~/lodash/_listCacheHas.js","webpack:///./~/lodash/_listCacheSet.js","webpack:///./~/lodash/_mapCacheClear.js","webpack:///./~/lodash/_mapCacheDelete.js","webpack:///./~/lodash/_mapCacheGet.js","webpack:///./~/lodash/_mapCacheHas.js","webpack:///./~/lodash/_mapCacheSet.js","webpack:///./~/lodash/_mapToArray.js","webpack:///./~/lodash/_memoizeCapped.js","webpack:///./~/lodash/_nativeKeys.js","webpack:///./~/lodash/_nodeUtil.js","webpack:///./~/lodash/_objectToString.js","webpack:///./~/lodash/_overArg.js","webpack:///./~/lodash/_overRest.js","webpack:///./~/lodash/_setCacheAdd.js","webpack:///./~/lodash/_setCacheHas.js","webpack:///./~/lodash/_setToArray.js","webpack:///./~/lodash/_setToString.js","webpack:///./~/lodash/_shortOut.js","webpack:///./~/lodash/_stackClear.js","webpack:///./~/lodash/_stackDelete.js","webpack:///./~/lodash/_stackGet.js","webpack:///./~/lodash/_stackHas.js","webpack:///./~/lodash/_stackSet.js","webpack:///./~/lodash/_stringToPath.js","webpack:///./~/lodash/assign.js","webpack:///./~/lodash/constant.js","webpack:///./~/lodash/every.js","webpack:///./~/lodash/get.js","webpack:///./~/lodash/hasIn.js","webpack:///./~/lodash/isEmpty.js","webpack:///./~/lodash/memoize.js","webpack:///./~/lodash/property.js","webpack:///./~/lodash/stubArray.js","webpack:///./~/lodash/stubFalse.js","webpack:///./~/lodash/toString.js","webpack:///./~/os-tmpdir/index.js","webpack:///./~/redux-thunk/lib/index.js","webpack:///./~/sax/lib/sax.js","webpack:///./~/xml2js/lib/bom.js","webpack:///./~/xml2js/lib/processors.js","webpack:///./~/xml2js/lib/xml2js.js","webpack:///./~/xmlbuilder/lib/XMLAttribute.js","webpack:///./~/xmlbuilder/lib/XMLBuilder.js","webpack:///./~/xmlbuilder/lib/XMLDTDAttList.js","webpack:///./~/xmlbuilder/lib/XMLDTDElement.js","webpack:///./~/xmlbuilder/lib/XMLDTDEntity.js","webpack:///./~/xmlbuilder/lib/XMLDTDNotation.js","webpack:///./~/xmlbuilder/lib/XMLRaw.js","webpack:///./~/xmlbuilder/lib/XMLStringifier.js","webpack:///./~/xmlbuilder/lib/XMLText.js","webpack:///./~/xmlbuilder/lib/index.js","webpack:///external \"string_decoder\"","webpack:///external \"timers\""],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACRA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;AACA;AACA,gBAAgB;;AAEhB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,SAAS;AAC/C;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,0CAA0C,UAAU;AACpD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;AC1UD,+C;;;;;;ACAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA,+B;;;;;;ACAA,iC;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;;AAEA;AACA;;AAEA;;;;;;;ACLA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;;AAEA;;;;;;;ACLA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA,kC;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;A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AAC,CAAC;YAC7C,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE;mBACrC,CAAC,CAAC,IAAI,CAAC,cAAc,GAAG,sDAAmC,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,cAAc,CAAC;oBACzG,kDAA+B,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC,CAAC;QACpF,CAAC,CAAC,CAAC;AACP,CAAC,CACF,CAAC;;;;;;;ACnKF,yC;;;;;;;;;;;ACAA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;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sBAAsB;;AAEtC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;ACxGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACZA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;AChBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;AClBA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB;AACzB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;AC7DA;;AAEA;AACA;AACA,+BAA+B;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACnCA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;AChBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;AC7EA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACrHA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACpEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,EAAE;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvCA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;ACVA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClFA;AACA;;AAEA;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,iBAAiB,aAAa;AAC9B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,YAAY;AACtD;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,IAAI;AACf,WAAW,OAAO;AAClB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxeA;AACA;AACA;AACA,sCAAsC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC9R,gBAAgB;;AAEhB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;AChDD;AACA;AACA;AACA,sCAAsC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC9R,gBAAgB;;AAEhB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;AChDD;AACA;AACA;AACA,sCAAsC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC9R,gBAAgB;;AAEhB;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;AChED;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,SAAS;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;AC3LD;AACA;AACA;AACA,sCAAsC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC9R,gBAAgB;;AAEhB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,SAAS;AAC/C;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,uCAAuC,UAAU;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;ACnND;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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AK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,yC;;;;;;;ACAA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,0BAA0B;AAC1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B;AACA,aAAa,OAAO;AACpB,aAAa,aAAa;AAC1B;AACA,aAAa,aAAa;AAC1B;AACA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,gCAAgC;AAChC,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC,UAAU,EAAE;AAC5C;;AAEA;AACA;AACA,mCAAmC,OAAO,EAAE;AAC5C;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACtcA,yC;;;;;;ACAA,yC;;;;;;;ACAA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;ACjCA,yC;;;;;;ACAA,yC;;;;;;ACAA,yC;;;;;;;;;;;;;;;;;;;ACIA,IAAY,WAGX;AAHD,WAAY,WAAW;IACrB,2EAAmB;IACnB,uEAAiB;AACnB,CAAC,EAHW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAGtB;AAED,IAAM,cAAc;IAClB,GAAC,WAAW,CAAC,mBAAmB,IAAG,qCAAqC;IACxE,GAAC,WAAW,CAAC,iBAAiB,IAAG,gBAAgB;OAClD,CAAC;AAEF;IAA6B,2BAAK;IAIhC,iBAAY,IAAiB,EAAE,MAAe;QAA9C,YACE,iBAAO,SAQR;QAZD,UAAI,GAAG,SAAS,CAAC;QAKf,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACX,KAAI,CAAC,OAAO,GAAG,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,MAAM,CAAC;QACtD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,KAAI,CAAC,OAAO,GAAG,cAAc,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC;QACD,MAAM,CAAC,cAAc,CAAC,KAAI,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC;;IACjD,CAAC;IACH,cAAC;AAAD,CAAC,CAd4B,KAAK,GAcjC;AAdY,0BAAO;;;;;;;;ACdpB;AACA;AACA;AACA,6CAA6C;AAC7C,CAAC,4BAA4B;;AAE7B;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,8BAA8B,oBAAoB;AAClD,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA,8CAA8C,kBAAkB,EAAE;AAClE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0BAA0B;AACpD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B,gCAAgC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,UAAU,gBAAgB;AAC1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB,wBAAwB,oBAAoB;AAC7E;AACA,WAAW,KAAK;AAChB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,mCAAmC;AAChE;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,WAAW,sBAAsB,wBAAwB,oBAAoB;AAC7E;AACA,WAAW,KAAK;AAChB;AACA,WAAW,SAAS;AACpB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,KAAK;AAChB;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA8C,oBAAoB;AAClE;AACA;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA,IAAI,oBAAoB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,mDAAmD,oBAAoB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,WAAW,SAAS;AACpB;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,2BAA2B,sDAAsD;AACjF,QAAQ;AACR,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,0BAA0B;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,EAAE;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,qDAAqD,8BAA8B;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,8BAA8B;AACtE;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,WAAW,OAAO,oDAAoD,oBAAoB;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,2BAA2B,8CAA8C;AACzE;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,2BAA2B,8CAA8C;AACzE,QAAQ;AACR;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,qCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qDAAqD,+BAA+B;AACpF,aAAa,OAAO;AACpB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,OAAO;AACrB;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,+BAA+B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,WAAW,cAAc;AACzB;AACA,WAAW,OAAO;AAClB,gDAAgD;AAChD;AACA,aAAa,+BAA+B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,eAAe,YAAY;AAC3B;AACA,IAAI;AACJ,eAAe,YAAY;AAC3B;AACA,IAAI;AACJ,eAAe,YAAY;AAC3B;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,gCAAgC;AAC1D;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,EAAE;AACb,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,iCAAiC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,WAAW,iBAAiB;AAC5B,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,8BAA8B,wCAAwC;AACtE,YAAY;AACZ,8BAA8B,kDAAkD;AAChF;AACA,QAAQ;AACR,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,gCAAgC;AAC1D;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mDAAmD,mCAAmC;AACtF,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,sCAAsC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA,0BAA0B,gCAAgC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,gCAAgC;AAC1D;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,4CAA4C,oBAAoB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA,2BAA2B,YAAY;AACvC,QAAQ;AACR;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,wCAAwC,gCAAgC;AACxE;AACA;AACA,kCAAkC,kCAAkC;AACpE;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,WAAW,cAAc;AACzB;AACA,WAAW,cAAc;AACzB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,wCAAwC,gCAAgC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,WAAW,cAAc;AACzB;AACA,WAAW,SAAS;AACpB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,kCAAkC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,WAAW,cAAc;AACzB;AACA,WAAW,SAAS;AACpB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,WAAW,cAAc;AACzB;AACA,WAAW,cAAc;AACzB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C,QAAQ;AACR,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA,yBAAyB,+BAA+B;AACxD;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,+BAA+B;AACxD;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,kCAAkC,uBAAuB;AACzD;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,SAAS;AACpB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA,0BAA0B,gCAAgC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA,0BAA0B,gCAAgC;AAC1D;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,SAAS;AACpB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,iCAAiC;AAC5D;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD,SAAS;AACT,KAAK;AACL;AACA;AACA;;AAEA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA,gBAAgB;AAChB,IAAI;AACJ;AACA;;AAEA;AACA,2BAA2B,iCAAiC;AAC5D;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,mCAAmC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA,yBAAyB,6BAA6B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;AACA,6BAA6B,mCAAmC;AAChE;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,OAAO;AACpD;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,2BAA2B;AACxD;AACA;AACA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,qBAAqB,oBAAoB;AACzC;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;AACA;AACA;AACA,YAAY;AACZ;AACA,IAAI;AACJ,qCAAqC;AACrC,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,kCAAkC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,WAAW,sBAAsB;AACjC,qBAAqB,oBAAoB;AACzC;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,OAAO;AACpB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,QAAQ;AACtB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,OAAO;AACrB;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA;AACA,mBAAmB,uCAAuC;AAC1D;AACA,eAAe,eAAe,IAAI;AAClC,cAAc,SAAS;AACvB;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA,cAAc,OAAO;AACrB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,QAAQ;AACtB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA,cAAc,SAAS;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,aAAa,+BAA+B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA,IAAI;AACJ,WAAW,YAAY;AACvB;AACA,IAAI;AACJ;AACA;AACA,YAAY,YAAY,EAAE,YAAY,EAAE,YAAY;AACpD;AACA,IAAI;AACJ;AACA;AACA,cAAc,YAAY;AAC1B;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,6BAA6B,+BAA+B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,aAAa,+BAA+B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,+CAA+C;AAChE;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA;;AAEA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,eAAe;AACtD,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,uCAAuC,eAAe;AACtD;AACA,SAAS;;AAET;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA,8BAA8B,gCAAgC;AAC9D;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,WAAW,sBAAsB;AACjC,WAAW,SAAS;AACpB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,WAAW,sBAAsB;AACjC,qBAAqB,oBAAoB;AACzC,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA,0BAA0B,gCAAgC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA,0BAA0B,gCAAgC;AAC1D;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,WAAW,sBAAsB;AACjC,WAAW,SAAS;AACpB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,WAAW,SAAS,GAAG,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,WAAW,cAAc,UAAU,sBAAsB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,gBAAgB,wBAAwB;AACxC;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA,iCAAiC,+BAA+B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,WAAW,cAAc,UAAU,sBAAsB;AACzD;AACA,WAAW,cAAc;AACzB;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,qBAAqB,oBAAoB;AACzC;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;AACA;AACA;AACA,YAAY;AACZ;AACA,IAAI;AACJ,oCAAoC;AACpC,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA,4BAA4B;AAC5B,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD,SAAS;AACT,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,YAAY,aAAa;AACzB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA,WAAW,SAAS,4BAA4B,6BAA6B;AAC7E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,6BAA6B;AAChE;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA,WAAW,SAAS,iBAAiB,6BAA6B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,WAAW,OAAO;AAClB,WAAW,cAAc;AACzB;AACA,WAAW,SAAS,iBAAiB,6BAA6B;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,EAAE;AACb;AACA,WAAW,cAAc;AACzB;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA,QAAQ;AACR,IAAI;AACJ,8BAA8B;AAC9B,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,WAAW,cAAc;AACzB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,cAAc;AACzB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB,EAAE;AACvC;AACA;AACA;AACA;AACA,YAAY;AACZ,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,WAAW,SAAS;AACpB;AACA,WAAW,cAAc;AACzB;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM,uCAAuC;AACxD;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,kGAAkG;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,4BAA4B;AAC5E;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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C,CAAC;QACrC,MAAM,CAAC,yBAAyB,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,KAAK,CAAC,CAAC;IAC3F,CAAC;IAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;QACf,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;AACH,CAAC;AAPD,oDAOC;;;;;;;;AC7ED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA,cAAc;AACd;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B,4BAA4B;AAC5B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACzMA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;;AAEA;;AAEA,E;;;;;;ACrJA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;;AAEA;;AAEA,E;;;;;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA;AACA;;AAEA;;AAEA,E;;;;;;AC5EA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA;AACA;;AAEA;;AAEA,E;;;;;;ACnJA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;AClIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;;AAEA;;AAEA,E;;;;;;;ACtEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACzFA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACNA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA,EAAE;AACF;;;;;;;;ACpBA;;AAEA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;AACH,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;AACH,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;AACH,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mEAAmE;AACnE;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC,mBAAmB,gBAAgB;AACnC;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA,wEAAwE;AACxE;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC,mBAAmB,gBAAgB;AACnC;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+BAA+B;AAC9C;;AAEA,0BAA0B,4BAA4B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACpMA;;;AAGA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAsB;;AAEtB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;;AAEA;AACA,sBAAsB;;AAEtB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChNA;;AAEA;;AAEA;AACA,iBAAiB,SAAS;AAC1B;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;;;;;;;;AC3CA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1KA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B,mBAAmB,WAAW;AAC9B;;AAEA;AACA;AACA;;AAEA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B,mBAAmB,WAAW;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B,mBAAmB,WAAW;AAC9B,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB;;AAEvB,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH,GAAG;AACH;AACA;AACA,GAAG;AACH,GAAG;AACH;AACA;AACA,GAAG;AACH,GAAG;AACH;AACA;AACA,GAAG;AACH,GAAG;AACH;AACA;AACA,GAAG;AACH,GAAG;AACH;AACA;AACA,GAAG;AACH,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iDAAiD;AACpE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACtFA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,kCAAkC;AAClC,mCAAmC;AACnC,cAAc;AACd,cAAc;AACd,cAAc;;AAEd;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AClGA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;AChBA;;AAEA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;;AAEA;;AAEA;AACA,0CAA0C;AAC1C;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;AChSA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,0BAA0B;;AAE1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA,4EAA4E;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,YA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+B,QAAQ;AACvC,mBAAmB,UAAU;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,qC;;AAEA;;AAEA;AACA;AACA;AACA;AACA,uC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,+BAA+B,QAAQ;AACvC,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,qC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,QAAQ;AACvC,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;AC5LA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC;AACxC,kDAAkD;AAClD,kDAAkD;AAClD,gDAAgD;;AAEhD,wDAAwD;AACxD,+CAA+C;AAC/C,gDAAgD;AAChD,gDAAgD;AAChD,+CAA+C;AAC/C,kDAAkD;AAClD,iDAAiD;AACjD,4CAA4C;AAC5C,4CAA4C;AAC5C,gDAAgD;AAChD,yDAAyD;;AAEzD;AACA;;AAEA,8BAA8B,QAAQ;AACtC,iBAAiB,gBAAgB;AACjC;AACA,qCAAqC;AACrC,sCAAsC;AACtC,qCAAqC;AACrC;AACA;AACA;AACA;AACA,4D;AACA;AACA;;AAEA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACxLA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;;;;;;ACTA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,2CAA2C,yBAAyB;;AAEpE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,IAAI;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC;;AAEtC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C,mBAAmB;AAC9D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACrPA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA,E;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA,6CAAyC;AACzC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,0C;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA,cAAc;AACd,kBAAkB;AAClB,aAAa;AACb,YAAY;AACZ,wBAAwB;AACxB,kBAAkB;AAClB;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,OAAO;AACP;AACA,4B;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,GAAG;AACH;;AAEA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,KAAK;AACL;;AAEA,KAAK;AACL;;AAEA,KAAK;AACL;;AAEA,KAAK;AACL;;AAEA,KAAK;AACL;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA,KAAK,O;AACL;AACA;AACA;AACA,kI;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,wD;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,E;;;;;;ACxiCA,yC;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uB;;;;;;;AC5BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACncA;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;;;AAGA;AACA,2BAA2B,qCAAqC;AAChE;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,sCAAsC;AAC3E;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;;;AAGA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB;AACA;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,4BAA4B;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,sCAAsC;AAC1E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,8CAA8C;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,8CAA8C;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;;;AAGA;AACA,2BAA2B,sCAAsC;AACjE;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,+BAA+B;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC,sCAAsC;AAC5E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,8CAA8C;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;AACL;;;AAGA;AACA,2BAA2B,qCAAqC;AAChE;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO;AACpB;AACA,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,sCAAsC;AAC3E;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;;AAEP;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;;AAEX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;;AAEX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;ACxpBA;AACA;;AAEA;;;AAGA,yBAAyB,2BAA2B;AACpD,iCAAiC,mCAAmC;;AAEpE;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA,+BAA+B,4BAA4B;AAC3D;AACA;AACA;AACA,aAAa,WAAW;AACxB,aAAa,OAAO,iCAAiC;AACrD;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,aAAa,8BAA8B;AAC3C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+DAA+D,QAAQ;AACvE;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,WAAW;;AAEX;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;;;;;;;ACpQA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,sBAAsB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wBAAwB;AACxB,uBAAuB;AACvB,uBAAuB;AACvB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;ACjOA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA,4B;;;;;;;ACNA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,4BAA4B;AACzC;AACA,aAAa,OAAO;AACpB,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACjLA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;AACL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,0DAA0D;AACrE;AACA;AACA,WAAW,6BAA6B,aAAa,+BAA+B;AACpF;AACA;AACA,WAAW,6BAA6B,aAAa,iCAAiC;AACtF;AACA;AACA,WAAW,6BAA6B,aAAa,gCAAgC;AACrF;AACA;AACA,WAAW,0BAA0B,qBAAqB,oCAAoC;AAC9F;AACA;AACA,WAAW,8BAA8B,eAAe,mDAAmD;AAC3G;AACA;AACA,WAAW,8BAA8B,iBAAiB,+BAA+B;AACzF;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA,aAAa,OAAO;AACpB,aAAa,aAAa;AAC1B;AACA,aAAa,aAAa;AAC1B;AACA,aAAa,oBAAoB;AACjC,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iFAAiF;;AAEjF;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;;;;;;;;ACnNA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,2CAA2C,GAAG;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACjLA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACxCA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO,aAAa;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,2CAA2C,GAAG;AAC9C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjKA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,4BAA4B;AACzC;AACA,aAAa,OAAO;AACpB,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvLA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C,IAAI;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA,eAAe,4BAA4B,uBAAuB;AAClE;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,iBAAiB,4BAA4B,uBAAuB;AACpE;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;AClSA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,YAAY;AACzB,aAAa,YAAY;AACzB;;AAEA;AACA;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B,aAAa,YAAY;AACzB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA,yBAAyB,iBAAiB;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA,sDAAsD;AACtD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;;AAEA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,uBAAuB;AACvB,mBAAmB;AACnB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;;;;;;;ACppBA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B;AACA,aAAa,OAAO,8CAA8C;AAClE;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B,UAAU;AACV;AACA,aAAa,kBAAkB;AAC/B,aAAa,QAAQ;AACrB,aAAa,OAAO,yDAAyD;AAC7E,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,oCAAoC,EAAE;AACrF;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe,GAAG,sBAAsB;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;;AAEf;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,SAAS,uBAAuB,cAAc,EAAE;;AAEhD;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa,GAAG,sBAAsB;;AAEtC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;;AAET;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qBAAqB,WAAW;AAChC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;AAEL;AACA;AACA;;;;;;;ACvcA;AACA;;AAEA;AACA,uBAAuB;;AAEvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,+BAA+B,uBAAuB;;AAEtD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;ACrDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,sBAAsB,oBAAoB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA;AACA,yCAAyC,SAAS,mBAAmB;AACrE;;AAEA;AACA,yCAAyC,SAAS,YAAY;AAC9D;;;;;;;AC1DA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B;AAC/B;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,wCAAwC;AACxC,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;ACxDA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACxCA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA4B;AAC5B;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;;;;;;ACzCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gBAAgB;AAChD,2DAA2D,wCAAwC;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,2CAA2C;AAClH;AACA;AACA;AACA;AACA,0FAA0F,wCAAwC;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAAiG,uDAAuD;AACxJ,0FAA0F,wCAAwC;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gDAAgD;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,gDAAgD;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT,kDAAkD,gDAAgD;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oDAAoD;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,oDAAoD;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT,6BAA6B,oDAAoD;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB;AAC1B,6BAA6B,oDAAoD;AACjF;AACA;AACA;AACA;AACA;AACA,yEAAyE,4CAA4C;AACrH;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oDAAoD;AACjF;AACA;AACA;AACA;AACA;AACA,gIAAgI,oDAAoD;AACpL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;AC1WA,kBAAkB,cAAc,uBAAuB;AACvD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA,eAAe,YAAY;AAC3B,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA,OAAO;AACP,mBAAmB,mBAAmB;AACtC,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,yBAAyB,OAAO;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,QAAQ;AACzB;;AAEA;AACA,iBAAiB,OAAO;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,OAAO;AACxB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,4BAA4B;AACtD;AACA,iBAAiB,OAAO;AACxB;AACA,4BAA4B,0BAA0B;AACtD;;AAEA;AACA,mBAAmB,OAAO;AAC1B;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2BAA2B;AACtD;AACA,6BAA6B,yBAAyB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0DAA0D;AAC1D;AACA,4BAA4B,uCAAuC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA,eAAe,+CAA+C;AAC9D,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA,yBAAyB,mBAAmB;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,kCAAkC;AACvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA,uBAAuB,WAAW;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC,uBAAuB,WAAW;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC,uBAAuB,WAAW;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;ACz9BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA,0BAA0B,YAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;;AAEA,kCAAkC;AAClC;;AAEA,2CAA2C;AAC3C,iCAAiC;AACjC;;AAEA;AACA,wBAAwB;AACxB;AACA;;AAEA;AACA,2CAA2C;AAC3C,sCAAsC;AACtC,sCAAsC;AACtC,iCAAiC;;AAEjC,wBAAwB;AACxB;;AAEA,+BAA+B;AAC/B;AACA;AACA;;AAEA,iBAAiB;AACjB;;AAEA;AACA;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA;;AAEA,sCAAsC;AACtC;;AAEA,iDAAiD;AACjD,sCAAsC;AACtC;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA,iDAAiD;AACjD,4CAA4C;AAC5C,4CAA4C;AAC5C,qCAAqC;;AAErC,8BAA8B;AAC9B;;AAEA,oCAAoC;AACpC;AACA;AACA;;AAEA,cAAc;AACd;;AAEA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB,mBAAmB;AACnB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB;;AAEA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB,gBAAgB;AAChB,mBAAmB;AACnB,gBAAgB;AAChB,gBAAgB;AAChB,mBAAmB;AACnB,gBAAgB;AAChB,gBAAgB;AAChB,mBAAmB;AACnB,gBAAgB;AAChB;;AAEA;AACA;AACA,qBAAqB;AACrB,kBAAkB;AAClB;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB,qBAAqB;;AAErB,gBAAgB;AAChB,gBAAgB,MAAM;AACtB;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;;AAEA,mBAAmB;AACnB,gBAAgB,MAAM;AACtB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;;AAEA,gBAAgB;AAChB,gBAAgB,MAAM;AACtB;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;;AAEA,mBAAmB;AACnB,gBAAgB,MAAM;AACtB;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB,mBAAmB;AACnB,gBAAgB;AAChB,mBAAmB;AACnB,gBAAgB;AAChB,mBAAmB;AACnB,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA,yBAAyB;AACzB;AACA;AACA,uBAAuB;AACvB,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS,+BAA+B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,4BAA4B;AACtC;AACA;AACA;AACA,yBAAyB,iBAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,SAAS,MAAM;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,UAAU;AACxB,oBAAoB;AACpB,2BAA2B;AAC3B,2C;;AAEA,yBAAyB;AACzB;AACA;;AAEA,4BAA4B;AAC5B;AACA;;AAEA;AACA;AACA;;;AAGA;AACA,6DAA6D;AAC7D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB;;AAErB;AACA;;AAEA,sCAAsC;;AAEtC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC7vBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvJA;;AAEA;;;;;;;;ACFA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,uBAAuB;AACvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,qBAAqB;AAC/C;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,qBAAqB;AAC/C;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;;;;;;;;ACnSA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B,mBAAmB,WAAW;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACjFA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,iBAAiB,eAAe;;AAEhC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,qBAAqB,YAAY;;AAEjC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,iBAAiB,eAAe;;AAEhC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,eAAe;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;;AAE7B;AACA;AACA;;AAEA,qBAAqB,wBAAwB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtLA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;;;;;;;ACxBA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA,E;;;;;;;ACvBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;AC5CA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;AC5CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;;AAEA,0CAA0C,uBAAuB;AACjE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACjJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,6CAA6C,6CAA6C;AAC1F;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;;;;;;AC/FA;;;AAGA;AACA;;;AAGA;;AAEA,oCAAoC;AACpC;;AAEA;;AAEA;AACA;;;;;;;;ACfA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;AC1JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,wBAAwB;;AAExB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,uBAAuB,uDAAuD;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8DAA8D,KAAK,KAAK;AACxE;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,OAAO;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC,QAAQ;AAChD;AACA;AACA;AACA,8BAA8B,sBAAsB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACnIA,yC;;;;;;ACAA,yC;;;;;;ACAA,yC;;;;;;ACAA,yC;;;;;;ACAA,yC;;;;;;ACAA,yC;;;;;;ACAA,yC;;;;;;;;;;;;ACAA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACVA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC1BA;;AAEA;AACA;;AAEA;;;;;;;ACLA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;AC7BA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,aAAa;AAC1B;AACA;;AAEA;;;;;;;ACbA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClFA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;;AAEA;AACA;;AAEA;;;;;;;ACLA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;ACpCA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/GA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7CA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;AC7BA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AClBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;ACzBA;;AAEA;AACA;;AAEA;;;;;;;ACLA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACjBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,WAAW,SAAS,GAAG,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,YAAY,OAAO;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,+CAA+C;AACrD,MAAM;AACN;AACA;AACA;AACA,mBAAmB,oCAAoC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA,0BAA0B,gBAAgB,SAAS,GAAG;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5EA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACxEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA,MAAM,OAAO,SAAS,EAAE;AACxB,MAAM,OAAO,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC3BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;ACxBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2B;;;;;;ACtBA,CAAC,iBAAiB;AAClB,uCAAuC;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,YAAY;AAClC;AACA,yBAAyB,mBAAmB,cAAc;AAC1D,wBAAwB,0BAA0B;AAClD,wBAAwB;AACxB;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,qCAAqC;;AAEjE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;;AAEA;AACA;AACA;AACA,mDAAmD,OAAO;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gDAAgD,oBAAoB;AACpE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB;AACtB;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA,WAAW,OAAO,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,CAAC,wBAAgD;;;;;;;AC5hDjD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,CAAC;;;;;;;ACXD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;ACjCD;AACA;AACA;AACA;AACA,sCAAsC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC9R,gBAAgB;AAChB,4BAA4B,mBAAmB,gCAAgC,GAAG;;AAElF;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,eAAe;AACf;AACA,eAAe;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,sDAAsD,GAAG;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,GAAG;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;AC9hBD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;AC/BD;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;ACpED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;ACnED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;AC7CD;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;ACnFD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;ACvDD;AACA;AACA;AACA,sCAAsC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC9R,gBAAgB;;AAEhB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;AChDD;AACA;AACA;AACA,4BAA4B,mBAAmB,gCAAgC,GAAG,EAAE;AACpF,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD;AAClD,yCAAyC,sBAAsB,sBAAsB,wBAAwB;AAC7G;;AAEA;AACA;AACA,kDAAkD;AAClD,yCAAyC,sBAAsB,wBAAwB;AACvF;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;ACzKD;AACA;AACA;AACA,sCAAsC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC9R,gBAAgB;;AAEhB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;;AAEH,CAAC;;;;;;;AChDD;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,uBAAuB;AACvB;AACA;;AAEA,CAAC;;;;;;;ACbD,2C;;;;;;ACAA,mC","file":"bpfimporter.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@brightsign/bscore\"), require(\"fs\"), require(\"path\"), require(\"redux\"), require(\"crypto\"), require(\"events\"), require(\"stream\"), require(\"assert\"), require(\"buffer\"), require(\"child_process\"), require(\"core-js/es6/promise\"), require(\"core-js/es6/set\"), require(\"core-js/fn/array/from\"), require(\"core-js/fn/object/assign\"), require(\"fs-extra\"), require(\"lodash\"), require(\"net\"), require(\"os\"), require(\"reselect\"), require(\"tty\"), require(\"util\"), require(\"uuid\"), require(\"zlib\"), require(\"string_decoder\"), require(\"timers\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@brightsign/bscore\", \"fs\", \"path\", \"redux\", \"crypto\", \"events\", \"stream\", \"assert\", \"buffer\", \"child_process\", \"core-js/es6/promise\", \"core-js/es6/set\", \"core-js/fn/array/from\", \"core-js/fn/object/assign\", \"fs-extra\", \"lodash\", \"net\", \"os\", \"reselect\", \"tty\", \"util\", \"uuid\", \"zlib\", \"string_decoder\", \"timers\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bpfimporter\"] = factory(require(\"@brightsign/bscore\"), require(\"fs\"), require(\"path\"), require(\"redux\"), require(\"crypto\"), require(\"events\"), require(\"stream\"), require(\"assert\"), require(\"buffer\"), require(\"child_process\"), require(\"core-js/es6/promise\"), require(\"core-js/es6/set\"), require(\"core-js/fn/array/from\"), require(\"core-js/fn/object/assign\"), require(\"fs-extra\"), require(\"lodash\"), require(\"net\"), require(\"os\"), require(\"reselect\"), require(\"tty\"), require(\"util\"), require(\"uuid\"), require(\"zlib\"), require(\"string_decoder\"), require(\"timers\"));\n\telse\n\t\troot[\"bpfimporter\"] = factory(root[\"@brightsign/bscore\"], root[\"fs\"], root[\"path\"], root[\"redux\"], root[\"crypto\"], root[\"events\"], root[\"stream\"], root[\"assert\"], root[\"buffer\"], root[\"child_process\"], root[\"core-js/es6/promise\"], root[\"core-js/es6/set\"], root[\"core-js/fn/array/from\"], root[\"core-js/fn/object/assign\"], root[\"fs-extra\"], root[\"lodash\"], root[\"net\"], root[\"os\"], root[\"reselect\"], root[\"tty\"], root[\"util\"], root[\"uuid\"], root[\"zlib\"], root[\"string_decoder\"], root[\"timers\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_21__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_36__, __WEBPACK_EXTERNAL_MODULE_74__, __WEBPACK_EXTERNAL_MODULE_75__, __WEBPACK_EXTERNAL_MODULE_76__, __WEBPACK_EXTERNAL_MODULE_77__, __WEBPACK_EXTERNAL_MODULE_78__, __WEBPACK_EXTERNAL_MODULE_79__, __WEBPACK_EXTERNAL_MODULE_80__, __WEBPACK_EXTERNAL_MODULE_81__, __WEBPACK_EXTERNAL_MODULE_82__, __WEBPACK_EXTERNAL_MODULE_83__, __WEBPACK_EXTERNAL_MODULE_84__, __WEBPACK_EXTERNAL_MODULE_85__, __WEBPACK_EXTERNAL_MODULE_86__, __WEBPACK_EXTERNAL_MODULE_87__, __WEBPACK_EXTERNAL_MODULE_88__, __WEBPACK_EXTERNAL_MODULE_89__, __WEBPACK_EXTERNAL_MODULE_210__, __WEBPACK_EXTERNAL_MODULE_211__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"bpfimporter/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 92);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 61d9486ed9a9fadf088b","var baseAssign = require('./_baseAssign'),\n    baseCreate = require('./_baseCreate');\n\n/**\n * Creates an object that inherits from the `prototype` object. If a\n * `properties` object is given, its own enumerable string keyed properties\n * are assigned to the created object.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Object\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, {\n *   'constructor': Circle\n * });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties) {\n  var result = baseCreate(prototype);\n  return properties == null ? result : baseAssign(result, properties);\n}\n\nmodule.exports = create;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/create.js\n// module id = 0\n// module chunks = 0","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArray.js\n// module id = 1\n// module chunks = 0","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isObject.js\n// module id = 2\n// module chunks = 0","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_root.js\n// module id = 3\n// module chunks = 0","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getNative.js\n// module id = 4\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLElement, XMLNode, XMLRaw, XMLText, isEmpty, isFunction, isObject,\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('lodash/isObject');\n\n  isFunction = require('lodash/isFunction');\n\n  isEmpty = require('lodash/isEmpty');\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      this.options = this.parent.options;\n      this.stringify = this.parent.stringify;\n      if (XMLElement === null) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n      }\n    }\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref, val;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref = [attributes, text], text = ref[0], attributes = ref[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && key.indexOf(this.stringify.convertPIKey) === 0) {\n            lastChild = this.instruction(key.substr(this.stringify.convertPIKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            lastChild = this.element(key);\n            lastChild.element(val);\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref = [])), ref;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        ref = [attributes, text], text = ref[0], attributes = ref[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      doc.xmldec = xmldec;\n      return doc.root();\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var doc, doctype;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      doc.doctype = doctype;\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var child;\n      if (this.isRoot) {\n        return this;\n      }\n      child = this.parent;\n      while (!child.isRoot) {\n        child = child.parent;\n      }\n      return child;\n    };\n\n    XMLNode.prototype.document = function() {\n      return this.root().documentObject;\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().toString(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(xmlbuilder) {\n      var clonedRoot;\n      clonedRoot = xmlbuilder.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLNode.js\n// module id = 5\n// module chunks = 0","module.exports = require(\"@brightsign/bscore\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@brightsign/bscore\"\n// module id = 6\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGetTag.js\n// module id = 7\n// module chunks = 0","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArrayLike.js\n// module id = 8\n// module chunks = 0","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isObjectLike.js\n// module id = 9\n// module chunks = 0","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/keys.js\n// module id = 10\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 12\n// module chunks = 0","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_ListCache.js\n// module id = 13\n// module chunks = 0","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Symbol.js\n// module id = 14\n// module chunks = 0","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_assocIndexOf.js\n// module id = 15\n// module chunks = 0","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getMapData.js\n// module id = 16\n// module chunks = 0","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nativeCreate.js\n// module id = 17\n// module chunks = 0","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_toKey.js\n// module id = 18\n// module chunks = 0","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/eq.js\n// module id = 19\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isFunction.js\n// module id = 20\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 21\n// module chunks = 0","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"path\"), require(\"util\"), require(\"fs\"), require(\"stream\"), require(\"zlib\"), require(\"fs-extra\"), require(\"@brightsign/bscore\"), require(\"child_process\"), require(\"assert\"), require(\"image-size\"), require(\"core-js/es6/promise\"), require(\"buffer\"), require(\"crypto\"), require(\"events\"), require(\"net\"), require(\"os\"), require(\"tmp\"), require(\"tty\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"path\", \"util\", \"fs\", \"stream\", \"zlib\", \"fs-extra\", \"@brightsign/bscore\", \"child_process\", \"assert\", \"image-size\", \"core-js/es6/promise\", \"buffer\", \"crypto\", \"events\", \"net\", \"os\", \"tmp\", \"tty\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fsConnector\"] = factory(require(\"path\"), require(\"util\"), require(\"fs\"), require(\"stream\"), require(\"zlib\"), require(\"fs-extra\"), require(\"@brightsign/bscore\"), require(\"child_process\"), require(\"assert\"), require(\"image-size\"), require(\"core-js/es6/promise\"), require(\"buffer\"), require(\"crypto\"), require(\"events\"), require(\"net\"), require(\"os\"), require(\"tmp\"), require(\"tty\"));\n\telse\n\t\troot[\"fsConnector\"] = factory(root[\"path\"], root[\"util\"], root[\"fs\"], root[\"stream\"], root[\"zlib\"], root[\"fs-extra\"], root[\"@brightsign/bscore\"], root[\"child_process\"], root[\"assert\"], root[\"image-size\"], root[\"core-js/es6/promise\"], root[\"buffer\"], root[\"crypto\"], root[\"events\"], root[\"net\"], root[\"os\"], root[\"tmp\"], root[\"tty\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_34__, __WEBPACK_EXTERNAL_MODULE_35__, __WEBPACK_EXTERNAL_MODULE_39__, __WEBPACK_EXTERNAL_MODULE_90__, __WEBPACK_EXTERNAL_MODULE_91__, __WEBPACK_EXTERNAL_MODULE_92__, __WEBPACK_EXTERNAL_MODULE_93__, __WEBPACK_EXTERNAL_MODULE_94__, __WEBPACK_EXTERNAL_MODULE_95__, __WEBPACK_EXTERNAL_MODULE_96__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition\n\n\n// WEBPACK FOOTER //\n// webpack:///webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1b5fe0c6be4f18e9aac2\n\n\n// WEBPACK FOOTER //\n// webpack:/webpack/bootstrap 1b5fe0c6be4f18e9aac2","module.exports = require(\"@brightsign/bscore\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@brightsign/bscore\"\n// module id = 10\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"@brightsign/bscore\"","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 1\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"lodash\"","/** @module Actions:Sign */\n/**\n * Created by jsugg on 10/11/16.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport {\n  VideoMode, PlayerModel, VideoConnectorType, MonitorOrientationType, MonitorOverscanType, DeviceWebPageDisplay,\n  TouchCursorDisplayModeType, GraphicsZOrderType, UdpAddressType, LanguageType, LanguageKeyType, BsColor,\n} from '@brightsign/bscore';\nimport { BsDmId, DmSerialPortList, DmGpioList, DmButtonPanelMap, DmAudioSignPropertyMap} from '../bsDmInterfaces';\n\nimport { BsDmAction, BsDmThunkAction } from './actionBase';\nimport { DmSignState, dmCheckForInvalidDmSignState } from '../reducers/index';\nimport { createDefaultSignProperties } from '../reducers/reducerSign';\n\n// Actions for Sign and Sign metadata\n\n// Actions\n/** @internal */\n/** @private */\nexport const NEW_SIGN = 'DM_NEW_SIGN';\n/** @internal */\n/** @private */\nexport const UPDATE_SIGN_PROPS = 'DM_UPDATE_SIGN_PROPS';\n/** @internal */\n/** @private */\nexport const UPDATE_SIGN_SERIAL_PORTS = 'DM_UPDATE_SIGN_SERIAL_PORTS';\n/** @internal */\n/** @private */\nexport const UPDATE_SIGN_GPIO = 'DM_UPDATE_SIGN_GPIO';\n/** @internal */\n/** @private */\nexport const UPDATE_SIGN_BPMAP = 'DM_UPDATE_SIGN_BPMAP';\n/** @internal */\n/** @private */\nexport const UPDATE_SIGN_AUDIO_CONFIG = 'DM_UPDATE_SIGN_AUDIO_CONFIG';\n/** @internal */\n/** @private */\nexport const OPEN_SIGN = 'DM_OPEN_SIGN';\n\nexport interface SignParams {\n  id: BsDmId;\n  name?: string;\n  videoMode?: VideoMode;\n  model?: PlayerModel;\n  monitorOrientation?: MonitorOrientationType;\n  monitorOverscan?: MonitorOverscanType;\n  videoConnector?: VideoConnectorType;\n  deviceWebPageDisplay?: DeviceWebPageDisplay;\n  backgroundScreenColor?: BsColor;\n  forceResolution?: boolean;\n  tenBitColorEnabled?: boolean;\n  htmlEnableJavascriptConsole?: boolean;\n  alphabetizeVariableNames?: boolean;\n  autoCreateMediaCounterVariables?: boolean;\n  resetVariablesOnPresentationStart?: boolean;\n  networkedVariablesUpdateInterval?: number;\n  delayScheduleChangeUntilMediaEndEvent?: boolean;\n  language?: LanguageType;\n  languageKey?: LanguageKeyType;\n  flipCoordinates?: boolean;\n  isMosaic?: boolean;\n  inactivityTimeout?: boolean;\n  inactivityTime?: number;\n  touchCursorDisplayMode?: TouchCursorDisplayModeType;\n  graphicsZOrder?: GraphicsZOrderType;\n  udpDestinationAddressType?: UdpAddressType;\n  udpDestinationAddress?: string;\n  udpDestinationPort?: number;\n  udpReceiverPort?: number;\n}\nexport type SignAction = BsDmAction<SignParams>;\n\n/**\n * Return action to create a new, empty sign with the given parameters\n *\n * @param name {string} - name of the sign\n * @param [mode] {VideoMode} - default: user default, initial value = 1920x1080x60p\n * @param [model] {PlayerModel} - default: user default, initial value = PlayerModel.XT1143\n * @returns SignAction object\n */\nexport function dmNewSign(name: string, mode?: VideoMode, model?: PlayerModel): SignAction {\n  return {\n    type: NEW_SIGN,\n    payload: createDefaultSignProperties(newBsDmId(), name, mode, model),\n  };\n}\n\n/**\n * Return action to update sign properties with the given parameters\n * Sign properties include all scalar metadata (i.e., this doesn;t include hardware configurations\n *  or Sign Component collections\n *\n * @param params {SignParams} - sign property parameters to update\n * @returns SignAction object\n */\n// TODO - refactor as thunk function and verify parameters\nexport function dmUpdateSignProperties(params: SignParams): SignAction {\n  return {\n    type: UPDATE_SIGN_PROPS,\n    payload: params,\n  };\n}\n\nexport interface SerialPortListParams {\n  params: DmSerialPortList;\n}\nexport type SerialPortListAction = BsDmAction<SerialPortListParams>;\n\n/**\n * Return action to update one or more of the eight DmSerialPortConfiguration objects associated with the sign.\n * Note that only the serial port configuration objects included in the list will be updated - all serial\n *  port configurations do NOT have to be contained in this list (but can be)\n *  The port to be updated is specified by the port property of the DmSerialPortConfiguration object\n *\n * @param params {SerialPortListParams} - object containing an array of one or more DmSerialPortConfiguration objects\n *  for ports to update\n * @returns SerialPortListAction object\n */\nexport function dmUpdateSignSerialPorts(params: SerialPortListParams): SerialPortListAction {\n  return {\n    type: UPDATE_SIGN_SERIAL_PORTS,\n    payload: params,\n  };\n}\n\nexport interface GpioListParams {\n  params: DmGpioList;\n}\nexport type GpioListAction = BsDmAction<GpioListParams>;\n\n/**\n * Return action to update the GpioList object associated with the sign.\n * Note that the array must have specifications for all eight Gpio connections - partial updates\n *  are not possible in this action.\n *\n * @param params {GpioListParams} - object containing an array of GPIO specification strings\n *  (either GpioType.Input or GpioType.Output)\n * @returns GpioListAction object\n */\nexport function dmUpdateSignGpio(params: GpioListParams): GpioListAction {\n  return {\n    type: UPDATE_SIGN_GPIO,\n    payload: params,\n  };\n}\n\nexport interface ButtonPanelMapParams {\n  params: DmButtonPanelMap;\n}\nexport type ButtonPanelMapAction = BsDmAction<ButtonPanelMapParams>;\n\n/**\n * Return action to update one or more of the DmBpConfiguration objects associated with the sign.\n * Note that only the button panel configuration objects included in the list will be updated - all button panel\n *  configurations do NOT have to be contained in the map (but can be)\n * The button panel to be updated is specified by the key of the DmBpConfiguration object in the map\n * Valid BP names are the strings associated with the ButtonPanelName enum:\n *   ['bp900a','bp900b','bp900c','bp200a','bp200b','bp200c']\n *\n * @param params {ButtonPanelMapParams} - object containing a map of one or more DmBpConfiguration objects to update\n * @returns ButtonPanelMapAction object\n */\nexport function dmUpdateSignButtonPanelMap(params: ButtonPanelMapParams): ButtonPanelMapAction {\n  return {\n    type: UPDATE_SIGN_BPMAP,\n    payload: params,\n  };\n}\n\nexport interface AudioSignPropertyMapParams {\n  params: DmAudioSignPropertyMap;\n}\nexport type AudioSignPropertyMapAction = BsDmAction<AudioSignPropertyMapParams>;\n\n/**\n * Return action to update one or more of the DmAudioSignProperties objects associated with the sign.\n * Note that only the audio sign property objects included in the list will be updated - all audio\n *  property objects do NOT have to be contained in the map (but can be)\n * The audio output to be updated is specified by the key of the DmAudioSignProperties object in the map\n * Valid audio names are the strings associated with the AudioOutputName enum:\n *   ['analog1','analog2','analog3','usbA','usbB','usbC','usbD','hdmi','spdif']\n *\n * @param params {AudioSignPropertyMapParams} - object containing a map of one or more DmAudioSignProperties\n *  objects to update\n * @returns AudioSignPropertyMapAction object\n */\nexport function dmUpdateSignAudioPropertyMap(params: AudioSignPropertyMapParams): AudioSignPropertyMapAction {\n  return {\n    type: UPDATE_SIGN_AUDIO_CONFIG,\n    payload: params,\n  };\n}\n\nexport interface OpenSignParams {\n  newState: DmSignState;\n}\nexport type OpenSignAction = BsDmAction<OpenSignParams>;\n\n/**\n * Return action to set state to a new sign from a given DmSignState object.\n * This function returns a simple action which is batchable (using redux-batch-actions.)\n * It does no validation of the DmSignState parameter. Clients should validate the DmSignState parameter\n *  before creating this action. Validation can be done using dmCheckForInvalidDmSignState.\n *\n * @param newState {DmSignState} - state object for new sign\n * @returns OpenSignAction object\n */\nexport function dmOpenSign(newState: DmSignState): OpenSignAction {\n  return {\n    type: OPEN_SIGN,\n    payload: {newState},\n  };\n}\n\n/**\n * Return thunk which resolves with action to set state to a new sign from a given DmSignState object.\n * The thunk validates the DmSignState parameter and throws an error if the\n *  given DmSignState is not valid.\n *\n * @param newState {DmSignState} - state object for new sign\n * @retuns BsDmThunkAction which resolves with OpenSignAction if DmSignState is valid.\n *  If the sign state is not valid a BsDmError is thrown\n */\nexport function dmVerifyAndOpenSign(newState: DmSignState): BsDmThunkAction<OpenSignParams> {\n  return (dispatch): OpenSignAction  => {\n    const action: OpenSignAction = {type: OPEN_SIGN, payload: {newState}};\n    const stateError = dmCheckForInvalidDmSignState(newState);\n    if (stateError) {\n      stateError.attachAction(action);\n      throw stateError;\n    }\n    return dispatch(action);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionSign.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionSign.ts","/**\n * Created by jimsugg on 9/22/16.\n */\n\nimport {v4} from 'uuid';\n\n/** @internal */\n/** @private */\nexport const newBsDmId = () => v4();\n\nconst reValidId = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n/** @internal */\n/** @private */\nexport const isValidBsDmId = (id: string): boolean => {\n  const ret = id.match(reValidId);\n  return ret && id === ret[0];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/utils.ts","/** @module Interfaces */\n/**\n * Created by jimsugg on 5/1/16.\n */\n\nimport {\n  VideoMode, PlayerModel, VideoConnectorType, MonitorOrientationType, MonitorOverscanType,  DeviceWebPageDisplay,\n  TouchCursorDisplayModeType, GraphicsZOrderType, UdpAddressType,\n  ZoneType, ViewModeType, ImageModeType, LiveVideoInputType, MosaicMaxContentResolutionType, LiveVideoStandardType,\n  AudioOutputSelectionType, AudioModeType, AudioMappingType, AudioOutputType, AudioMixModeType,\n  RotationType, TextHAlignmentType, TextScrollingMethodType,\n  ContentItemType, VideoDisplayModeType, EventType, TransitionType,\n  AccessType, HtmlSiteType, DataFeedType, DataFeedUsageType,\n  StringParameterType, CompareOperator, LanguageType, LanguageKeyType, GpioType, BsAssetItem,\n  BsColor, BsRect,\n} from '@brightsign/bscore';\n\n// region Base Definitions\n\n/**\n * @type BsDmId {string} - a GUID string that identifies a data model object. These IDs are typically generated\n *  automatically when new objects are added.\n */\nexport type BsDmId = string;    // GUID string\nexport const BsDmIdNone = '0';\nexport const BsDmStateVersion = '0.6.1';\n\n/**\n * @interface String component for use in DmParameterizedString\n * value: if type === 'Text', value = text string\n *        if type = UserVariable, value = BaDmId of UserVariable ID\n */\nexport interface DmStringComponent {\n  type: StringParameterType;\n  value: string;\n}\n\nexport interface DmParameterizedString {\n  params: DmStringComponent[];\n}\n\nexport interface DmIdParam {\n  id: BsDmId;\n}\n\nexport interface DmNameParam {\n  name: string;\n}\n\nexport interface DmTagParam {\n  tag: string;\n}\n\nexport interface DmLocatorParam {\n  locator: string;\n}\n\n// Type value will be a string enum value\nexport interface DmTypeParam {\n  type: string;\n}\n\nexport interface DmFont {\n  name: string;\n  assetId: string;\n}\n\nexport interface DmObject {\n  // Properties\n  readonly id: BsDmId;\n  readonly name: string;\n}\n\n// endregion\n\n// region HtmlSites\n\nexport interface DmLocalHtmlSite extends DmObject {\n  readonly type: 'Local';\n  readonly queryString: DmParameterizedString;\n  readonly indexAssetId: string;\n}\n\nexport interface DmRemoteHtmlSite extends DmObject {\n  readonly type: 'Remote';\n  readonly queryString: DmParameterizedString;\n  readonly url: string;\n}\n\nexport interface DmBrightPlateHtmlSite extends DmObject {\n  readonly type: 'BrightPlate';\n  readonly queryString: DmParameterizedString;\n  readonly brightPlateName: string;\n  readonly displayName: string;\n}\n\nexport type DmHtmlSite = DmLocalHtmlSite | DmRemoteHtmlSite | DmBrightPlateHtmlSite;\n\n// endregion\n\n// region DataFeeds\n\nexport interface DmDataFeed extends DmObject {\n  readonly type: DataFeedType;\n  readonly url: DmParameterizedString | string;\n  readonly usage: DataFeedUsageType;\n  readonly updateInterval: number;\n  readonly useHeadRequest: boolean;\n  readonly parserPlugin: BsDmId;\n  readonly autoGenerateUserVariables: boolean;\n  readonly userVariableAccess: AccessType;\n}\n\nexport interface DmBsnDataFeed extends DmDataFeed {\n  readonly bsnId: number;\n  readonly bsnName: string;\n  readonly supportsAudio: boolean;\n  readonly matchPlayerTags: boolean;\n}\n\n// endregion\n\n// region ContentItems\n\n/**\n * DmContentItem serves as the \"abstract base interface\" for all content item types\n */\nexport interface DmContentItem {\n  readonly name: string;\n  readonly type: ContentItemType;\n}\n\n/**\n * The actual contentItem of a MediaState will always be of type DmDerivedContentItem\n * In other words - it will be one of the derived content item types.\n */\nexport type DmDerivedContentItem =\n  DmMediaContentItem | DmHtmlContentItem |\n  DmDataFeedContentItem | DmMrssDataFeedContentItem |\n  DmLiveVideoContentItem;\n\nexport type DmDerivedNonMediaContentItem =\n  DmHtmlContentItem |\n  DmDataFeedContentItem | DmMrssDataFeedContentItem |\n  DmLiveVideoContentItem;\n\nexport type DmContentItemData =\n  DmVideoContentItemData | DmAudioContentItemData | DmImageContentItemData |\n  DmHtmlContentItemData | DmMrssDataFeedContentItemData | DmLiveVideoContentItemData |\n  DmStreamContentItemData;\n\nexport interface DmMediaContentItem extends DmContentItem {\n  assetId: string;      // file asset ID - this is resolved externally - typically this is a GUID\n}\n\nexport interface DmVideoContentItemData {\n  volume: number;\n  videoDisplayMode: VideoDisplayModeType;\n  automaticallyLoop: boolean;\n}\nexport const DmVideoContentItemDataNameArray = ['volume', 'videoDisplayMode', 'automaticallyLoop'];\nexport interface DmVideoContentItem extends Readonly<DmMediaContentItem>, Readonly<DmVideoContentItemData> {}\n\nexport interface DmAudioContentItemData {\n  volume: number;\n}\nexport const DmAudioContentItemDataNameArray = ['volume'];\nexport interface DmAudioContentItem extends Readonly<DmMediaContentItem>, Readonly<DmAudioContentItemData> {}\n\nexport interface DmImageContentItemData {\n  useImageBuffer: boolean;\n  videoPlayerRequired: boolean;\n}\nexport interface DmImageContentItem extends Readonly<DmMediaContentItem>, Readonly<DmImageContentItemData> {}\nexport interface DmImageContentItemDefaults extends DmImageContentItemData {\n  displayDuration: number;\n}\nexport const DmImageContentItemDataNameArray = ['useImageBuffer', 'videoPlayerRequired', 'displayDuration'];\n\nexport type DmTextContentItem = Readonly<DmMediaContentItem>;\n\nexport interface DmHtmlContentItemData {\n  enableExternalData: boolean;\n  enableMouseEvents: boolean;\n  displayCursor: boolean;\n  hwzOn: boolean;\n  useUserStylesheet: boolean;\n  userStylesheetAssetId?: string;\n  customFonts?: DmFont[];\n}\nexport interface DmHtmlContentItem extends DmContentItem, Readonly<DmHtmlContentItemData> {\n  readonly siteId: BsDmId;\n}\nexport interface DmHtmlContentItemDefaults extends DmHtmlContentItemData {\n  displayDuration: number;\n}\n\nexport interface DmDataFeedContentItem extends DmContentItem {\n  readonly dataFeedId: BsDmId;\n}\nexport const DmHtmlContentItemDataNameArray = [\n  'enableExternalData', 'enableMouseEvents', 'displayCursor', 'hwzOn',\n  'useUserStylesheet', 'userStylesheetAssetId', 'customFonts', 'displayDuration',\n];\n\nexport interface DmMrssDataFeedContentItemData {\n  videoPlayerRequired: boolean;\n}\nexport const DmMrssDataFeedContentItemDataNameArray = ['videoPlayerRequired'];\nexport interface DmMrssDataFeedContentItem extends DmDataFeedContentItem, DmMrssDataFeedContentItemData {}\n\nexport interface DmLiveVideoContentItemData {\n  volume: number;\n  overscan: boolean;\n}\nexport interface DmLiveVideoContentItem extends DmContentItem, DmLiveVideoContentItemData {}\nexport interface DmLiveVideoContentItemDefaults extends DmLiveVideoContentItemData {\n  displayDuration: number;\n}\nexport const DmLiveVideoContentItemDataNameArray = ['volume', 'overscan', 'displayDuration'];\n\nexport interface DmStreamContentItemData {\n  volume: number;\n}\nexport interface DmStreamContentItemDefaults extends DmStreamContentItemData {\n  displayDuration: number;\n}\nexport const DmStreamContentItemDataNameArray = ['volume', 'displayDuration'];\nexport interface DmVideoStreamContentItem extends DmContentItem, DmStreamContentItemData {\n  url: DmParameterizedString;\n}\nexport interface DmAudioStreamContentItem extends DmContentItem, DmStreamContentItemData {\n  url: DmParameterizedString;\n}\n\n// endregion\n\n// region UserVariables\n\nexport interface DmUserVariable extends DmObject {\n  // Properties\n  readonly defaultValue: string;\n  readonly isNetworked: boolean;\n  readonly access: AccessType;\n  readonly dataFeedId: BsDmId;\n  readonly systemVariable: string;    // TODO: use enum for SystemVariableType\n}\n\n// endregion\n\n// region Conditions\n\nexport interface DmCondition extends DmObject {\n  // Properties\n  readonly userVariable: DmUserVariable;\n  readonly compareOperator: CompareOperator;\n  readonly compareValue1: string;\n  readonly compareValue2: string;\n}\n\n// endregion\n\n// region Transitions\n\nexport interface DmTransition extends DmObject {\n  readonly eventId: BsDmId;\n  readonly targetMediaStateId: BsDmId;\n  readonly type: TransitionType;\n  readonly duration: number;\n  readonly condition?: DmCondition;\n  // TODO - conditional transition chains must be ordered (linked list?)\n}\n\n// endregion\n\n// region Events\n\nexport interface DmTimer {\n  interval: number;\n}\nexport type DmEventData = DmTimer | undefined;  // To be extended with other event data types\n\nexport interface DmEvent extends DmObject {\n  readonly type: EventType;\n  readonly mediaStateId: BsDmId;\n  readonly data: DmEventData;\n}\n\n// endregion\n\n// region MediaStates\n\nexport enum MediaStateContainerType {\n  Zone,\n  MediaList,\n  SuperState,\n}\n\nexport interface DmMediaStateContainer {\n  id: BsDmId;\n  type: MediaStateContainerType;\n}\n\nexport interface DmMediaState extends DmObject {\n  readonly container: DmMediaStateContainer;\n  readonly contentItem: DmDerivedContentItem;\n}\n\n// endregion\n\n// region Zones\n\nexport interface DmZone extends DmObject {\n  readonly type: ZoneType;\n  readonly tag: string;\n  readonly nonInteractive: boolean;\n  readonly initialMediaStateId: BsDmId;\n  readonly position: BsRect;\n  readonly properties: DmZoneSpecificProperties;\n}\n\n// Zone IDs mapped by tags\nexport interface DmZoneTagMap {\n  [tag: string]: BsDmId;\n}\n\nexport type DmZoneSpecificProperties =\n  DmAudioZoneProperties | DmVideoZoneProperties | DmImageZoneProperties |\n  DmVideoOrImagesZoneProperties | DmEnhancedAudioZoneProperties |\n  DmTickerZoneProperties | DmClockZoneProperties | {};\n\nexport interface DmAudioZonePropertyData {\n  audioOutput: AudioOutputSelectionType;\n  audioMode: AudioModeType;\n  audioMapping: AudioMappingType;\n  audioOutputAssignments: DmAudioOutputAssignmentMap;\n  audioMixMode: AudioMixModeType;\n  audioVolume: number;\n  minimumVolume: number;\n  maximumVolume: number;\n}\nexport type DmAudioZoneProperties = Readonly<DmAudioZonePropertyData>;\n\nexport interface DmEnhancedAudioZonePropertyData {\n  fadeLength: number;\n}\nexport interface DmEnhancedAudioZoneProperties\n  extends DmAudioZoneProperties, Readonly<DmEnhancedAudioZonePropertyData> {}\n\nexport interface DmImageZonePropertyData {\n  imageMode: ImageModeType;\n}\nexport type DmImageZoneProperties = Readonly<DmImageZonePropertyData>;\n\nexport interface DmVideoZonePropertyData {\n  viewMode: ViewModeType;\n  liveVideoInput: LiveVideoInputType;\n  liveVideoStandard: LiveVideoStandardType;\n  videoVolume: number;\n  brightness: number;\n  contrast: number;\n  saturation: number;\n  hue: number;\n  zOrderFront: boolean;\n  mosaic: boolean;\n  maxContentResolution: MosaicMaxContentResolutionType;\n  mosaicDecoderName?: string;\n}\nexport interface DmVideoZoneProperties extends DmAudioZoneProperties, Readonly<DmVideoZonePropertyData> {}\n\nexport interface DmVideoOrImagesZoneProperties extends DmVideoZoneProperties, DmImageZoneProperties {}\n\nexport interface DmWidget {\n  foregroundTextColor: BsColor;\n  backgroundTextColor: BsColor;\n  font: string;\n  fontSize: number;\n  backgroundBitmapAssetId: string;\n  stretchBitmapFile: boolean;\n  safeTextRegion: BsRect;\n}\n\nexport interface DmTextWidget {\n  numberOfLines: number;\n  delay: number;\n  rotation: RotationType;\n  alignment: TextHAlignmentType;\n  scrollingMethod: TextScrollingMethodType;\n}\n\nexport interface DmTickerZonePropertyData {\n  textWidget: DmTextWidget;\n  widget: DmWidget;\n  scrollSpeed: number;\n}\n\nexport interface DmTickerZoneProperties {\n  readonly textWidget: Readonly<DmTextWidget>;\n  readonly widget: Readonly<DmWidget>;\n  readonly scrollSpeed: number;\n}\n\nexport interface DmClockZonePropertyData {\n  displayTime: boolean;\n  rotation: RotationType;\n  widget: DmWidget;\n}\nexport type DmClockZoneProperties = Readonly<DmClockZonePropertyData>;\n\n// endregion\n\n// region Sign Metadata\n\nexport interface DmSignMetadata {\n  readonly properties: DmSignProperties;\n  readonly serialPortConfigurations: DmSerialPortList;\n  readonly gpio: DmGpioList;\n  readonly buttonPanels: DmButtonPanelMap;\n  readonly audioSignPropertyMap: DmAudioSignPropertyMap;\n}\n\nexport interface DmSignPropertyData {\n  videoMode: VideoMode;\n  model: PlayerModel;\n  monitorOrientation: MonitorOrientationType;\n  monitorOverscan: MonitorOverscanType;\n  videoConnector: VideoConnectorType;\n  deviceWebPageDisplay: DeviceWebPageDisplay;\n  backgroundScreenColor: BsColor;\n  forceResolution: boolean;\n  tenBitColorEnabled: boolean;\n  htmlEnableJavascriptConsole: boolean;\n  alphabetizeVariableNames: boolean;\n  autoCreateMediaCounterVariables: boolean;\n  resetVariablesOnPresentationStart: boolean;\n  networkedVariablesUpdateInterval: number;\n  delayScheduleChangeUntilMediaEndEvent: boolean;\n  language: LanguageType;\n  languageKey: LanguageKeyType;\n  flipCoordinates: boolean;\n  isMosaic: boolean;\n  inactivityTimeout: boolean;\n  inactivityTime: number;\n  touchCursorDisplayMode: TouchCursorDisplayModeType;\n  graphicsZOrder: GraphicsZOrderType;\n  udpDestinationAddressType: UdpAddressType;\n  udpDestinationAddress: string;\n  udpDestinationPort: number;\n  udpReceiverPort: number;\n}\n\nexport interface DmSignProperties extends Readonly<DmSignPropertyData> {\n  readonly id: BsDmId;\n  readonly version: string;\n  readonly name: string;\n}\n\n// Hardware configuration interfaces for Sign metadata\n\nexport interface DmSignHardwareConfiguration {\n  readonly serialPortConfigurations: Readonly<DmSerialPortList>;\n  readonly gpio: Readonly<DmGpioList>;\n  readonly buttonPanels: Readonly<DmButtonPanelMap>;\n  readonly audioSignPropertyMap: Readonly<DmAudioSignPropertyMap>;\n}\n\nexport interface DmSerialPortConfiguration {\n  port: number;\n  baudRate: number;\n  dataBits: number;\n  stopBits: number;\n  parity: string;\n  protocol: string;\n  sendEol: string;\n  receiveEol: string;\n  invertSignals: boolean;\n  connectedDevice: string;\n}\nexport type DmSerialPortList = DmSerialPortConfiguration[];\n\nexport type DmGpioList = GpioType[];\n\nexport interface DmBpConfiguration {\n  configureAutomatically: boolean;\n  configuration: number;\n}\n\nexport interface DmButtonPanelMap {\n  [bpName: string]: DmBpConfiguration;\n}\n\nexport interface DmAudioSignProperties {\n  min: number;\n  max: number;\n}\n\nexport interface DmAudioSignPropertyMap {\n  [audioName: string]: DmAudioSignProperties;\n}\n\nexport interface DmAudioOutputAssignmentMap {\n  [audioName: string]: AudioOutputType;\n}\n\n// endregion\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bsDmInterfaces.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/bsDmInterfaces.ts","/**\n * Created by jimsugg on 9/11/16.\n */\n/** @private */\nimport {\n  VideoMode, PlayerModel, VideoConnectorType, MonitorOrientationType, MonitorOverscanType, DeviceWebPageDisplay,\n  TouchCursorDisplayModeType, GraphicsZOrderType, UdpAddressType,\n  ZoneType, EventType, TransitionType, CompareOperator, LanguageType, LanguageKeyType,\n  HtmlSiteType, DataFeedType, DataFeedUsageType, AccessType, BsAssetItem,\n  BsColor, BsRect,\n  bscGetAbsoluteRectForVideoMode, bscGetPercentageRectForVideoMode,\n} from '@brightsign/bscore';\nimport {\n  BsDmId, BsDmIdNone, MediaStateContainerType, DmMediaStateContainer, DmDerivedContentItem,\n  DmMediaState, DmEvent, DmEventData,\n  DmTransition, DmCondition, DmUserVariable,\n  DmZone, DmZoneSpecificProperties,\n  DmSignMetadata, DmSignProperties, DmSignHardwareConfiguration,\n  DmSerialPortList, DmGpioList, DmButtonPanelMap, DmAudioSignPropertyMap,\n  DmHtmlSite, DmDataFeed, DmBsnDataFeed, DmParameterizedString,\n} from './bsDmInterfaces';\nimport { cloneDeep } from 'lodash';\n\n/**\n * @class\n * @classdesc Objects of this class encapsulate the concept of a MediaStateContainer,\n *  which can hold one or more media states.\n * The most obvious media state container is a zone. However, it is possible for a MediaState to hold\n *  multiple instances of other media states, as in a MediaState with a SuperState\n *  or a MediaList {@link ContentItemType.}\n *\n * This class implements the {@link DmMediaStateContainer} interface, and therefore can be used for action creators\n *  that create actions to add media sates to a container, which require an object parameter conforming to\n *  DmMediaStateContainer to specify the container where the media state is to be added.\n *\n * This object is typically returned as a readonly helper property of an object that can serve\n *  as a media state container.\n * It is also available as a property of {@link DmcMediaState} objects, where it represents the container which\n *  holds that MediaState.\n *\n * @param id {BsDmId} - the ID of the container. For example, if the container is a zone, this should be the zone ID.\n * @param [type=Zone]s {MediaStateContainerType} - the type of container (e.g., Zone, MediaList, SuperState.)\n * @property id {BsDmId} - Container ID\n * @property type {MediaStateContainerType} - Container type\n */\nexport class DmcMediaStateContainer implements DmMediaStateContainer {\n  readonly id: BsDmId;\n  readonly type: MediaStateContainerType;\n\n  constructor(id: BsDmId, type: MediaStateContainerType = MediaStateContainerType.Zone) {\n    this.id = id;\n    this.type = type;\n  }\n}\n\n/**\n * @class\n * @classdesc Objects of this class represent MediaState objects. Media states hold a ContentItem,\n *  which represents the content displayed in a zone while the media state is active. Media states can also\n *  hold one or more events, which are processed by the media state while active.\n *\n * Objects of this class are built by selectors that return MediaStates from the bsDataModel Redux store.\n * It is not recommended that these objects be created by client code.\n *\n *  This object is returned from the following selectors:\n *      [dmGetInitialMediaStateForZone]{@link Selectors:Complex~dmGetInitialMediaStateForZone},\n *      [dmGetMediaStateById]{@link Selectors:Complex~dmGetMediaStateById},\n *      [dmGetMediaStateByName]{@link Selectors:Complex~dmGetMediaStateByName}\n *\n * @param mediaStateState {DmMediaState} - simple normalized state for MediaObject from the bsDataModel Redux store.\n * @param [eventStates] {DmDeNormalizedEvent} - a simple object holding all events associated with the media state,\n *  along with all transitions associated with each event.\n * @param [mediaAssetItem] {BsAssetItem} - if the media state has a content item that is backed by a media file, this\n *  parameter should be provided with the BsAssetItem object for that file.\n * @property id {BsDmId} - MediaState ID\n * @property name {string} - the display name of the media state\n * @property container {DmcMediaStateContainer} - the container in which the media state is contained.\n *  This is typically a zone.\n * @property contentItem {DmDerivedContentItem} - the simple object representing the ContentItem for the media state.\n *  Content item properties depend on the ContentItem type.\n * @property mediaAssetItem {BsAssetItem | null} - if the ContentItem is of type DmMediaContentItem, indicating that\n *  the content is based on a media file, this property holds the BsAssetItem object for that media file.\n *  For ContentItems that are not of type DmMediaContentItem, this property is null.\n * @property assetItem {BsAssetItem | null} - DEPRECATED old name for mediaAssetItem - use mediaAssetItem instead\n * @property eventList{DmcEvent[]} - A list of event objects associated with the media state.\n */\nexport class DmcMediaState {\n\n  readonly id: BsDmId;\n  readonly name: string;\n  readonly container: DmcMediaStateContainer;\n  readonly contentItem: DmDerivedContentItem;\n  readonly mediaAssetItem: BsAssetItem | null;\n  readonly eventList: DmcEvent[];\n\n  // DEPRECATED\n  get assetItem(): BsAssetItem | null {\n    return this.mediaAssetItem;\n  }\n\n  constructor(mediaStateState: DmMediaState, eventStates?: DmDeNormalizedEvent[], mediaAssetItem?: BsAssetItem) {\n    this.id = mediaStateState.id;\n    this.name = mediaStateState.name;\n    this.container = Object.assign({}, mediaStateState.container);\n    this.contentItem = Object.assign({}, mediaStateState.contentItem);\n    this.mediaAssetItem = mediaAssetItem ? Object.assign({}, mediaAssetItem) : null;\n    this.eventList = [];\n\n    if (eventStates) {\n      eventStates.forEach((deNormEventState) => {\n        this.eventList.push(new DmcEvent(deNormEventState.eventState, deNormEventState.transitionStates));\n      });\n    }\n  }\n}\n\n/**\n * @interface DmDeNormalizedEvent - Interface for an object used internally to construct DmcMediaState objects\n *  from normalized data in the bsDataModel Redux store. This object holds a normalized {@link DmEvent} object,\n *  and an array of all normalized {@link DmTransition} objects associated with that event.\n * @property eventState {DmEvent} - normalized event object\n * @property [transitionStates] {DmTransition[]} - array of transition objects associated with the event\n */\nexport interface DmDeNormalizedEvent {\n  eventState: DmEvent;\n  transitionStates?: DmTransition[];\n}\n\n/**\n * @class\n * @classdesc Objects of this class represent Event objects. Events are associated with a MediaState, which\n *  processes the event while active. This event object holds an array of one or more transitions which can\n *  be triggered when the event fires. If there are multple transition, only one is marked as the default transition,\n *  and all others are conditional.\n *\n * Objects of this class are built by selectors that return Events from the bsDataModel Redux store.\n * It is not recommended that these objects be created by client code.\n *\n *  This object is returned from the following selector:\n *      [dmGetEventById]{@link Selectors:Complex~dmGetEventById}\n *\n * @param eventState {DmEvent} - simple normalized state for an Event from the bsDataModel Redux store\n * @param [transitionStates] {DmTransition[]} - array of simple transition objects from the Redux store for all\n *  transitions associated with the event.\n * @property id {BsDmId} - Event ID\n * @property name {string} - the display name of the event\n * @property type {EventType} - type of the event\n * @property mediaStateId {BsDmId} - ID of the mediaState with which the event is associated\n * @property data {any} - data associated with the event. The data properties depend on the event type.\n * @property transitionList {DmcTransition[]} - array of transition objects associated with the event\n * @property defaultTransition {DmcTransition | null} - the default transition for the event.\n *  Null if there is no transition associated with the event.\n */\nexport class DmcEvent {\n\n  readonly id: BsDmId;\n  readonly name: string;\n  readonly type: EventType;\n  readonly mediaStateId: BsDmId;\n  readonly data: DmEventData;\n  readonly transitionList: DmcTransition[];\n\n  get defaultTransition(): DmcTransition | null {\n    if (this.transitionList && this.transitionList.length > 0) {\n      // Default transition is always last in list\n      return this.transitionList[this.transitionList.length - 1];\n    }\n    return null;\n  }\n\n  constructor(eventState: DmEvent, transitionStates?: DmTransition[]) {\n    this.id = eventState.id;\n    this.name = eventState.name;\n    this.type = eventState.type;\n    this.mediaStateId = eventState.mediaStateId;\n    this.data = eventState.data;\n    this.transitionList = [];\n\n    if (transitionStates) {\n      transitionStates.forEach((transitionState) => {\n        this.transitionList.push(new DmcTransition(transitionState));\n      });\n    }\n  }\n}\n\n/**\n * @class\n * @classdesc Objects of this class represent Transition objects, which are associated with events that trigger them.\n *  When triggered, the Transition will switch from the current MediaState (which is the MediaState associated with\n *  the triggering event,) to a new MediaState, called the target MediaState. A transition may be conditional,\n *  which means that it will be executed only if a specified condition is met.\n *\n * Objects of this class are built by selectors that return Transitions from the bsDataModel Redux store.\n * It is not recommended that these objects be created by client code.\n *\n *  This object is returned from the following selector:\n *      [dmGetTransitionById]{@link Selectors:Simple~dmGetTransitionById}\n *\n * @param state {DmTransition} - simple normalized state for a Transition from the bsDataModel Redux store\n * @property id {BsDmId} - Transition ID\n * @property name {string} - the display name of the transition\n * @property eventId {BsDmId} - ID of the event with which the transition is associated\n * @property type {TransitionType} - type of the transition (i.e., type of display transition to be used when switching\n *  from one displayed ContentItem to the next.)\n * @property targetMediaStateId {BsDmId} - ID of the target MediaState\n * @property duration {number} - Duration of the transition in seconds.\n * @property [condition] {DmcCondition | null} - condition under which the transition will be executed, or null if\n *  the transition is to be executed unconditionally\n * @property isDefaultTarget {boolean} - true if the transition is to be executed unconditionally\n */\nexport class DmcTransition {\n\n  readonly id: BsDmId;\n  readonly name: string;\n  readonly eventId: BsDmId;\n  readonly targetMediaStateId: BsDmId;\n  readonly type: TransitionType;\n  readonly duration: number;\n  readonly condition?: DmcCondition;\n\n  get isDefaultTarget(): boolean {\n    return this.condition === null;\n  }\n\n  constructor(state: DmTransition) {\n    this.id = state.id;\n    this.name = state.name;\n    this.eventId = state.eventId;\n    this.targetMediaStateId = state.targetMediaStateId;\n    this.type = state.type;\n    this.duration = state.duration;\n    if (state.condition) {\n      this.condition = new DmcCondition(state.condition);\n    } else {\n      this.condition = null;\n    }\n  }\n}\n\n/**\n * @class\n * @classdesc Objects of this class represent a condition specification used with conditional transitions\n *  which are evaluated at run time.\n *\n * A condition specification comprises an expression which compares the content of a user with one or two\n *  constant string values.\n *\n * Support for conditional transitions is not currently implemented, and this object is currently\n *  not supported. It is here as a placeholder.\n *\n * @param state {DmCondition} - simple normalized state for a Condition from the bsDataModel Redux store\n * @property id {BsDmId} - Condition ID\n * @property name {string} - the display name of the condition\n * @property userVariable {DmUserVariable} - the user variable to be used as the parameter in the condition\n * @property compareOperator {CompareOperator} - the compare operator for the condition expression\n * @property compareValue1 {string} - Compare value to be compared against the user variable. For comparisons\n *  that use two values (e.g., CompareOperator.Btw), this is the lower bound compare value.\n * @property compareValue2 {string} - Compare value to be used as the higher bound compare value for comparisons that\n *  take two compare values.\n */\nexport class DmcCondition {\n\n  readonly id: BsDmId;\n  readonly name: string;\n  readonly userVariable: DmUserVariable;\n  readonly compareOperator: CompareOperator;\n  readonly compareValue1: string;\n  readonly compareValue2: string;\n\n  constructor(state: DmCondition) {\n    this.id = state.id;\n    this.name = state.name;\n    this.userVariable = state.userVariable;\n    this.compareOperator = state.compareOperator;\n    this.compareValue1 = state.compareValue1;\n    this.compareValue2 = state.compareValue2;\n  }\n}\n\n/**\n * @class\n * @classdesc Objects of this class represent a zone in the current sign (presentation.)\n *\n * Objects of this class are built by selectors that return Transitions from the bsDataModel Redux store.\n * It is not recommended that these objects be created by client code.\n *\n *  This object is returned from the following selectors:\n *      [dmGetZoneById]{@link Selectors:Simple~dmGetZoneById},\n *      [dmGetZoneByName]{@link Selectors:Simple~dmGetZoneByName},\n *      [dmGetZoneByTag]{@link Selectors:Simple~dmGetZoneByTag}\n *\n * @param state {DmZone} - simple normalized state for a Zone from the bsDataModel Redux store\n * @param videoMode {VideoMode} - VideoMode for the sign containing the zone\n * @property id {BsDmId} - Zone ID\n * @property name {string} - the display name of the zone\n * @property type {ZoneType} - type of the zone\n * @property tag {string} - a string, typically very short, which can be used to identify the zone\n * @property nonInteractive {boolean} - true if the zone is to be used for a nonInteractive playlist\n * @property initialMediaStateId {BsDmId} - ID of the initial (startup) MediaState in the zone\n * @property position {BsRect} - a rectangle specifying the display position of the zone within the overall\n *  video canvas rectangle of the sign. Using {@link BsRect), the position coordinates can be expressed as either\n *  absolute pixel values or as percentages of the enclosing video canvas.\n * @property properties {DmZoneSpecificProperties} - object containing zone properties that are specific\n *  to the zone type.\n * @property containerObject {DmcMediaStateContainer} - container object which can be used with action creators\n *  that add a MediaState to the zone.\n * @property absolutePosition {BsRect} - a rectangle structure specifying the zone position in absoluie pixel\n *  coordinates (based on current VideoMode, if position was originally defined by percentage coordinates)\n * @property percentagePosition {BsRect} - a rectangle structure specifying the zone position in percentage\n *  coordinates (based on current VideoMode, if position was originally defined by absolute coordinates)\n */\nexport class DmcZone {\n\n  readonly id: BsDmId;\n  readonly name: string;\n  readonly type: ZoneType;\n  readonly tag: string;\n  readonly nonInteractive: boolean;\n  readonly initialMediaStateId: BsDmId;\n  readonly position: BsRect;\n  readonly properties: Readonly<DmZoneSpecificProperties>;\n\n  get containerObject(): DmcMediaStateContainer {\n    return this._containerObject;\n  }\n\n  get absolutePosition(): BsRect {\n    return this.position.pct ? bscGetAbsoluteRectForVideoMode(this.position, this._videoMode) : this.position;\n  }\n\n  get percentagePosition(): BsRect {\n    return this.position.pct ? this.position : bscGetPercentageRectForVideoMode(this.position, this._videoMode);\n  }\n\n  /** @internal */\n  private _videoMode: VideoMode;\n  /** @internal */\n  private _containerObject: DmcMediaStateContainer;\n\n  constructor(state: DmZone, videoMode: VideoMode) {\n    this.id = state.id;\n    this.name = state.name;\n    this.type = state.type;\n    this.tag = state.tag;\n    this.nonInteractive = state.nonInteractive;\n    this.initialMediaStateId = state.initialMediaStateId;\n    this.position = Object.assign({}, state.position);\n    this.properties = cloneDeep(state.properties);\n    this._videoMode = videoMode;\n    this._containerObject = new DmcMediaStateContainer(this.id);\n    Object.freeze(this._containerObject);\n  }\n}\n\n/**\n * @class\n * @classdesc Objects of this class represent the sign (presentation) metadatafor the current sign, including\n *  hardware configuration specification objects.\n *\n * Objects of this class are built by selectors that return SignMetadata from the bsDataModel Redux store.\n * It is not recommended that these objects be created by client code.\n *\n *  This object is returned from the following selector:\n *      [dmGetSignMetaData]{@link Selectors:Simple~dmGetSignMetaData}\n *\n * @param state {DmSignMetadata} - simple normalized state for a SignMetadata from the bsDataModel Redux store\n * @property id {BsDmId} - Sign ID\n * @property version {string} - Current version of the data shape used for the sign\n * @property name {string} - the display name of the presentation\n * @property videoMode {VideoMode} - VideoMode for the sign (video resolution and frame rate)\n * @property model {PlayerModel} - player model for which the sign was designed\n * @property monitorOrientation {MonitorOrientationType} - monitor orientation (Landscape, Portrait)\n * @property monitorOverscan {MonitorOverscanType}\n * @property videoConnector {VideoConnectorType} - connector used for display\n * @property deviceWebPageDisplay {DeviceWebPageDisplay} - specification for device web page to be used\n * @property backgroundScreenColor {BsColor}\n * @property forceResolution {boolean}\n * @property tenBitColorEnabled {boolean}\n * @property htmlEnableJavascriptConsole {boolean} - true to enable console for HTML widgets\n * @property alphabetizeVariableNames {boolean} - true to maintain user variable names in alphabetized list\n * @property autoCreateMediaCounterVariables {boolean}\n * @property resetVariablesOnPresentationStart {boolean}\n * @property networkedVariablesUpdateInterval {number} - update interval in seconds for networked user variables\n * @property delayScheduleChangeUntilMediaEndEvent {boolean}\n * @property language {LanguageType}\n * @property languageKey {LanguageKeyType}\n * @property flipCoordinates {boolean}\n * @property isMosaic {boolean} - true to enable Mosaic mode\n * @property inactivityTimeout {boolean}\n * @property inactivityTime {number} - timeout value in seconds\n * @property touchCursorDisplayMode {TouchCursorDisplayModeType}\n * @property graphicsZOrder {GraphicsZOrderType} - video and image layer ordering specification\n * @property udpDestinationAddressType {UdpAddressType} - type of UDP address specified\n * @property udpDestinationAddress {string} - specification for UDP address\n * @property udpDestinationPort {number} - destination port number to be used when transmitting UDP messages\n * @property udpReceiverPort {number} - port number on which to listen for UDP messages\n * @property serialPortConfigurations {DmSerialPortList} - array of {@link DmSerialPortConfiguration} objects,\n *  one for each of up to eight serial ports\n * @property gpio {DmGpioList} - array of eight {@link GpioType} specifiers, one for each GPIO channel\n * @property buttonPanels {DmButtonPanelMap} - map of specifications for button panels. The key for each mapping is\n *  a {@link ButtonPanelName}, and the value is an object of type {@link DmBpConfiguration}\n * @property audioSignPropertyMap {DmAudioSignPropertyMap} - map of specifications for audio outputs.\n *  The key for each mapping is an {@link AudioOutputName}, and the value is an object of type\n *  {@link DmAudioSignProperties}.\n */\nexport class DmcSignMetadata implements DmSignProperties, DmSignHardwareConfiguration {\n\n  readonly id: BsDmId;\n  readonly version: string;\n  readonly name: string;\n  readonly videoMode: VideoMode;\n  readonly model: PlayerModel;\n  readonly monitorOrientation: MonitorOrientationType;\n  readonly monitorOverscan: MonitorOverscanType;\n  readonly videoConnector: VideoConnectorType;\n  readonly deviceWebPageDisplay: DeviceWebPageDisplay;\n  readonly backgroundScreenColor: BsColor;\n  readonly forceResolution: boolean;\n  readonly tenBitColorEnabled: boolean;\n  readonly htmlEnableJavascriptConsole: boolean;\n  readonly alphabetizeVariableNames: boolean;\n  readonly autoCreateMediaCounterVariables: boolean;\n  readonly resetVariablesOnPresentationStart: boolean;\n  readonly networkedVariablesUpdateInterval: number;\n  readonly delayScheduleChangeUntilMediaEndEvent: boolean;\n  readonly language: LanguageType;\n  readonly languageKey: LanguageKeyType;\n  readonly flipCoordinates: boolean;\n  readonly isMosaic: boolean;\n  readonly inactivityTimeout: boolean;\n  readonly inactivityTime: number;\n  readonly touchCursorDisplayMode: TouchCursorDisplayModeType;\n  readonly graphicsZOrder: GraphicsZOrderType;\n  readonly udpDestinationAddressType: UdpAddressType;\n  readonly udpDestinationAddress: string;\n  readonly udpDestinationPort: number;\n  readonly udpReceiverPort: number;\n\n  readonly serialPortConfigurations: Readonly<DmSerialPortList>;\n  readonly gpio: Readonly<DmGpioList>;\n  readonly buttonPanels: Readonly<DmButtonPanelMap>;\n  readonly audioSignPropertyMap: Readonly<DmAudioSignPropertyMap>;\n\n  constructor(state: DmSignMetadata) {\n    this.id = state.properties.id;\n    this.version = state.properties.version;\n    this.name = state.properties.name;\n    this.videoMode = state.properties.videoMode;\n    this.model = state.properties.model;\n    this.monitorOrientation = state.properties.monitorOrientation;\n    this.monitorOverscan = state.properties.monitorOverscan;\n    this.videoConnector = state.properties.videoConnector;\n    this.deviceWebPageDisplay = state.properties.deviceWebPageDisplay;\n    this.backgroundScreenColor = Object.assign({}, state.properties.backgroundScreenColor);\n    this.forceResolution = state.properties.forceResolution;\n    this.tenBitColorEnabled = state.properties.tenBitColorEnabled;\n    this.htmlEnableJavascriptConsole = state.properties.htmlEnableJavascriptConsole;\n    this.alphabetizeVariableNames = state.properties.alphabetizeVariableNames;\n    this.autoCreateMediaCounterVariables = state.properties.autoCreateMediaCounterVariables;\n    this.resetVariablesOnPresentationStart = state.properties.resetVariablesOnPresentationStart;\n    this.networkedVariablesUpdateInterval = state.properties.networkedVariablesUpdateInterval;\n    this.delayScheduleChangeUntilMediaEndEvent = state.properties.delayScheduleChangeUntilMediaEndEvent;\n    this.language = state.properties.language;\n    this.languageKey = state.properties.languageKey;\n    this.flipCoordinates = state.properties.flipCoordinates;\n    this.isMosaic = state.properties.isMosaic;\n    this.inactivityTimeout = state.properties.inactivityTimeout;\n    this.inactivityTime = state.properties.inactivityTime;\n    this.touchCursorDisplayMode = state.properties.touchCursorDisplayMode;\n    this.graphicsZOrder = state.properties.graphicsZOrder;\n    this.udpDestinationAddressType = state.properties.udpDestinationAddressType;\n    this.udpDestinationAddress = state.properties.udpDestinationAddress;\n    this.udpDestinationPort = state.properties.udpDestinationPort;\n    this.udpReceiverPort = state.properties.udpReceiverPort;\n    this.serialPortConfigurations = cloneDeep(state.serialPortConfigurations);\n    this.gpio = state.gpio.slice();\n    this.buttonPanels = Object.assign({}, state.buttonPanels);\n    this.audioSignPropertyMap = Object.assign({}, state.audioSignPropertyMap);\n  }\n}\n\n/**\n * @class\n * @classDesc The HtmlSite class represents an HTML Site object that is created and managed as part\n *  of the sign HTML Site collection. References to HTML Site objects are used in content items\n *  that display HTML content.\n *\n * It is not expected that this object will be directly constructed by client code.\n *\n * This object is returned from the following selectors:\n *      [dmGetHtmlSiteById]{@link Selectors:Simple~dmGetHtmlSiteById},\n *      [dmGetHtmlSiteByName]{@link Selectors:Simple~dmGetHtmlSiteByName}\n *\n * @param state {DmHtmlSite} - simple object containing HTML Site state properties\n * @property id {BsDmId} - HTML site ID\n * @property name {string} - HTML site friendly name\n * @property type {HtmlSiteType} - type of data feed. One of {(HtmlSiteType.) Local, Remote, BrightPlate}\n * @property queryString {DmParameterizedString} - query string to be used when fetching the site from a URL\n * @property indexAssetId {BsDmId} - for Local sites, the assetId of the index file for the site.\n * @property url {string | null} - for remote sites, the URL of the site. Null for Local or BrightPlate sites.\n * @property brightPlateName {string | null} - for BrightPlate sites, the name of the BrightPlate template.\n * @property brightPlateDisplayName {string | null} - for BrightPlate sites, the display name of the\n *  BrightPlate template.\n */\nexport class DmcHtmlSite {\n\n  readonly id: BsDmId;\n  readonly name: string;\n  readonly type: HtmlSiteType;\n  readonly queryString: DmParameterizedString;\n  readonly indexAssetId: BsDmId = BsDmIdNone;\n  readonly url: string | null = null;\n  readonly brightPlateName: string | null = null;\n  readonly brightPlateDisplayName: string | null = null;\n\n  constructor(state: DmHtmlSite) {\n    this.id = state.id;\n    this.name = state.name;\n    this.type = state.type;\n    this.queryString = state.queryString;\n    switch (state.type) {\n      case 'Local':\n        this.indexAssetId = state.indexAssetId;\n        break;\n      case 'Remote':\n        this.url = state.url;\n        break;\n      case 'BrightPlate':\n        this.brightPlateName = state.brightPlateName;\n        this.brightPlateDisplayName = state.displayName;\n        break;\n    }\n  }\n}\n\n/**\n * @class\n * @classdesc The DataFeed class represents a data feed object that is created and managed as part\n *  of the sign data feed collection. References to data feed objects are used in content items\n *  that display data feed content.\n *\n *  It is not expected that this object will be directly constructed by client code.\n *\n *  This object is returned from the following selectors:\n *      [dmGetDataFeedById]{@link Selectors:Simple~dmGetDataFeedById},\n *      [dmGetDataFeedByName]{@link Selectors:Simple~dmGetDataFeedByName}\n *\n * @param state {DmDataFeed | DmBsnDataFeed} - simple object containing data feed state properties\n * @property id {BsDmId} - data feed ID\n * @property name {string} - data feed friendly name\n * @property type {DataFeedType} - type of data feed. One of {(DataFeedType.) URLDataFeed, BSNDataFeed, BSNMediaFeed,\n *  BSNDynamicPlaylist, BSNTaggedPlaylist}\n * @property url {DmParameterizedString | string} - URL for data feed. (Note: BSN data feeds to not support\n *  DmParameterizedString types for this property.)\n * @property type {DataFeedUsageType} - usage of data feed.\n *  One of {(DataFeedUsageType.) Text, Mrss, MrssWith4K, Content}\n * @property updateInterval {number} - number of seconds between feed updates\n * @property useHeadRequest {boolean} - true if data feed updates should bw optimized by using HEAD requests, and then\n *  updating the feed only if the Last-Modified-Date in the HEAD response indicates the feed has changed\n * @property parserPlugin {BsDmId} - id for the parser plugin to use for parsing the data feed\n * @property autoGenerateUserVariables {boolean} - true if the feed name/description pairs should be used to generate\n *  user variables\n * @property userVariableAccess {AccessType} - if user variables are generated, this property denotes the AccessType for\n *  the generated user variables.\n * @property bsnId {number} - the BSN ID for the feed (BSN feeds only)\n * @property bsnName {string} - the BSN name for the feed (BSN feeds only)\n * @property supportsAudio {boolean} - true if the BSN feed supports audio (BSN feeds only)\n * @property matchPlayerTags {boolean} - true if the BSN feed should match player tags (BSN feeds only)\n */\nexport class DmcDataFeed implements DmBsnDataFeed {\n\n  readonly id: BsDmId;\n  readonly name: string;\n  readonly type: DataFeedType;\n  readonly url: DmParameterizedString | string;\n  readonly usage: DataFeedUsageType;\n  readonly updateInterval: number;\n  readonly useHeadRequest: boolean;\n  readonly parserPlugin: BsDmId;\n  readonly autoGenerateUserVariables: boolean;\n  readonly userVariableAccess: AccessType;\n\n  readonly bsnId: number;\n  readonly bsnName: string;\n  readonly supportsAudio: boolean;\n  readonly matchPlayerTags: boolean;\n\n  get isBsnDataFeed(): boolean {\n    return this.type !== DataFeedType.URLDataFeed;\n  }\n\n  constructor(state: DmDataFeed | DmBsnDataFeed) {\n    this.id = state.id;\n    this.name = state.name;\n    this.type = state.type;\n    this.url = state.url;\n    this.usage = state.usage;\n    this.updateInterval = state.updateInterval;\n    this.useHeadRequest = state.useHeadRequest;\n    this.parserPlugin = state.parserPlugin;\n    this.autoGenerateUserVariables = state.autoGenerateUserVariables;\n    this.userVariableAccess = state.userVariableAccess;\n\n    if (isBsnDataFeed(state)) {\n      this.bsnId = state.bsnId;\n      this.bsnName = state.bsnName;\n      this.supportsAudio = state.supportsAudio;\n      this.matchPlayerTags = state.matchPlayerTags;\n    } else {\n      this.bsnId = 0;\n      this.bsnName = '';\n      this.supportsAudio = false;\n      this.matchPlayerTags = false;\n    }\n  }\n}\n\nfunction isBsnDataFeed(feed: DmDataFeed | DmBsnDataFeed): feed is DmBsnDataFeed {\n  return feed.type !== DataFeedType.URLDataFeed && feed.hasOwnProperty('bsnId') && feed.hasOwnProperty('bsnId');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bsDmClasses.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/bsDmClasses.ts","module.exports = require(\"reselect\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"reselect\"\n// module id = 6\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"reselect\"","/** @module Actions:MediaState */\n/**\n * Created by jsugg on 10/11/16.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport { BsAssetItem, BsAssetId, bscGenerateAssetLocator, bscIsAssetItem } from '@brightsign/bscore';\nimport {\n  BsDmId, DmMediaStateContainer,\n  DmDerivedContentItem, DmDerivedNonMediaContentItem, DmContentItemData,\n} from '../bsDmInterfaces';\nimport {\n  dmCreateMediaContentItem, dmContentItemIsMediaContentItem, dmIsValidContentItemForZone, dmFilterContentItemData,\n} from '../bsDmContentItems';\nimport {\n  DmState, dmGetZoneTypeById, dmGetMediaStateStateById, dmGetEventIdsForMediaState, dmGetTransitionIdsForEvent,\n} from '../reducers/index';\n\nimport {\n  BsDmAction, BsDmBaseAction, BsDmThunkAction, dmFilterDmState, dmBatchActions,\n} from './actionBase';\nimport { dmSetAssetId, dmPutAssetItemWithoutTest, dmRemoveAssetItems } from './actionAssetMap';\nimport { DmErrorType, BsDmError } from '../bsDmError';\n\n// Actions\n/** @internal */\n/** @private */\nexport const ADD_MEDIA_STATE = 'DM_ADD_MEDIA_STATE';\n/** @internal */\n/** @private */\nexport const UPDATE_MEDIA_STATE = 'DM_UPDATE_MEDIA_STATE';\n/** @internal */\n/** @private */\nexport const DELETE_MEDIA_STATE = 'DM_DELETE_MEDIA_STATE';\n\nexport interface MediaStateParams {\n  id: BsDmId;\n  name?: string;\n  container?: DmMediaStateContainer;\n  contentItem?: DmDerivedContentItem;\n}\nexport type MediaStateAction = BsDmAction<MediaStateParams>;\n\n// TODO: important! - add mechanism to disambiguate names (i.e., no duplicate names)\n// TODO: test mediaState compatibility to zone and fail if incompatible contentItem\n\n/** @internal */\n/** @private */\nexport const dmContentIsAssetItem = (content: DmDerivedContentItem | BsAssetItem): content is BsAssetItem => {\n  return bscIsAssetItem(content);\n};\n\n/**\n * Return simple action to add a MediaState given a content item.\n * This should not be used by clients to add a MediaState based on a content file.\n * Clients should use dmAddMediaState to add MediaContentStates use a BsAssetItem.\n *\n * @param name {string} - name for the state - if empty, default name will be supplied\n * @param container {DmMediaStateContainer} - container for the state\n * @param contentItem {DmDerivedContentItem} - the content item for the state\n * @returns {MediaStateAction}\n */\nexport function dmAddMediaStateWithContentItem(\n  name: string,\n  container: DmMediaStateContainer,\n  contentItem: DmDerivedContentItem,\n): MediaStateAction {\n  return {\n    type: ADD_MEDIA_STATE,\n    payload: {\n      id: newBsDmId(),\n      name: name ? name : contentItem.name,\n      container,\n      contentItem,\n    },\n  };\n}\n\n/**\n * Return simple action to add a MediaState given a content item or an assetItem.\n * To add a state with a MediaContentItem (i.e., a media file), supply an AssetItem as the content parameter.\n * To add a state with a non-media ContentItem, supply the ContentItem directtly as the content parameter,\n *\n * @param name {string} - name for the state - if empty, default name will be supplied\n * @param container {DmMediaStateContainer} - container for the state\n * @param content {DmDerivedNonMediaContentItem | BsAssetItem} - the content for the state\n * @param [contentData=default values] {DmContentItemData} - contains values for one or more contentItem\n *   properties. This can be used to set ancillary contentItem properties when the 'content' param\n *   is an assetItem.\n * @returns {BsDmThunkAction<MediaStateAction>}\n *   When dispatched, the thunk function will return a MediaStateAction object.\n *   If the thunk function succeeds, the action properties returned will be the ones used, including a completed\n *   contentItem, if one was generated for the BsAssetItem.\n *   If the function fails, a BsDmError is thrown, with the action attached.\n */\nexport function dmAddMediaState(\n  name: string,\n  container: DmMediaStateContainer,\n  content: DmDerivedNonMediaContentItem | BsAssetItem,\n  contentData?: Partial<DmContentItemData>,\n): BsDmThunkAction<MediaStateParams> {\n  return (dispatch, getState): MediaStateAction => {\n    const mainAction: MediaStateAction = {\n      type: ADD_MEDIA_STATE,\n      payload: {\n        id: newBsDmId(),\n        name,\n        container,\n      },\n    };\n    const batchedActions: BsDmBaseAction[] = [];\n    const dmState = dmFilterDmState(getState());\n    let assetItem: BsAssetItem | undefined;\n    let contentItem;\n    if (dmContentIsAssetItem(content)) {\n      const locator = bscGenerateAssetLocator(content);\n      if (!locator) {\n        // If locator isn't valid, the assetItem isn't valid\n        throw new BsDmError(DmErrorType.invalidParameters,\n          'Asset Item does not contain valid locator information', mainAction);\n      }\n      // Match or create assetId, set that to assetItem, along with generated locator\n      assetItem = Object.assign({}, content, {locator});\n      dmSetAssetId(dmState, assetItem);\n      contentItem = dmCreateMediaContentItem(assetItem.name, assetItem.id, assetItem.mediaType);\n\n      const assetAction = dmPutAssetItemWithoutTest(assetItem);\n      batchedActions.push(assetAction);\n    } else {\n      // If a contentItem, reject if it is a MediaContentItem\n      if (dmContentItemIsMediaContentItem(content)) {\n        mainAction.payload.contentItem = content;\n        throw new BsDmError(DmErrorType.invalidParameters,\n          'MediaContentItems must be specified by AssetItem parameters', mainAction);\n      }\n      contentItem = content;\n    }\n    const contentItemData = dmFilterContentItemData(contentItem.type, contentData);\n    if (contentItemData) {\n      contentItem = Object.assign({}, contentItem, contentItemData);\n    }\n    if (!mainAction.payload.name) {\n      mainAction.payload.name = contentItem.name;\n    }\n    const zoneType = dmGetZoneTypeById(dmState, {id: container.id});\n    if (!dmIsValidContentItemForZone(contentItem, zoneType)) {\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'Content item type \"' + contentItem.type + '\" cannot be added to \"' + zoneType + '\" zone', mainAction);\n    }\n    mainAction.payload.contentItem = contentItem;\n    batchedActions.push(mainAction);\n\n    dispatch(dmBatchActions(batchedActions));\n    return mainAction;\n  };\n}\n\nexport function dmUpdateMediaState(params: MediaStateParams): MediaStateAction {\n  return {\n    type: UPDATE_MEDIA_STATE,\n    payload: params,\n  };\n}\n\nexport interface MediaStateDeleteParams {\n  mediaStateIds: BsDmId[];\n  eventIds: BsDmId[];\n  transitionIds: BsDmId[];\n}\nexport type MediaStateDeleteAction = BsDmAction<MediaStateDeleteParams>;\n\nexport function dmGetMediaStateDeleteParams(state: DmState, id: (BsDmId | BsDmId[])): MediaStateDeleteParams {\n  const deleteParams: MediaStateDeleteParams = {\n    mediaStateIds: Array.isArray(id) ? id : [id],\n    eventIds: [],\n    transitionIds: [],\n  };\n  // Return IDs for all given mediaStates, plus events and transitions associated with them\n  // All will be deleted\n  deleteParams.mediaStateIds.forEach((mediaStateId) => {\n    const mediaStateEventIds = dmGetEventIdsForMediaState(state, {id: mediaStateId});\n    if (mediaStateEventIds) {\n      deleteParams.eventIds.splice(0, 0, ...mediaStateEventIds);\n    }\n  });\n  deleteParams.eventIds.forEach((eventId) => {\n    const eventTransitionIds = dmGetTransitionIdsForEvent(state, {id: eventId});\n    if (eventTransitionIds) {\n      deleteParams.transitionIds.splice(0, 0, ...eventTransitionIds);\n    }\n  });\n  return deleteParams;\n}\n\nexport function dmDeleteMediaStateWithParams(params: MediaStateDeleteParams): MediaStateDeleteAction {\n  return {\n    type: DELETE_MEDIA_STATE,\n    payload: params,\n  };\n}\n\nexport function dmDeleteMediaState(id: BsDmId | BsDmId[]): BsDmThunkAction<MediaStateDeleteParams> {\n  return (dispatch, getState): MediaStateDeleteAction  => {\n    const dmState = dmFilterDmState(getState());\n\n    // Find any media assets used in the deleted states and remove the references for them in the AssetMap\n    const stateIds = typeof id === 'string' ? [id] : id;\n    const assetIds: BsAssetId[] = [];\n    stateIds.forEach((assetId) => {\n      const mediaStateState = dmGetMediaStateStateById(dmState, {id: assetId});\n      if (mediaStateState && dmContentItemIsMediaContentItem(mediaStateState.contentItem)) {\n        assetIds.push(mediaStateState.contentItem.assetId);\n      }\n    });\n    // Find IDs for all given mediaStates, plus events and transitions associated with them\n    // All will be deleted\n    const deleteParams = dmGetMediaStateDeleteParams(dmFilterDmState(getState()), id);\n    const batchedActions: BsDmBaseAction[] = [];\n    if (assetIds.length > 0) {\n      batchedActions.push(dmRemoveAssetItems(assetIds));\n    }\n    const mainAction = dmDeleteMediaStateWithParams(deleteParams);\n    batchedActions.push(mainAction);\n    dispatch(dmBatchActions(batchedActions));\n    return mainAction;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionMediaState.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionMediaState.ts","import {BsDmBaseAction} from './actions/actionBase';\n\nexport enum DmErrorType {\n  unknownError,\n  unexpectedError,\n  invalidParameters,\n  invalidOperation,\n  apiError,\n  invalidSign,\n}\n\nconst bsnErrorMessage: {[type: number]: string} = {\n  [DmErrorType.unknownError] : 'Unknown error',\n  [DmErrorType.unexpectedError] : 'Unexpected error',\n  [DmErrorType.invalidParameters] : 'Invalid parameters',\n  [DmErrorType.invalidOperation] : 'Invalid operation attempt',\n  [DmErrorType.apiError] : 'API error',\n  [DmErrorType.invalidSign] : 'Invalid presentation',\n};\n\nexport class BsDmError extends Error {\n  name = 'BsDmError';\n  type: DmErrorType;\n  action?: BsDmBaseAction;\n\n  constructor(type: DmErrorType, reason?: string, action?: BsDmBaseAction) {\n    super();\n    this.type = type;\n    if (reason) {\n      this.message = bsnErrorMessage[type] + ': ' + reason;\n    } else {\n      this.message = bsnErrorMessage[type];\n    }\n    if (action) {\n      this.action = Object.assign({}, action, {error: true, meta: {reason: this.message}});\n    }\n    Object.setPrototypeOf(this, BsDmError.prototype);\n  }\n\n  attachAction(action: BsDmBaseAction) {\n    this.action = Object.assign({}, action, {error: true, meta: {reason: this.message}});\n  }\n}\n\nexport function dmIsBsDmError(error: Error): error is BsDmError {\n  return error instanceof BsDmError;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bsDmError.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/bsDmError.ts","/** @module Selectors:Simple */\n/**\n * Created by jsugg on 10/7/16.\n */\n\nimport {Reducer, combineReducers} from 'redux';\n\nimport {\n  VideoMode, PlayerModel, ZoneType, ContentItemType, BsAssetId, BsAssetItem, BsAssetMapById,\n} from '@brightsign/bscore';\nimport { DmcSignMetadata, DmcZone, DmcTransition, DmcHtmlSite, DmcDataFeed } from '../bsDmClasses';\nimport { DmErrorType, BsDmError } from '../bsDmError';\nimport signReducer, {\n  getSignMetadata, getSignId, getSignName, getSignVideoMode, getSignPlayerModel,\n  getSignSerialPortConfigurations, getSignGpioList, getSignButtonPanelMap, getSignAudioPropertyMap,\n  isValidSignState,\n} from './reducerSign';\nimport zoneReducer, {\n  DmZoneCollectionState, getZoneById, getZoneByName, getZoneByTag,\n  getZonePropertiesById, getZonePropertiesByName, getZonePropertiesByTag,\n  getZoneTypeById, getZonesForSign, getZoneCount, getZoneIdsForZoneType, getZoneTagMap, isValidZoneState,\n} from './reducerZone';\nimport mediaStateReducer, {\n  DmMediaStateCollectionState, getMediaStateStateById, getMediaStateStateByName, getMediaStateIdsForZone,\n  getContentItemTypeForMediaStateId, isValidMediaStateState,\n} from './reducerMediaState';\nimport eventReducer, {\n  DmEventCollectionState, getEventStateById, getEventIdsForMediaState, isValidEventState,\n} from './reducerEvent';\nimport transitionReducer, {\n  DmTransitionCollectionState, getTransitionStateById, getTransitionById,\n  getTransitionIdsForEvent, isValidTransitionState,\n} from './reducerTransition';\nimport htmlSiteReducer, {\n  DmHtmlSiteCollectionState, getHtmlSiteById, getHtmlSiteIdsForSign, getHtmlSiteByName,\n} from './reducerHtmlSite';\nimport dataFeedReducer, {\n  DmDataFeedCollectionState, getDataFeedById, getDataFeedIdsForSign, getDataFeedNamesForSign, getDataFeedByName,\n} from './reducerDataFeed';\nimport userVariableReducer, {\n  DmUserVariableCollectionState, getUserVariableById, getUserVariableIdsForSign, getUserVariableByName,\n} from './reducerUserVariable';\nimport assetMapReducer, {\n  DmAssetMapState, getAssetItemById, getAssetIdByLocator, getAssetItemByLocator,\n  getAssetItemIdsForSign, isValidAssetMapState,\n} from './reducerAssetMap';\nimport {BsDmBaseAction, BsDmBatchAction, BSDM_BATCH} from '../actions/actionBase';\n\nimport {\n  BsDmId, DmObject,\n  DmSignMetadata, DmMediaState, DmEvent, DmTransition,\n  DmSerialPortList, DmGpioList, DmButtonPanelMap, DmAudioSignPropertyMap,\n  DmHtmlSite, DmUserVariable,\n  DmIdParam, DmNameParam, DmTagParam, DmLocatorParam, DmTypeParam,\n  DmZoneTagMap, DmZoneSpecificProperties, DmSerialPortConfiguration,\n} from '../bsDmInterfaces';\n\nexport interface DmMap<T extends DmObject> {\n  [id: string]: T;    // really '[id:BsDmId]: T;' -- but Typescript doesn't like that, even though BsDmId = string\n}\n\n// Support for batched actions, as done in the redux-batched-actions package\nexport type DmReducer = Reducer<DmState>;\nfunction enableBatching(reduce): DmReducer {\n  return function batchingReducer(state: DmState, action: BsDmBaseAction | BsDmBatchAction): DmState {\n    switch (action.type) {\n      case BSDM_BATCH:\n        return (action as BsDmBatchAction).payload.reduce(batchingReducer, state);\n      default:\n        return reduce(state, action);\n    }\n  };\n}\n\n/**\n * DmState is the Redux state shape for bsDataModel. It can be included in a larger Redux store. If so, it must have\n *  a property name of 'bsdm' or 'bsdatamodel'. This will enable the complete containing state to be passed to\n *  selectors and thunked actions\n * The internal properties of DmState are considered opaque and external users should not rely on any assumptions\n *  about its internal structure. The internal structure is subject to change at any time.\n * When creating the Redux store, you must apply the redux-thunk middleware\n * @interface DmState\n */\nexport interface DmState {\n  sign: DmSignMetadata;\n  zones: DmZoneCollectionState;\n  mediaStates: DmMediaStateCollectionState;\n  events: DmEventCollectionState;\n  transitions: DmTransitionCollectionState;\n  htmlSites: DmHtmlSiteCollectionState;\n  dataFeeds: DmDataFeedCollectionState;\n  userVariables: DmUserVariableCollectionState;\n  assetMap: DmAssetMapState;\n}\n\nexport const bsDmReducer = enableBatching(combineReducers<DmState>({\n  sign: signReducer,\n  zones: zoneReducer,\n  mediaStates: mediaStateReducer,\n  events: eventReducer,\n  transitions: transitionReducer,\n  htmlSites: htmlSiteReducer,\n  dataFeeds: dataFeedReducer,\n  userVariables: userVariableReducer,\n  assetMap: assetMapReducer,\n}));\n\n// Fundamental State Selectors\n\n// Sign state (for use with Open/Save functions)\n// For now, this is entire DmState, but this may change in the future\nexport type DmSignState = DmState;\n/**\n *\n * @param state {DmState} - bsDataModel state\n * @returns {DmState} state object representing the sign data only\n */\nexport function dmGetSignState(state: DmState): DmSignState {\n  return state;\n}\n\n/**\n * Return DmcSignMetadata object\n *   The DmcSignMetadata object holds sign metadata (e.g., name, PlayerModel, VideoMode, hardware configuration, etc.)\n *\n * @param state {DmState} - bsDataModel state\n * @returns {DmcSignMetadata} sign metadata object\n */\nexport function dmGetSignMetaData(state: DmState): DmcSignMetadata {\n  return getSignMetadata(state.sign);\n}\n\n/**\n * Return sign ID\n *\n * @param state {DmState} - bsDataModel state\n * @returns {BsDmId} sign ID\n */\nexport function dmGetSignId(state: DmState): BsDmId {\n  return getSignId(state.sign);\n}\n\n/**\n * Return string for the sign name\n *\n * @param state {DmState} - bsDataModel state\n * @returns {string} sign name\n */\nexport function dmGetSignName(state: DmState): string {\n  return getSignName(state.sign);\n}\n\n/**\n * Return sign VideoMode\n *\n * @param state {DmState} - bsDataModel state\n * @returns {VideoMode} sign VideoMode value\n */\nexport function dmGetSignVideoMode(state: DmState): VideoMode {\n  return getSignVideoMode(state.sign);\n}\n\n/**\n * Return sign PlayerModel\n *\n * @param state {DmState} - bsDataModel state\n * @returns {PlayerModel} sign PlayerModel value\n */\nexport function dmGetSignPlayerModel(state: DmState): PlayerModel {\n  return getSignPlayerModel(state.sign);\n}\n\n/**\n * Return array of {@link DmSerialPortConfiguration} objects for sign\n *\n * @param state {DmState} - bsDataModel state\n * @returns {DmSerialPortList} array of {@link DmSerialPortConfiguration} objects specifying\n *  all serial port configurations\n */\nexport function dmGetSignSerialPortConfigurations(state: DmState): DmSerialPortList {\n  return getSignSerialPortConfigurations(state.sign);\n}\n\n/**\n * Return array of {@link GpioType} values for sign\n *\n * @param state {DmState} - bsDataModel state\n * @returns {DmGpioList} array of {@link GpioType} values specifying configuration of each GPIO connection\n */\nexport function dmGetSignGpioList(state: DmState): DmGpioList {\n  return getSignGpioList(state.sign);\n}\n\n/**\n * Return map of {@link DmBpConfiguration} objects for each possible button panel in sign\n *  The map is keyed by button panel name.\n *\n * @param state {DmState} - bsDataModel state\n * @returns {DmButtonPanelMap} map of {@link DmBpConfiguration} objects specifying configuration of each button panel\n */\nexport function dmGetSignButtonPanelMap(state: DmState): DmButtonPanelMap {\n  return getSignButtonPanelMap(state.sign);\n}\n\n/**\n * Return map of {@link DmAudioSignProperties} objects specifying audio output configuration.\n *  The map is keyed by audio output name.\n *\n * @param state {DmState} - bsDataModel state\n * @returns {DmAudioSignPropertyMap} map of {@link DmAudioSignProperties} objects\n *  specifying configuration of each audio output\n */\nexport function dmGetSignAudioPropertyMap(state: DmState): DmAudioSignPropertyMap {\n  return getSignAudioPropertyMap(state.sign);\n}\n\n// Zone\n/**\n * Return DmcZone object for a given Zone ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: zone ID for which to return zone object\n * @returns {DmcZone} zone object corresponding to given zone ID\n *          null if zone is not found with the given ID\n */\nexport function dmGetZoneById(state: DmState, props: DmIdParam): DmcZone | null {\n  return getZoneById(state, props);\n}\n\n/**\n * Return DmcZone object for a given Zone name\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmNameParam} - name property: name string for which to return zone object\n * @returns {DmcZone} zone object corresponding to given zone name\n *          null if zone is not found with the given name\n */\nexport function dmGetZoneByName(state: DmState, props: DmNameParam): DmcZone | null {\n  return getZoneByName(state, props);\n}\n\n/**\n * Return DmcZone object for a given Zone tag\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmTagParam} - tag property: tag string for which to return zone object\n * @returns {DmcZone} zone object corresponding to given zone name\n *          null if zone is not found with the given name\n */\nexport function dmGetZoneByTag(state: DmState, props: DmTagParam): DmcZone | null {\n  return getZoneByTag(state, props);\n}\n\n/**\n * Return ZoneType for zone with given Zone ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: zone ID for which to return zone type\n * @returns {ZoneType} ZoneType corresponding to given zone ID\n *          null if zone is not found with the given ID\n */\nexport function dmGetZoneTypeById(state: DmState, props: DmIdParam): ZoneType | null {\n  return getZoneTypeById(state.zones, props);\n}\n\n/**\n * Return DmZoneSpecificProperties object for a given Zone ID\n *  DmZoneSpecificProperties is a union type, and will be one of the defined DmXXXZoneProperties objects\n *  where 'XXX' is the type of the zone\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: zone ID for which to return zone object\n * @returns {DmZoneSpecificProperties} zone property object of the correct zoneProperty type\n *  for the zone corresponding to given zone ID.\n *  Returns null if zone is not found with the given ID\n */\nexport function dmGetZonePropertiesById(state: DmState, props: DmIdParam): DmZoneSpecificProperties | null {\n  return getZonePropertiesById(state.zones, props);\n}\n\n/**\n * Return DmZoneSpecificProperties object for a given Zone name\n *  DmZoneSpecificProperties is a union type, and will be one of the defined DmXXXZoneProperties objects\n *  where 'XXX' is the type of the zone\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmNameParam} - name property: name string for which to return zone object\n * @returns {DmZoneSpecificProperties} zone property object of the correct zoneProperty type\n *  for the zone corresponding to given zone name.\n *  Returns null if zone is not found with the given name\n */\nexport function dmGetZonePropertiesByName(state: DmState, props: DmNameParam): DmZoneSpecificProperties | null {\n  return getZonePropertiesByName(state.zones, props);\n}\n\n/**\n * Return DmZoneSpecificProperties object for a given Zone tag\n *  DmZoneSpecificProperties is a union type, and will be one of the defined DmXXXZoneProperties objects\n *  where 'XXX' is the type of the zone\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmTagParam} - tag property: tag string for which to return zone object\n * @returns {DmZoneSpecificProperties} zone property object of the correct zoneProperty type for the zone corresponding\n *  to given zone tag, null if zone is not found with the given name\n */\nexport function dmGetZonePropertiesByTag(state: DmState, props: DmTagParam): DmZoneSpecificProperties | null {\n  return getZonePropertiesByTag(state.zones, props);\n}\n\n/**\n * Return array of Zone IDs for the sign\n *\n * @param state {DmState} - bsDataModel state\n * @returns {BsDmId[]} array of zone IDs for all zones in the sign\n */\nexport function dmGetZonesForSign(state: DmState): BsDmId[] { return getZonesForSign(state.zones); }\n\n/**\n * Return # of zones in sign\n *\n * @param state {DmState} - bsDataModel state\n * @returns {number} count of zones in the sign\n */\nexport function dmGetZoneCount(state: DmState): number { return getZoneCount(state.zones); }\n\n/**\n * Return array of Zone IDs for all zones of the given type in sign\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmTypeParam} - value is a ZoneType enum for the desired zone type to retrieve\n * @returns {number} array of zone IDs for all zones in the sign that match the given type\n */\nexport function dmGetZoneIdsForZoneType(state: DmState, props: DmTypeParam): BsDmId[] {\n  return getZoneIdsForZoneType(state.zones, props);\n}\n\n/**\n * Return a map of zone IDs keyed by the zone tag string\n *\n * @param state {DmState} - bsDataModel state\n * @returns {DmZoneTagMap} map of zone IDs keyed by tag string\n */\nexport function dmGetZoneTagMap(state: DmState): DmZoneTagMap { return getZoneTagMap(state.zones); }\n\n// MediaState\n/**\n * DEPRECATED - use dmGetMediaStateById to return a full class based object\n * Return DmMediaState (simple) object for a given MediaState ID\n *\n * Note: This returns only the mediaState top level properties in a simple JS object\n *  (no methods, no events, no transitions.)\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: mediaState ID for which to return mediaState object\n * @returns {DmMediaState} simple mediaState object (with no event or transition data) corresponding\n *  to given mediaState ID.\n *  Return null if mediaState is not found with the given ID.\n */\nexport function dmGetMediaStateStateById(state: DmState, props: DmIdParam): DmMediaState | null {\n  return getMediaStateStateById(state.mediaStates, props);\n}\n\n/**\n * DEPRECATED - use dmGetMediaStateByName to return a full class based object\n * Return  DmMediaState (simple) object for a given MediaState name\n *\n * Note: This returns only the mediaState top level properties in a simple JS object (no methods, no events)\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmNameParam} - name property: name string for which to return mediaState object\n * @returns {DmMediaState} simple mediaState object (with no event or transition data) corresponding\n *  to given mediaState name.\n *  Return null if mediaState is not found with the given name.\n */\nexport function dmGetMediaStateStateByName(state: DmState, props: DmNameParam): DmMediaState | null {\n  return getMediaStateStateByName(state.mediaStates, props);\n}\n\n/**\n * Return array of MediaState IDs for a given Zone ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: zone ID for which to return mediaState ID array\n * @returns {BsDmId[]} array of mediaState IDs for all events in the mediaState\n */\nexport function dmGetMediaStateIdsForZone(state: DmState, props: DmIdParam): BsDmId[] {\n  return getMediaStateIdsForZone(state.mediaStates, props);\n}\n\n/**\n * Return the ContentItemType for the given mediaState as specified by ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: zone ID for which to return mediaState ContentItemType\n * @returns {ContentItemType} returns ContentItemType or null, if mediaState is not found with the given ID\n */\nexport function dmGetContentItemTypeForMediaStateId(state: DmState, props: DmIdParam): ContentItemType | null {\n  return getContentItemTypeForMediaStateId(state.mediaStates, props);\n}\n\n// Event\n/**\n * DEPRECATED - use dmGetEventById to return a full class based object\n * Return DmEvent (simple) object for a given Event ID\n *\n * Note: This returns only the event properties in a simple JS object (no methods, no transitions)\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: event ID for which to return eventState object\n * @returns {DmEvent} simple event object (with no transition data) corresponding to given event ID\n *          null if event is not found with the given ID\n */\nexport function dmGetEventStateById(state: DmState, props: DmIdParam): DmEvent | null {\n  return getEventStateById(state.events, props);\n}\n\n/**\n * Return array of Event IDs for a given MediaState ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: mediaState ID for which to return event ID array\n * @returns {BsDmId[]} array of event IDs for all events in the mediaState\n */\nexport function dmGetEventIdsForMediaState(state: DmState, props: DmIdParam): BsDmId[] {\n  return getEventIdsForMediaState(state.events, props);\n}\n\n// Transition\n/**\n * DEPRECATED - use dmGetTransitionById to return a class based object\n * Return DmTransition (simple) object for a Transition ID\n *\n * Note: This returns only the transition properties in a simple JS object (no methods)\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: transition ID for which to return transitionState object\n * @returns {DmTransition} simple transition object corresponding to given transition ID\n *          null if transition is not found with the given ID\n */\nexport function dmGetTransitionStateById(state: DmState, props: DmIdParam): DmTransition | null {\n  return getTransitionStateById(state.transitions, props);\n}\n\n/**\n * Return DmcTransition object for a given Transition ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: transition ID for which to return transition object\n * @returns {DmcTransition} transition object corresponding to given transition ID\n *          null if transition is not found with the given ID\n */\nexport function dmGetTransitionById(state: DmState, props: DmIdParam): DmcTransition | null {\n  return getTransitionById(state.transitions, props);\n}\n\n/**\n * Return array of Transition IDs for a given Event ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: event ID for which to return transition ID array\n * @returns {BsDmId[]} array of transition IDs for all transitions in the event\n */\nexport function dmGetTransitionIdsForEvent(state: DmState, props: DmIdParam): BsDmId[] {\n  return getTransitionIdsForEvent(state.transitions, props);\n}\n\n// HTML Sites\n/**\n * Return DmcHtmlSite object for a given HtmlSite ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: event ID for which to return htmlSite object\n * @returns {DmcHtmlSite} htmlSite object corresponding to given ID\n *          null if htmlSite is not found with the given ID\n */\nexport function dmGetHtmlSiteById(state: DmState, props: DmIdParam): DmcHtmlSite | null {\n  return getHtmlSiteById(state.htmlSites, props);\n}\n\n/**\n * Return array of HtmlSite IDs for the sign\n *\n * @param state {DmState} - bsDataModel state\n * @returns {BsDmId[]} array of htmlSite IDs for all htmlSites in the sign\n */\nexport function dmGetHtmlSiteIdsForSign(state: DmState): BsDmId[] {\n  return getHtmlSiteIdsForSign(state.htmlSites);\n}\n\n/**\n * Return  DmcHtmlSite object for a given HtmlSite name\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmNameParam} - name property: name string for which to return htmlSite object\n * @returns {DmcHtmlSite} htmlSite object corresponding to given htmlSite name\n *          null if htmlSite is not found with the given name\n */\nexport function dmGetHtmlSiteByName(state: DmState, props: DmNameParam): DmcHtmlSite | null {\n  return getHtmlSiteByName(state.htmlSites, props);\n}\n\n// Data Feeds\n/**\n * Return DmcDataFeed object for a given DataFeed ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: event ID for which to return dataFeed object\n * @returns {DmcDataFeed} dataFeed object corresponding to given ID\n *          null if dataFeed is not found with the given ID\n */\nexport function dmGetDataFeedById(state: DmState, props: DmIdParam): DmcDataFeed | null {\n  return getDataFeedById(state.dataFeeds, props);\n}\n\n/**\n * Return array of DataFeed IDs for the sign\n *\n * @param state {DmState} - bsDataModel state\n * @returns {BsDmId[]} array of dataFeed IDs for all dataFeeds in the sign\n */\nexport function dmGetDataFeedIdsForSign(state: DmState): BsDmId[] {\n  return getDataFeedIdsForSign(state.dataFeeds);\n}\n\n/**\n * Return array of DataFeed names for the sign\n *\n * @param state {DmState} - bsDataModel state\n * @returns {string[]} array of dataFeed names for all dataFeeds in the sign\n */\nexport function dmGetDataFeedNamesForSign(state: DmState): string[] {\n  return getDataFeedNamesForSign(state.dataFeeds);\n}\n\n/**\n * Return  DmcDataFeed object for a given DataFeed name\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmNameParam} - name property: name string for which to return dataFeed object\n * @returns {DmcDataFeed} dataFeed object corresponding to given dataFeed name\n *          null if dataFeed is not found with the given name\n */\nexport function dmGetDataFeedByName(state: DmState, props: DmNameParam): DmcDataFeed | null {\n  return getDataFeedByName(state.dataFeeds, props);\n}\n\n// User Variables\n/**\n * Return DmUserVariable object for a given UserVariable ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: event ID for which to return userVariable object\n * @returns {DmUserVariable} userVariable object corresponding to given ID\n *          null if userVariable is not found with the given ID\n */\nexport function dmGetUserVariableById(state: DmState, props: DmIdParam): DmUserVariable | null {\n  return getUserVariableById(state.userVariables, props);\n}\n\n/**\n * Return array of UserVariable IDs for the sign\n *\n * @param state {DmState} - bsDataModel state\n * @returns {BsDmId[]} array of userVariable IDs for all userVariables in the sign\n */\nexport function dmGetUserVariableIdsForSign(state: DmState): BsDmId[] {\n  return getUserVariableIdsForSign(state.userVariables);\n}\n\n/**\n * Return DmUserVariable object for a given UserVariable name\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmNameParam} - name property: name string for which to return userVariable object\n * @returns {DmUserVariable} userVariable object corresponding to given userVariable name\n *          null if userVariable is not found with the given name\n */\nexport function dmGetUserVariableByName(state: DmState, props: DmNameParam): DmUserVariable | null {\n  return getUserVariableByName(state.userVariables, props);\n}\n\n// Asset Map\n/**\n * Return BsAssetItem object for a given assetId\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - ID property: ID string for assetId\n * @returns {BsAssetItem} assetItem object\n *          null if assetItem is not found with the given ID\n */\nexport function dmGetAssetItemById(state: DmState, props: DmIdParam): BsAssetItem | null {\n  return getAssetItemById(state.assetMap, props);\n}\n\n/**\n * Return BsAssetId for a given asset locator string\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmLocatorParam} - locator property: locator string for asset\n * @returns {BsAssetId} assetId string corresponding to given locator\n *          null if assetId is not found for the locator\n */\nexport function dmGetAssetIdByLocator(state: DmState, props: DmLocatorParam): BsAssetId | null {\n  return getAssetIdByLocator(state.assetMap, props);\n}\n\n/**\n * Return BsAssetItem object for a given asset locator string\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmLocatorParam} - locator property: locator string for asset\n * @returns {BsAssetItem} assetItem object corresponding to given locator\n *          null if asset is not found for the locator\n */\nexport function dmGetAssetItemByLocator(state: DmState, props: DmLocatorParam): BsAssetItem | null {\n  return getAssetItemByLocator(state.assetMap, props);\n}\n\n/**\n * Return an array of all assetIds in the AssetMap of the current sign.\n *\n * @param state {DmState} - bsDataModel state\n * @returns {BsAssetId[]} array of assetIds\n */\nexport function dmGetAssetItemIdsForSign(state: DmState): BsAssetId[] {\n  return getAssetItemIdsForSign(state.assetMap);\n}\n\n/**\n * Test given DmSignState object to determine if it represents a valid sign\n *\n * @param state {DmSignState} - state to test\n * @returns {BsDmError | null} null if sign valid, BsDmError object with message if sign is not valid\n */\nexport function dmCheckForInvalidDmSignState(state: DmSignState): BsDmError | null {\n  if (typeof state === 'object'\n    && state.hasOwnProperty('sign')\n    && isValidSignState(state.sign)\n    && state.hasOwnProperty('zones')\n    && isValidZoneState(state.zones)\n    && state.hasOwnProperty('mediaStates')\n    && isValidMediaStateState(state.mediaStates)\n    && state.hasOwnProperty('events')\n    && isValidEventState(state.events)\n    && state.hasOwnProperty('transitions')\n    && isValidTransitionState(state.transitions)\n    && state.hasOwnProperty('assetMap')\n    && isValidAssetMapState(state.assetMap)) {\n    return null;\n  } else {\n    return new BsDmError(DmErrorType.invalidSign, 'DmState structure is invalid');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/index.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/index.ts","/** @module Actions:General */\n/**\n * Created by jsugg on 10/11/16.\n */\n\nimport {Action, Dispatch, ActionCreator} from 'redux';\nimport {DmState} from '../reducers/index';\n\n// Dispatch type for bsDataModel actions\nexport type DmDispatch = Dispatch<DmState>;\n\nexport interface BsDmBaseAction extends Action {\n  type: string;   // override Any - must be a string\n  payload: {};\n  error?: boolean;\n  meta?: {};\n}\n\nexport interface BsDmAction<T> extends BsDmBaseAction {\n  payload: T;     // override payload with specific parameter type\n}\n\n// Create action based on payload object (params)\nexport type BsDmActionCreator<T> = ActionCreator<BsDmAction<T>>;\n\n// BsDm specific thunk function\n// Dispatch is always a DmDispatch\n// getState always returns DmState\n// Thunk function itself always returns the original (or composed) BsDmAction\n// The function parameters match redux-thunk ThunkFunction parameters\nexport type BsDmThunkAction<T> = (\n  dispatch: DmDispatch,\n  getState: () => DmState,\n  extraArgument: undefined,\n) => BsDmAction<T>;\n\n// Support for batched actions, as done in the redux-batched-actions package\n/** @internal */\n/** @private */\nexport const BSDM_BATCH = 'BSDM_BATCH';\n\n/** @internal */\n/** @private */\nexport function dmBatchActions(actions: BsDmBaseAction[]): BsDmBatchAction {\n  return {type: BSDM_BATCH, payload: actions};\n}\n\nexport interface BsDmBatchAction extends Action {\n  type: string;   // override Any - must be a string\n  payload: BsDmBaseAction[];\n}\n\n/**\n * Get DmState object from a enclosing parent state.\n * This function depends on the assumption that:\n *   1. If the parent state contains a DmState object, the property name for that object will\n *      be either 'bsdm' or 'bsdatamodel'.\n *   2. If the parent state does not contain a property with either of these names,\n *      the parent state is itself a DmState.\n *\n * @param state {any} - parent state\n * @returns {DmState} - returned DmState object\n */\nexport function dmFilterDmState(state: any): DmState {\n  if (state.hasOwnProperty('bsdm')) {\n    return state.bsdm as DmState;\n  } else if (state.hasOwnProperty('bsdatamodel')) {\n    return state.bsdatamodel as DmState;\n  }\n  return state as DmState;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionBase.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionBase.ts","/** @module Actions:Zone */\n/**\n * Created by jsugg on 10/11/16.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport { ZoneType, BsRect } from '@brightsign/bscore';\nimport {\n  BsDmId, DmAudioZoneProperties, DmVideoZoneProperties, DmImageZoneProperties,\n  DmVideoOrImagesZoneProperties, DmEnhancedAudioZoneProperties, DmTickerZoneProperties, DmClockZoneProperties,\n} from '../bsDmInterfaces';\nimport { DmErrorType, BsDmError } from '../bsDmError';\n\nimport { dmGetZoneTypeById, dmGetMediaStateIdsForZone } from '../reducers/index';\nimport { dmCanChangeZoneType } from '../selectors/index';\n\nimport { createDefaultZoneProperties } from '../reducers/reducerZone';\n\nimport { BsDmAction, BsDmThunkAction, dmFilterDmState } from './actionBase';\nimport { dmGetMediaStateDeleteParams } from './actionMediaState';\n\nimport { pick, omit } from 'lodash';\n\n// Actions\n/** @internal */\n/** @private */\nexport const ADD_ZONE = 'DM_ADD_ZONE';\n/** @internal */\n/** @private */\nexport const UPDATE_ZONE = 'DM_UPDATE_ZONE';\n/** @internal */\n/** @private */\nexport const UPDATE_ZONE_PROPS = 'DM_UPDATE_ZONE_PROPS';\n/** @internal */\n/** @private */\nexport const DELETE_ZONE = 'DM_DELETE_ZONE';\n\nexport interface ZoneParams {\n  id: BsDmId;\n  name?: string;\n  type?: ZoneType;\n  tag?: string;\n  nonInteractive?: boolean;\n  initialMediaStateId?: BsDmId;\n  position?: BsRect;\n}\nexport type ZoneAction = BsDmAction<ZoneParams>;\n\n/**\n * Add a zone to the sign.\n *\n * @param name {string} - Name for the new zone\n * @param type {ZoneType} - type of zone to add\n * @param tag {string} - short tag string for zone identification (e.g., 'V1', 'A1')\n * @param position {BsRect} - position and size of zone rectangle on the output display\n * @param nonInteractive {boolean} - true if the zone is intended to be a non-interactive zone\n * @returns {ZoneAction}\n *\n */\nexport function dmAddZone(\n  name: string,\n  type: ZoneType,\n  tag: string,\n  position: BsRect = {x: 0, y: 0, width: 100, height: 100, pct: true},\n  nonInteractive = true,\n): ZoneAction {\n  return {\n    type: ADD_ZONE,\n    payload: {\n      id: newBsDmId(),\n      name,\n      type,\n      tag,\n      position,\n      nonInteractive,\n    },\n  };\n}\n\n// Used internally to update without using a thunk to test initialMediaState\n// Also assumes no zone type change\n/** @internal */\n/** @private */\nexport const dmUpdateZoneWithoutTest = (params: ZoneParams): ZoneAction => ({\n  type: UPDATE_ZONE,\n  payload: params,\n});\n\nexport interface ZoneChangeParams extends ZoneParams {\n  properties: ZonePropertyParams;\n}\nexport type ZoneChangeAction = BsDmAction<ZoneChangeParams>;\n\n/**\n * Update the properties for a given zone.\n * This action creator can be used to change the type of a zone, if the new zone type is compatible with existing\n *  media states within the zone. If it is not, the action will be rejected.\n * If the zone type is changed, the zone specific properties referenced by the 'properties' key will be\n *  updated such that they are appropriate for the new zone. All new zone specific properties will be set\n *  to default values, but values for any properties that existed in the previous zone type will be carried over.\n *\n * If an attempt is made to set the initialMediaState to a state ID representing a state that is not within the zone,\n *  a BsDmError will be thrown.\n *\n * @param params {ZoneParams} - parameters that specify desired updates. Note that the 'properties' property, which\n *  is the key for an object holding zone-specific properties, cannot be specified as a parameter here.\n *  Use {@link dmUpdateZoneProperties} to update zone specific properties.\n * @returns {BsDmThunkAction<ZoneParams | ZoneChangeParams>}\n */\nexport function dmUpdateZone(params: ZoneParams): BsDmThunkAction<ZoneParams | ZoneChangeParams> {\n  return (dispatch, getState): ZoneAction  => {\n    const action: ZoneAction = {type: UPDATE_ZONE, payload: params};\n    const state = dmFilterDmState(getState());\n    // If the update parameters include an update initialMediaStateId, make sure that the ID\n    //  actually refers to a media state in the given zone. If not, do not proceed with the update.\n    if (params.initialMediaStateId) {\n      const mediaStates = dmGetMediaStateIdsForZone(state, {id: params.id});\n      if (mediaStates.indexOf(params.initialMediaStateId) < 0) {\n        throw new BsDmError(DmErrorType.invalidParameters, 'Invalid initial media state', action);\n      }\n    }\n    // Make sure there is no 'properties' property in the param payload\n    if (action.payload.hasOwnProperty('properties')) {\n      action.payload = omit(action.payload, 'properties') as ZoneParams;\n    }\n    // If the params indicate a zoneType change, make sure we can change to the requested zone\n    if (params.type) {\n      const zoneType = dmGetZoneTypeById(state, {id: params.id});\n      if (zoneType !== params.type) {\n        if (!dmCanChangeZoneType(state, {id: params.id, type: params.type as string})) {\n          throw new BsDmError(DmErrorType.invalidParameters,\n            'Zone contains media states not allowed in requested zone type', action);\n        }\n        // If we are changing zone types, we have to also correctly change zone specific parameters\n        // Get zone properties for new zone\n        let newZoneProperties = createDefaultZoneProperties(params.type);\n        // Carry over any that exist in old zone\n        const previousZoneProperties = state.zones.zonesById[params.id].properties;\n        const carryOverProperties = pick(previousZoneProperties, Object.keys(newZoneProperties));\n        newZoneProperties = Object.assign(newZoneProperties, carryOverProperties);\n        action.payload = Object.assign(params, {properties: newZoneProperties});\n      }\n    }\n    return dispatch(action);\n  };\n}\n\n// 'Partial' is a Typescript 2.1 construct that yields an equivalent interface where all members are optional\nexport type AudioZonePropertyParams = Partial<DmAudioZoneProperties>;\nexport type EnhancedAudioZonePropertyParams = Partial<DmEnhancedAudioZoneProperties>;\nexport type ImageZonePropertyParams = Partial<DmImageZoneProperties>;\nexport type VideoZonePropertyParams = Partial<DmVideoZoneProperties>;\nexport type VideoOrImagesZonePropertyParams = Partial<DmVideoOrImagesZoneProperties>;\nexport type TickerZonePropertyParams = Partial<DmTickerZoneProperties>;\nexport type ClockZonePropertyParams = Partial<DmClockZoneProperties>;\n\nexport type ZonePropertyParams = AudioZonePropertyParams | EnhancedAudioZonePropertyParams\n  | ImageZonePropertyParams | VideoZonePropertyParams | VideoOrImagesZonePropertyParams\n  | TickerZonePropertyParams | ClockZonePropertyParams;\n\n// Type property must specify the zone type corresponding to the property structure passed\nexport interface ZonePropertyUpdateParams {\n  id: BsDmId;\n  type: ZoneType;\n  properties: ZonePropertyParams;\n}\nexport type ZonePropertyUpdateAction = BsDmAction<ZonePropertyUpdateParams>;\n\n/**\n * Update zone-specific properties for a given zone.\n * Each zone type has a specific set of properties unique to the zone type. This action is used to update one or\n *  more of the zone-specific properties for the given zone. It is not necessary to specify the entire\n *  set of zone-specific properties - only the ones that need to be changed.\n *\n * The zone type for the given property object must be explicitly included as part of the input parameters.\n *  If this type does not match the given zone ID, the action will be rejected.\n *\n * @param params {ZonePropertyUpdateParams} - parameters specifying the zone ID, the zone type, and a object\n *  containing one or more updated values for the set of zone specific properties for the zone type.\n * @returns {BsDmThunkAction<ZonePropertyUpdateParams>}\n */\nexport function dmUpdateZoneProperties(params: ZonePropertyUpdateParams): BsDmThunkAction<ZonePropertyUpdateParams> {\n  return (dispatch, getState): ZonePropertyUpdateAction  => {\n    const action: ZonePropertyUpdateAction = {type: UPDATE_ZONE_PROPS, payload: params};\n    const zoneType = dmGetZoneTypeById(dmFilterDmState(getState()), {id: params.id});\n    // If the parameter zone type doesn't match this zone, fail\n    if (params.type !== zoneType) {\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'Properties are specified for a \"' + params.type + '\"zone, but this zone is a \"'\n        + zoneType + '\" zone', action);\n    } else if (zoneType === ZoneType.BackgroundImage) {\n      throw new BsDmError(DmErrorType.invalidParameters, 'BackgroundImage zone has no properties', action);\n    }\n    return dispatch(action);\n  };\n}\n\nexport interface ZoneDeleteParams {\n  zoneId: BsDmId;\n  mediaStateIds: BsDmId[];\n  eventIds: BsDmId[];\n  transitionIds: BsDmId[];\n}\nexport type ZoneDeleteAction = BsDmAction<ZoneDeleteParams>;\n\nexport function dmDeleteZoneWithParams(params: ZoneDeleteParams): ZoneDeleteAction {\n  return {\n    type: DELETE_ZONE,\n    payload: params,\n  };\n}\n\n/**\n * Delete a zone from the sign.\n * All media states contained within the zone, along with any events and transitions contained\n *  within those media states, will also be deleted. The ZoneDeleteParams object returned as the payload within\n *  the returned ZoneDeleteAction contains lists of IDs of all deleted media states, events, and transitions.\n *\n * @param id {BsDmId} - ID of zone to delete\n * @returns {BsDmThunkAction<ZoneDeleteParams>}\n */\nexport function dmDeleteZone(id: BsDmId): BsDmThunkAction<ZoneDeleteParams> {\n  return (dispatch, getState): ZoneDeleteAction  => {\n    // Find IDs for all mediaStates, events and transitions associated with the zone\n    // They will be deleted also\n    const mediaStateIds = dmGetMediaStateIdsForZone(dmFilterDmState(getState()), {id});\n    const mediaStateDeleteParams = dmGetMediaStateDeleteParams(dmFilterDmState(getState()), mediaStateIds);\n    const zoneDeleteParams: ZoneDeleteParams = Object.assign({zoneId: id}, mediaStateDeleteParams);\n    return dispatch(dmDeleteZoneWithParams(zoneDeleteParams));\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionZone.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionZone.ts","/** @module Helpers:ContentItems */\n/**\n * Created by jimsugg on 1/23/17.\n */\n\nimport {\n  MediaType, ContentItemType, VideoDisplayModeType, ZoneType,\n  BsAssetItem, BsAssetId, AssetLocation, AssetType,\n  bscGetLocalAssetLocator, bscGetFileMediaType,\n} from '@brightsign/bscore';\nimport {\n  BsDmId, DmFont, DmParameterizedString,\n  MediaStateContainerType, DmMediaStateContainer,\n  DmMediaContentItem, DmVideoContentItem, DmAudioContentItem, DmImageContentItem,\n  DmHtmlContentItem, DmLiveVideoContentItem, DmDataFeedContentItem, DmMrssDataFeedContentItem,\n  DmVideoStreamContentItem, DmAudioStreamContentItem, DmDerivedContentItem,\n  DmContentItemData, DmVideoContentItemData, DmAudioContentItemData, DmImageContentItemData,\n  DmHtmlContentItemData, DmMrssDataFeedContentItemData, DmLiveVideoContentItemData, DmStreamContentItemData,\n  DmVideoContentItemDataNameArray, DmAudioContentItemDataNameArray, DmImageContentItemDataNameArray,\n  DmHtmlContentItemDataNameArray, DmMrssDataFeedContentItemDataNameArray,\n  DmLiveVideoContentItemDataNameArray, DmStreamContentItemDataNameArray,\n} from './bsDmInterfaces';\nimport { dmResolveDmParameterizedString } from './bsDmParameterizedStrings';\nimport {\n  dmGetDefaultVideoContentItemData, dmGetDefaultAudioContentItemData, dmGetDefaultImageContentItemData,\n  dmGetDefaultHtmlContentItemData, dmGetDefaultMrssDataFeedContentItemData, dmGetDefaultLiveVideoContentItemData,\n  dmGetDefaultVideoStreamContentItemData, dmGetDefaultAudioStreamContentItemData,\n} from './bsDmDefaults';\nimport { pick } from 'lodash';\n\n/**\n * Get a DmMediaStateContainer object for a given zone ID\n *\n * @param zoneId - ID of zone container\n * @returns {DmMediaStateContainer} container object for zone\n */\nexport function dmGetZoneMediaStateContainer(zoneId: BsDmId): DmMediaStateContainer {\n  return {\n    id: zoneId,\n    type: MediaStateContainerType.Zone,\n  };\n}\n\n/**\n * Create a BsAssetItem for a local file given a file path\n * In general, BsAssetItem objects will and should be created by an external content manager. This helper\n *  is provided for occasional use - primarily for creating objects to be used in testing, but also for\n *  occasional other temporary or stopgap use. This should be avoided in final production code.\n *\n * @param fullPath {string} - local file path, including directory and filename\n * @param [id=''] {BsDmId} - ID string with which to set the ID (used in testing.) Default is blank, which is common\n *  because, in practice, the ID field is only assigned when the assetItem is used in a sign.\n * @param [mediaType=derived from extension] {MediaType} - used to specify the mediaType rather than generate\n *  it from the file extension.\n *  This is useful in cases where the file name doesn't have an extension (e.g., in the player file pool.) If this\n *  is not specified, the mediaType will be generated based on the file extension.\n * @returns {BsAssetItem}\n */\nexport function dmCreateAssetItemFromLocalFile(\n  fullPath: string,\n  id: BsAssetId = '',\n  mediaType: MediaType = null,\n): BsAssetItem {\n  const name = fullPath.replace(/^.*[\\\\\\/]/, '');\n  const path = fullPath.substr(0, fullPath.length - name.length);\n  return {\n    id,\n    name,\n    path,\n    networkId: 0,\n    location: AssetLocation.Local,\n    locator: bscGetLocalAssetLocator(fullPath),\n    assetType: AssetType.Content,\n    mediaType: mediaType ? mediaType : bscGetFileMediaType(name),\n  };\n}\n\n// region Media ContentItems\n/**\n * Create either a DmMediaContentItem (based on DmContentItem) or a state derived from\n *  DmMediaContentItem for use in a MediaState (i.e., one of: DmVideoContentItem,\n *  DmAudioContentItem, or DmImageContentItem.)\n * This ContentItemState encapsulates a media or text file, along with ContentItem parameters\n *  specific to the type of MediaFile\n * If one of the derived states is created, all contentType specific parameters will be set yo default values.\n *\n * IMPORTANT NOTE: Starting with bsDataModel version 0.5.1, typically clients will NOT use this function.\n * MediaContentItems can no longer be passed to any AddMediaState action creation function.\n * Instead, for MediaContent, a BsAssetItem is passed to the AddMediaState function.\n * The AddMediaState action creates the contentItem, and also handles asset management for the content.\n *\n * @param name {string} - name of the ContentItem - typically this should be set to the file name by the client\n * @param assetId {string} - string ID that can be used by the client to resolve the file location\n * @param mediaType {MediaType} - type of media file\n * @returns {DmMediaContentItem}\n */\nexport function dmCreateMediaContentItem(\n  name: string,\n  assetId: BsDmId,\n  mediaType: MediaType,\n): DmMediaContentItem {\n  switch (mediaType) {\n    case MediaType.Video:\n      return dmCreateVideoContentItem(name, assetId);\n    case MediaType.Audio:\n      return dmCreateAudioContentItem(name, assetId);\n    case MediaType.Image:\n      return dmCreateImageContentItem(name, assetId);\n    case MediaType.Text:\n      return {\n        name,\n        type: ContentItemType.Text,\n        assetId,\n      };\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Return true if the given content item is of type DmMediaContentItem.\n * This also serves as a Typescript type guard\n *\n * @param contentItem (DmDerivedContentItem} - content item to test\n * @returns {boolean} - true if content item is DmMediaContentItem\n */\nexport function dmContentItemIsMediaContentItem(contentItem: DmDerivedContentItem): contentItem is DmMediaContentItem {\n  return contentItem.hasOwnProperty('assetId');\n}\n\n/**\n * Create a DmVideoContentItem.\n * This ContentItemState encapsulates a video file, along with VideoContentItem specific parameters.\n *\n * All optional parameters will be set to user default if omitted.\n *\n * IMPORTANT NOTE: Starting with bsDataModel version 0.5.1, typically clients will NOT use this function.\n * MediaContentItems can no longer be passed to any AddMediaState action creation function.\n * Instead, for MediaContent, a BsAssetItem is passed to the AddMediaState function.\n * The AddMediaState action creates the contentItem, and also handles asset management for the content.\n *\n * @param name {string} - name of the ContentItem - typically this should be set to the file name by the client\n * @param assetId {string} - string ID that can be used by the client to resolve the video file location\n * @param volume {number} - volume for video file audio playback (range 0..100)\n * @param [videoDisplayMode=<user> (2D)] {VideoDisplayModeType}\n * @param [automaticallyLoop=<user> (false)] {boolean} - set to true to have file playback automatically restarted\n * @returns {DmVideoContentItem}\n */\nexport function dmCreateVideoContentItem(\n  name: string,\n  assetId: BsDmId,\n  volume?: number,\n  videoDisplayMode?: VideoDisplayModeType,\n  automaticallyLoop?: boolean,\n): DmVideoContentItem {\n  const defaults = dmGetDefaultVideoContentItemData();\n  return {\n    name,\n    type: ContentItemType.Video,\n    assetId,\n    volume: (volume === undefined ? defaults.volume : volume),\n    videoDisplayMode: (videoDisplayMode === undefined ? defaults.videoDisplayMode : videoDisplayMode),\n    automaticallyLoop: (automaticallyLoop === undefined ? defaults.automaticallyLoop : automaticallyLoop),\n  };\n}\n\n/**\n * Create a DmAudioContentItem.\n * This ContentItemState encapsulates an audio file, along with AudioContentItem specific parameters.\n *\n * All optional parameters will be set to user default if omitted.\n *\n * IMPORTANT NOTE: Starting with bsDataModel version 0.5.1, typically clients will NOT use this function.\n * MediaContentItems can no longer be passed to any AddMediaState action creation function.\n * Instead, for MediaContent, a BsAssetItem is passed to the AddMediaState function.\n * The AddMediaState action creates the contentItem, and also handles asset management for the content.\n *\n * @param name {string} - name of the ContentItem - typically this should be set to the file name by the client\n * @param assetId {string} - string ID that can be used by the client to resolve the audio file location\n * @param [volume=<user> (100)] {number} - volume for audio playback (range 0..100)\n * @returns {DmAudioContentItem}\n */\nexport function dmCreateAudioContentItem(\n  name: string,\n  assetId: BsDmId,\n  volume?: number,\n): DmAudioContentItem {\n  const defaults = dmGetDefaultAudioContentItemData();\n  return {\n    name,\n    type: ContentItemType.Audio,\n    assetId,\n    volume: (volume === undefined ? defaults.volume : volume),\n  };\n}\n\n/**\n * Create a DmImageContentItem.\n * This ContentItemState encapsulates an image file, along with ImageContentItem specific parameters.\n *\n * All optional parameters will be set to user default if omitted.\n *\n * IMPORTANT NOTE: Starting with bsDataModel version 0.5.1, typically clients will NOT use this function.\n * MediaContentItems can no longer be passed to any AddMediaState action creation function.\n * Instead, for MediaContent, a BsAssetItem is passed to the AddMediaState function.\n * The AddMediaState action creates the contentItem, and also handles asset management for the content.\n *\n * @param name {string} - name of the ContentItem - typically this should be set to the file name by the client\n * @param assetId {string} - string ID that can be used by the client to resolve the image file location\n * @param [useImageBuffer=<user> (false)] {boolean} - set to true to construct an image buffer for the image\n * @param [videoPlayerRequired=<user> (false)] {boolean} - set to true if VideoPlayer should be used to display image\n * @returns {DmImageContentItem}\n */\nexport function dmCreateImageContentItem(\n  name: string,\n  assetId: BsDmId,\n  useImageBuffer?: boolean,\n  videoPlayerRequired?: boolean,\n): DmImageContentItem {\n  const defaults = dmGetDefaultImageContentItemData();\n  return {\n    name,\n    type: ContentItemType.Image,\n    assetId,\n    useImageBuffer: (useImageBuffer === undefined ? defaults.useImageBuffer : useImageBuffer),\n    videoPlayerRequired: (videoPlayerRequired === undefined ? defaults.videoPlayerRequired : videoPlayerRequired),\n  };\n}\n// endregion\n\n// region HTML, LiveVideo and DataFeed ContentItems\n/**\n * Create a DmHtmlContentItem.\n * This ContentItemState encapsulates an HTML site, along with HtmlContentItem specific parameters.\n *\n * All optional parameters will be set to user default if omitted.\n *\n * @param name {string} - name for the ContentItem\n * @param siteId {BsDmId} - ID of the HTML site to indicate site from HtmlSite collection in the sign\n * @param [enableExternalData=<user> (false)] {boolean}\n * @param [enableMouseEvents=<user> (false)] {boolean} - set to true if site should respond to mouse events\n * @param [displayCursor=<user> (false)] {boolean} - set to true to display mouse cursor\n * @param [hwzOn=<user> (false)] {boolean} - set to true to use accelerated graphics hardware for video playback\n * @param [useUserStylesheet=<user> (false)] {boolean} - set to true if a custom style sheet document is included\n * @param [userStylesheetAssetId] {string} - assetId for the custom stylesheet to use,\n *  if useUserStylesheet is true\n * @param [customFonts] (DmFont[]} - array of fonts to be included with the Html content\n * @returns {DmHtmlContentItem}\n */\nexport function dmCreateHtmlContentItem(\n  name: string,\n  siteId: BsDmId,\n  enableExternalData?: boolean,\n  enableMouseEvents?: boolean,\n  displayCursor?: boolean,\n  hwzOn?: boolean,\n  useUserStylesheet?: boolean,\n  userStylesheetAssetId?: string,\n  customFonts?: DmFont[],\n): DmHtmlContentItem {\n  const defaults = dmGetDefaultHtmlContentItemData();\n  const contentItemData: DmHtmlContentItemData = {\n    enableExternalData: (enableExternalData === undefined ? defaults.enableExternalData : enableExternalData),\n    enableMouseEvents: (enableMouseEvents === undefined ? defaults.enableMouseEvents : enableMouseEvents),\n    displayCursor: (displayCursor === undefined ? defaults.displayCursor : displayCursor),\n    hwzOn: (hwzOn === undefined ? defaults.hwzOn : hwzOn),\n    useUserStylesheet: (userStylesheetAssetId === undefined ? defaults.useUserStylesheet : useUserStylesheet),\n  };\n  if (contentItemData.useUserStylesheet) {\n    if (userStylesheetAssetId === undefined) {\n      userStylesheetAssetId = defaults.userStylesheetAssetId;\n    }\n    if (userStylesheetAssetId !== undefined) {\n      contentItemData.userStylesheetAssetId = userStylesheetAssetId;\n    } else {\n      contentItemData.useUserStylesheet = false;\n    }\n  }\n  // Currently we do not support default custom fonts\n  if (customFonts !== undefined) {\n    contentItemData.customFonts = customFonts;\n  }\n  return Object.assign({name, type: ContentItemType.Html, siteId}, contentItemData);\n}\n\n/**\n * Create a DmLiveVideoContentItem.\n *\n * All optional parameters will be set to user default if omitted.\n *\n * @param name {string} - name of the ContentItem\n * @param [volume=<user> (100)] {number} - desired volume for audio playback (range 0..100)\n * @param [overscan=<user> (false)] {boolean} - set to true to enable video overscan\n * @returns {DmLiveVideoContentItem}\n */\nexport function dmCreateLiveVideoContentItem(\n  name: string,\n  volume?: number,\n  overscan?: boolean,\n): DmLiveVideoContentItem {\n  const defaults = dmGetDefaultLiveVideoContentItemData();\n  return {\n    name,\n    type: ContentItemType.LiveVideo,\n    volume: (volume === undefined ? defaults.volume : volume),\n    overscan: (overscan === undefined ? defaults.overscan : overscan),\n  };\n}\n\n/**\n * Create a DmDataFeedContentItem.\n * This ContentItemState encapsulates a live DataFeed.\n *\n * @param name {string} - name for the ContentItem\n * @param dataFeedId {BsDmId} - ID of the DataFeed to indicate feed from DataFeed collection in the sign\n * @returns {DmDataFeedContentItem}\n */\nexport function dmCreateDataFeedContentItem(\n  name: string,\n  dataFeedId: BsDmId,\n): DmDataFeedContentItem {\n  return {\n    name,\n    type: ContentItemType.DataFeed,\n    dataFeedId,\n  };\n}\n\n/**\n * Create a DmMrssDataFeedContentItem.\n * This ContentItemState encapsulates a live MRSS DataFeed.\n *\n * All optional parameters will be set to user default if omitted.\n *\n * @param name {string} - name for the ContentItem\n * @param dataFeedId {BsDmId} - ID of the DataFeed to indicate feed from DataFeed collection in the sign\n * @param [videoPlayerRequired=<user> (false)] {boolean} - set to true in the data feed requires a video player\n * @returns {DmMrssDataFeedContentItem}\n */\nexport function dmCreateMrssDataFeedContentItem(\n  name: string,\n  dataFeedId: BsDmId,\n  videoPlayerRequired?: boolean,\n): DmMrssDataFeedContentItem {\n  const defaults = dmGetDefaultMrssDataFeedContentItemData();\n  return {\n    name,\n    type: ContentItemType.MrssFeed,\n    dataFeedId,\n    videoPlayerRequired: (videoPlayerRequired === undefined ? defaults.videoPlayerRequired : videoPlayerRequired),\n  };\n}\n// endregion\n\n// region Stream ContentItems\n/**\n * Create a DmVideoStreamContentItem.\n *\n * All optional parameters will be set to user default if omitted.\n *\n * @param name {string} - name of the ContentItem\n * @param url {DmParameterizedString | string} - URL for the stream, if a string, will be converted\n *  to DmParameterizedString\n * @param [volume=<user> (100)] {number} - desired volume for audio playback (range 0..100)\n * @returns {DmVideoStreamContentItem}\n */\nexport function dmCreateVideoStreamContentItem(\n  name: string,\n  url: DmParameterizedString | string,\n  volume?: number,\n): DmVideoStreamContentItem {\n  const defaults = dmGetDefaultVideoStreamContentItemData();\n  return {\n    name,\n    type: ContentItemType.VideoStream,\n    url: dmResolveDmParameterizedString(url),\n    volume: (volume === undefined ? defaults.volume : volume),\n  };\n}\n\n/**\n * Create a DmAudioStreamContentItem.\n *\n * All optional parameters will be set to user default if omitted.\n *\n * @param name {string} - name of the ContentItem\n * @param url {DmParameterizedString | string} - URL for the stream, if a string, will be converted\n *  to DmParameterizedString\n * @param [volume=<user> (false)] {number} - desired volume for audio playback (range 0..100)\n * @returns {DmAudioStreamContentItem}\n */\nexport function dmCreateAudioStreamContentItem(\n  name: string,\n  url: DmParameterizedString | string,\n  volume?: number,\n): DmAudioStreamContentItem {\n  const defaults = dmGetDefaultAudioStreamContentItemData();\n  return {\n    name,\n    type: ContentItemType.AudioStream,\n    url: dmResolveDmParameterizedString(url),\n    volume: (volume === undefined ? defaults.volume : volume),\n  };\n}\n// endregion\n\n// region ContentItems for Interactive Zones\nconst VideoOrImagesZoneContentTypeArray: ContentItemType[] = [\n  ContentItemType.Video, ContentItemType.Image, ContentItemType.Audio,\n  ContentItemType.Html, ContentItemType.MrssFeed, ContentItemType.LiveVideo,\n  ContentItemType.VideoStream, ContentItemType.AudioStream,\n];\nconst VideoOrImagesZoneContentTypes: Set<ContentItemType> = new Set(VideoOrImagesZoneContentTypeArray);\n\nconst VideoOnlyZoneContentTypeArray: ContentItemType[] = [\n  ContentItemType.Video, ContentItemType.LiveVideo,\n  ContentItemType.VideoStream, ContentItemType.AudioStream,\n];\nconst VideoOnlyZoneContentTypes: Set<ContentItemType> = new Set(VideoOnlyZoneContentTypeArray);\n\nconst ImagesZoneContentTypeArray: ContentItemType[] = [\n  ContentItemType.Image, ContentItemType.Html, ContentItemType.MrssFeed,\n];\nconst ImagesZoneContentTypes: Set<ContentItemType> = new Set(ImagesZoneContentTypeArray);\n\nconst AudioZoneContentTypeArray: ContentItemType[] = [\n  ContentItemType.Audio, ContentItemType.AudioStream,\n];\nconst AudioZoneContentTypes: Set<ContentItemType> = new Set(AudioZoneContentTypeArray);\n\nconst TickerZoneContentTypeArray: ContentItemType[] = [\n  ContentItemType.Text, ContentItemType.DataFeed,\n];\nconst TickerZoneContentTypes: Set<ContentItemType> = new Set(TickerZoneContentTypeArray);\n\n/**\n * Return true if given contentItem is valid for the given zone type.\n * This test assumes a fully Interactive zone, and is not limited to nonInteractive playlists.\n * For nonInteractive playlists,\n *  use {@link Helpers:ContentItems~dmIsValidContentItemForPlaylist|dmIsValidContentItemForPlaylist}.\n *\n * @param contentItem {DmDerivedContentItem} - content item object to be checked\n * @param zoneType {ZoneType} - type of zone into which the contentItem would be added\n * @returns {boolean} - true if contentItem is valid for zone\n */\nexport function dmIsValidContentItemForZone(contentItem: DmDerivedContentItem, zoneType: ZoneType): boolean {\n  return dmIsValidContentItemTypeForZone(contentItem.type, zoneType);\n}\n\n/**\n * Return true if given contentItemType is valid for the given zone type.\n * This test assumes a fully Interactive zone, and is not limited to nonInteractive playlists.\n * For nonInteractive playlists,\n *  use {@link Helpers:ContentItems~dmIsValidContentItemTypeForPlaylist|dmIsValidContentItemTypeForPlaylist}.\n *\n * @param contentItemType {ContentItemType} - ContentItemType to be checked\n * @param zoneType {ZoneType} - type of zone into which the contentItem would be added\n * @returns {boolean} - true if contentItem is valid for zone\n */\nexport function dmIsValidContentItemTypeForZone(contentItemType: ContentItemType, zoneType: ZoneType): boolean {\n  switch (zoneType) {\n    case ZoneType.VideoOrImages:\n      return VideoOrImagesZoneContentTypes.has(contentItemType);\n    case ZoneType.VideoOnly:\n      return VideoOnlyZoneContentTypes.has(contentItemType);\n    case ZoneType.Images:\n      return ImagesZoneContentTypes.has(contentItemType);\n    case ZoneType.AudioOnly:\n    case ZoneType.EnhancedAudio:\n      return AudioZoneContentTypes.has(contentItemType);\n    case ZoneType.Ticker:\n      return TickerZoneContentTypes.has(contentItemType);\n    case ZoneType.Clock:\n      return false;\n    case ZoneType.BackgroundImage:\n      return contentItemType === ContentItemType.Image;\n  }\n  return false;\n}\n// endregion\n\n// region Content Items for Non-Interactive Zones (Playlists)\nconst VideoOrImagesPlaylistContentTypeArray: ContentItemType[] = [\n  ContentItemType.Video, ContentItemType.Image, ContentItemType.Audio,\n  ContentItemType.Html, ContentItemType.MrssFeed, ContentItemType.LiveVideo,\n  ContentItemType.VideoStream, ContentItemType.AudioStream,\n];\nconst VideoOrImagesPlaylistContentTypes: Set<ContentItemType> = new Set(VideoOrImagesPlaylistContentTypeArray);\n\nconst VideoOnlyPlaylistContentTypeArray: ContentItemType[] = [\n  ContentItemType.Video, ContentItemType.LiveVideo,\n  ContentItemType.VideoStream, ContentItemType.AudioStream,\n];\nconst VideoOnlyPlaylistContentTypes: Set<ContentItemType> = new Set(VideoOnlyPlaylistContentTypeArray);\n\nconst ImagesPlaylistContentTypeArray: ContentItemType[] = [\n  ContentItemType.Image, ContentItemType.Html, ContentItemType.MrssFeed,\n];\nconst ImagesPlaylistContentTypes: Set<ContentItemType> = new Set(ImagesPlaylistContentTypeArray);\n\nconst AudioPlaylistContentTypeArray: ContentItemType[] = [\n  ContentItemType.Audio, ContentItemType.AudioStream,\n];\nconst AudioPlaylistContentTypes: Set<ContentItemType> = new Set(AudioPlaylistContentTypeArray);\n\nconst TickerPlaylistContentTypeArray: ContentItemType[] = [\n  ContentItemType.Text, ContentItemType.DataFeed,\n];\nconst TickerPlaylistContentTypes: Set<ContentItemType> = new Set(TickerPlaylistContentTypeArray);\n\n/**\n * Return true if given contentItem is valid for the given zone type.\n * This test assumes a nonInteractive zone.\n * For Interactive zones,\n *  use {@link Helpers:ContentItems~dmIsValidContentItemForZone|dmIsValidContentItemForZone}.\n *\n * @param contentItem {DmDerivedContentItem} - content item object to be checked\n * @param zoneType {ZoneType} - type of zone into which the contentItem would be added\n * @returns {boolean} - true if contentItem is valid for zone\n */\nexport function dmIsValidContentItemForPlaylist(contentItem: DmDerivedContentItem, zoneType: ZoneType): boolean {\n  return dmIsValidContentItemTypeForPlaylist(contentItem.type, zoneType);\n}\n\n/**\n * Return true if given contentItem is valid for the given zone type.\n * This test assumes a nonInteractive zone.\n * For Interactive zones,\n *  use {@link Helpers:ContentItems~dmIsValidContentItemTypeForZone|dmIsValidContentItemTypeForZone}.\n *\n * @param contentItemType {ContentItemType} - content item type to be checked\n * @param zoneType {ZoneType} - type of zone into which the contentItem would be added\n * @returns {boolean} - true if contentItem is valid for zone\n */\nexport function dmIsValidContentItemTypeForPlaylist(contentItemType: ContentItemType, zoneType: ZoneType): boolean {\n  switch (zoneType) {\n    case ZoneType.VideoOrImages:\n      return VideoOrImagesPlaylistContentTypes.has(contentItemType);\n    case ZoneType.VideoOnly:\n      return VideoOnlyPlaylistContentTypes.has(contentItemType);\n    case ZoneType.Images:\n      return ImagesPlaylistContentTypes.has(contentItemType);\n    case ZoneType.AudioOnly:\n    case ZoneType.EnhancedAudio:\n      return AudioPlaylistContentTypes.has(contentItemType);\n    case ZoneType.Ticker:\n      return TickerPlaylistContentTypes.has(contentItemType);\n    case ZoneType.Clock:\n      return false;\n    case ZoneType.BackgroundImage:\n      return contentItemType === ContentItemType.Image;\n  }\n  return false;\n}\n// endregion\n\n// region Manage ContentItemData\nexport function dmFilterContentItemData(\n  contentItemType: ContentItemType,\n  contentItemData: any,\n): DmContentItemData | null {\n  if (contentItemData) {\n    switch (contentItemType) {\n      case ContentItemType.Video:\n        return pick(contentItemData, DmVideoContentItemDataNameArray) as DmVideoContentItemData;\n      case ContentItemType.Image:\n        return pick(contentItemData, DmImageContentItemDataNameArray) as DmImageContentItemData;\n      case ContentItemType.Audio:\n        return pick(contentItemData, DmAudioContentItemDataNameArray) as DmAudioContentItemData;\n      case ContentItemType.Html:\n        return pick(contentItemData, DmHtmlContentItemDataNameArray) as DmHtmlContentItemData;\n      case ContentItemType.LiveVideo:\n        return pick(contentItemData, DmLiveVideoContentItemDataNameArray) as DmLiveVideoContentItemData;\n      case ContentItemType.MrssFeed:\n        return pick(contentItemData, DmMrssDataFeedContentItemDataNameArray) as DmMrssDataFeedContentItemData;\n      case ContentItemType.VideoStream:\n      case ContentItemType.AudioStream:\n        return pick(contentItemData, DmStreamContentItemDataNameArray) as DmStreamContentItemData;\n    }\n  }\n  return null;\n}\n// endregion\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bsDmContentItems.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/bsDmContentItems.ts","/** @module Helpers:Defaults */\n/**\n * Created by jimsugg on 2/28/17.\n */\n\nimport {\n  PlayerModel, VideoMode, VideoConnectorType, MonitorOrientationType, MonitorOverscanType, DeviceWebPageDisplay,\n  TouchCursorDisplayModeType, GraphicsZOrderType, UdpAddressType, LanguageType, LanguageKeyType,\n  ViewModeType, ImageModeType,\n  AudioOutputSelectionType, AudioModeType, AudioMappingType, AudioOutputType, AudioMixModeType,\n  LiveVideoInputType, LiveVideoStandardType, MosaicMaxContentResolutionType, VideoDisplayModeType,\n  RotationType, TextHAlignmentType, TextScrollingMethodType, GpioType,\n  AudioOutputNameArray, ButtonPanelNameArray,\n} from '@brightsign/bscore';\nimport {\n  DmSignPropertyData, DmSerialPortConfiguration, DmSerialPortList, DmGpioList,\n  DmBpConfiguration, DmButtonPanelMap, DmAudioSignProperties, DmAudioSignPropertyMap,\n  DmAudioZonePropertyData, DmEnhancedAudioZonePropertyData, DmImageZonePropertyData, DmVideoZonePropertyData,\n  DmTickerZonePropertyData, DmWidget, DmTextWidget,\n  DmClockZonePropertyData, DmAudioOutputAssignmentMap,\n  DmVideoContentItemData, DmAudioContentItemData, DmImageContentItemDefaults, DmHtmlContentItemDefaults,\n  DmMrssDataFeedContentItemData, DmLiveVideoContentItemDefaults, DmStreamContentItemDefaults,\n} from './bsDmInterfaces';\nimport {cloneDeep} from 'lodash';\n\n/**\n * Interface that defines the object state used to store defaults\n *\n * @interface DmDefaultProperties\n */\nexport interface DmDefaultProperties {\n  signProperties: DmSignPropertyData;\n  serialPortConfigurations: DmSerialPortList;\n  gpio: DmGpioList;\n  buttonPanels: DmButtonPanelMap;\n  audioSignPropertyMap: DmAudioSignPropertyMap;\n  audioZoneProperties: DmAudioZonePropertyData;\n  enhancedAudioZoneProperties: DmEnhancedAudioZonePropertyData;\n  imageZoneProperties: DmImageZonePropertyData;\n  videoZoneProperties: DmVideoZonePropertyData;\n  tickerZoneProperties: DmTickerZonePropertyData;\n  clockZoneProperties: DmClockZonePropertyData;\n  videoContentItem: DmVideoContentItemData;\n  audioContentItem: DmAudioContentItemData;\n  imageContentItem: DmImageContentItemDefaults;\n  htmlContentItem: DmHtmlContentItemDefaults;\n  mrssContentItem: DmMrssDataFeedContentItemData;\n  liveVideoContentItem: DmLiveVideoContentItemDefaults;\n  videoStreamContentItem: DmStreamContentItemDefaults;\n  audioStreamContentItem: DmStreamContentItemDefaults;\n}\n\n/**\n * Interface to define the object state passed to dmSetDefaultPropertyValues\n *\n * @interface DmSetDefaultParams\n *\n * With the exception of the DmGpioList array, which much be specified completely, all objects, including\n *  objects in the DmSerialPortConfiguration array, can be partial objects. In other words, they can contain\n *  a subset of properties, which will be merged with current defaults.\n *\n * Note: the syntax Partial<interface> is a TypeScript 2.2 feature which makes all property member of the\n *  interface optional.\n */\nexport interface DmSetDefaultParams {\n  signProperties?: Partial<DmSignPropertyData>;\n  serialPortConfigurations?: Array<Partial<DmSerialPortConfiguration>>;\n  gpio?: DmGpioList;\n  buttonPanels?: DmButtonPanelMap;\n  audioSignPropertyMap?: DmAudioSignPropertyMap;\n  audioZoneProperties?: Partial<DmAudioZonePropertyData>;\n  enhancedAudioZoneProperties?: Partial<DmEnhancedAudioZonePropertyData>;\n  imageZoneProperties?: Partial<DmImageZonePropertyData>;\n  videoZoneProperties?: Partial<DmVideoZonePropertyData>;\n  tickerZoneProperties?: DmSetTickerZonePropertyData;\n  clockZoneProperties?: DmSetClockZonePropertyData;\n  videoContentItem?: Partial<DmVideoContentItemData>;\n  audioContentItem?: Partial<DmAudioContentItemData>;\n  imageContentItem?: Partial<DmImageContentItemDefaults>;\n  htmlContentItem?: Partial<DmHtmlContentItemDefaults>;\n  mrssContentItem?: Partial<DmMrssDataFeedContentItemData>;\n  liveVideoContentItem?: Partial<DmLiveVideoContentItemDefaults>;\n  videoStreamContentItem?: Partial<DmStreamContentItemDefaults>;\n  audioStreamContentItem?: Partial<DmStreamContentItemDefaults>;\n}\n\nexport interface DmSetTickerZonePropertyData {\n  textWidget?: Partial<DmTextWidget>;\n  widget?: Partial<DmWidget>;\n  scrollSpeed?: number;\n}\n\nexport interface DmSetClockZonePropertyData {\n  displayTime?: boolean;\n  rotation?: number;\n  widget?: Partial<DmWidget>;\n}\n\n/**\n * Merge all properties from params object with current defaults.\n * This function can be used to restore the entire defaults object from a saved state, and also\n *  to change a subset of defaults in response to user input.\n *\n * @param defaults {DmSetDefaultParams} - object with properties to merge into defaults\n */\nexport function dmSetDefaultPropertyValues(defaults: DmSetDefaultParams): void {\n  DmInternal.defaults.merge(defaults);\n}\n\n/**\n * Reset all defaults to initial values as defined by dsDataModel.\n */\nexport function dmResetDefaultPropertyValues(): void {\n  DmInternal.defaults.reset();\n}\n\n/**\n * Get entire defaults object. This can be used to store the modified defaults object state to be reloaded\n *  on subsequent invocations of bsDataModel.\n *\n *  @returns DmDefaultProperties object\n */\nexport function dmGetDefaultPropertyValues(): DmDefaultProperties {\n  return DmInternal.defaults.allDefaults;\n}\n\n// Sign metadata defaults\n\n/** @internal */\n/** @private */\nexport const initialSignPropertyDefaults: DmSignPropertyData = {\n  videoMode: VideoMode.v1920x1080x60p,\n  model: PlayerModel.XT1143,\n  monitorOrientation: MonitorOrientationType.Landscape,\n  monitorOverscan: MonitorOverscanType.NoOverscan,\n  videoConnector: VideoConnectorType.Hdmi,\n  deviceWebPageDisplay: DeviceWebPageDisplay.Standard,\n  backgroundScreenColor: {a: 255, r: 0, g: 0, b: 0},\n  forceResolution: false,\n  tenBitColorEnabled: false,\n  htmlEnableJavascriptConsole: false,\n  alphabetizeVariableNames: false,\n  autoCreateMediaCounterVariables: false,\n  resetVariablesOnPresentationStart: false,\n  networkedVariablesUpdateInterval: 300,\n  delayScheduleChangeUntilMediaEndEvent: false,\n  language: LanguageType.English,\n  languageKey: LanguageKeyType.English,\n  flipCoordinates: false,\n  isMosaic: false,\n  inactivityTimeout: false,\n  inactivityTime: 30,\n  touchCursorDisplayMode: TouchCursorDisplayModeType.Auto,\n  graphicsZOrder: GraphicsZOrderType.Back,\n  udpDestinationAddressType: UdpAddressType.IPAddress,\n  udpDestinationAddress: '255.255.255.255',\n  udpDestinationPort: 5000,\n  udpReceiverPort: 5000,\n};\nObject.freeze(initialSignPropertyDefaults);\n\n/**\n * Get default SignProperty data object from defaults.\n *\n *  @returns DmSignPropertyData object\n */\nexport function dmGetDefaultSignPropertyData(): DmSignPropertyData {\n  return DmInternal.defaults.signProperties;\n}\n\n/** @internal */\n/** @private */\nexport const initialSerialPortDefaults: DmSerialPortConfiguration = {\n  port: 0,\n  baudRate: 115200,\n  dataBits: 8,\n  stopBits: 1,\n  parity: 'N',\n  protocol: 'ASCII',\n  sendEol: 'CR',\n  receiveEol: 'CR',\n  invertSignals: false,\n  connectedDevice: 'None',\n};\nObject.freeze(initialSerialPortDefaults);\n\n/** @internal */\n/** @private */\nconst createDefaultSerialPortList = (): DmSerialPortList => {\n  const portList: DmSerialPortList = [];\n  for (let port = 0; port < 8; ++port) {\n    portList.push(Object.assign({}, initialSerialPortDefaults, {port}));\n  }\n  return portList;\n};\n\n/**\n * Get default SerialPortConfigurations array from defaults.\n *\n *  @returns DmSerialPortList array\n */\nexport function dmGetDefaultSerialPortList(): DmSerialPortList {\n  return DmInternal.defaults.serialPortConfigurations;\n}\n\n/** @internal */\n/** @private */\nexport const initialGpioListDefaults: DmGpioList = [\n  GpioType.Input, GpioType.Input, GpioType.Input, GpioType.Input,\n  GpioType.Input, GpioType.Input, GpioType.Input, GpioType.Input,\n];\n\n/**\n * Get default Gpio configuration array from defaults.\n *\n *  @returns DmGpioList array\n */\nexport function dmGetDefaultGpioList(): DmGpioList {\n  return DmInternal.defaults.gpio;\n}\n\n/** @internal */\n/** @private */\nexport const initialButtonPanelConfigurationDefaults: DmBpConfiguration = {\n  configureAutomatically: true,\n  configuration: 0,\n};\nObject.freeze(initialButtonPanelConfigurationDefaults);\n\n/** @internal */\n/** @private */\nconst createDefaultButtonPanelMap = (): DmButtonPanelMap => {\n  const bpMap: DmButtonPanelMap = {};\n  ButtonPanelNameArray.forEach((bpName) => {\n    bpMap[bpName] = Object.assign({}, initialButtonPanelConfigurationDefaults);\n  });\n  return bpMap;\n};\n\n/**\n * Get default ButtonPanel Configuration data object from defaults.\n *\n *  @returns DmButtonPanelMap object\n */\nexport function dmGetDefaultButtonPanelMap(): DmButtonPanelMap {\n  return DmInternal.defaults.buttonPanels;\n}\n\n/** @internal */\n/** @private */\nexport const initialAudioSignPropertyDefaults: DmAudioSignProperties = {\n  min: 0,\n  max: 100,\n};\nObject.freeze(initialAudioSignPropertyDefaults);\n\n/** @internal */\n/** @private */\nconst createDefaultAudioSignPropertyMap = (): DmAudioSignPropertyMap => {\n  const audioPropertyMap: DmAudioSignPropertyMap = {};\n  AudioOutputNameArray.forEach((audioName) => {\n    audioPropertyMap[audioName] = Object.assign({}, initialAudioSignPropertyDefaults);\n  });\n  return audioPropertyMap;\n};\n\n/**\n * Get default AudioSignPropertyMap data object from defaults.\n *\n *  @returns DmAudioSignPropertyMap object\n */\nexport function dmGetDefaultAudioSignPropertyMap(): DmAudioSignPropertyMap {\n  return DmInternal.defaults.audioSignPropertyMap;\n}\n\n// Zone property defaults\n\n/** @internal */\n/** @private */\nconst initialDefaultAudioOutputAssignmentMap: DmAudioOutputAssignmentMap = {\n  analog1: AudioOutputType.Pcm,\n  analog2: AudioOutputType.None,\n  analog3: AudioOutputType.None,\n  usbA: AudioOutputType.None,\n  usbB: AudioOutputType.None,\n  usbC: AudioOutputType.None,\n  usbD: AudioOutputType.None,\n  hdmi: AudioOutputType.Pcm,\n  spdif: AudioOutputType.Pcm,\n};\nObject.freeze(initialDefaultAudioOutputAssignmentMap);\n\n/** @internal */\n/** @private */\nexport const initialAudioZonePropertyDefaults: DmAudioZonePropertyData = {\n  audioOutput: AudioOutputSelectionType.Analog,\n  audioMode: AudioModeType.Stereo,\n  audioMapping: AudioMappingType.Audio1,\n  audioOutputAssignments: initialDefaultAudioOutputAssignmentMap,\n  audioMixMode: AudioMixModeType.Stereo,\n  audioVolume: 100,\n  minimumVolume: 0,\n  maximumVolume: 100,\n};\nObject.freeze(initialAudioZonePropertyDefaults);\n\n/**\n * Get default AudioZoneProperties data object from defaults.\n *\n *  @returns DmAudioZonePropertyData object\n */\nexport function dmGetDefaultAudioZoneProperties(): DmAudioZonePropertyData {\n  return DmInternal.defaults.audioZoneProperties;\n}\n\n/** @internal */\n/** @private */\nexport const initialEnhancedAudioZonePropertyDefaults: DmEnhancedAudioZonePropertyData = {\n  fadeLength: 4,\n};\nObject.freeze(initialEnhancedAudioZonePropertyDefaults);\n\n/**\n * Get default EnhancedAudioZoneProperties data object from defaults.\n *\n *  @returns DmEnhancedAudioZonePropertyData object\n */\nexport function dmGetDefaultEnhancedAudioZoneProperties(): DmEnhancedAudioZonePropertyData {\n  return DmInternal.defaults.enhancedAudioZoneProperties;\n}\n\n/** @internal */\n/** @private */\nexport const initialImageZonePropertyDefaults: DmImageZonePropertyData = {\n  imageMode: ImageModeType.CenterImage,\n};\nObject.freeze(initialImageZonePropertyDefaults);\n\n/**\n * Get default ImageZoneProperties data object from defaults.\n *\n *  @returns DmImageZonePropertyData object\n */\nexport function dmGetDefaultImageZoneProperties(): DmImageZonePropertyData {\n  return DmInternal.defaults.imageZoneProperties;\n}\n\n/** @internal */\n/** @private */\nexport const initialVideoZonePropertyDefaults: DmVideoZonePropertyData = {\n  viewMode: ViewModeType.Letterboxed,\n  liveVideoInput: LiveVideoInputType.SVideo,\n  liveVideoStandard: LiveVideoStandardType.NtscM,\n  videoVolume: 100,\n  brightness: 128,\n  contrast: 64,\n  saturation: 64,\n  hue: 0,\n  zOrderFront: true,\n  mosaic: false,\n  maxContentResolution: MosaicMaxContentResolutionType.HD,\n};\nObject.freeze(initialVideoZonePropertyDefaults);\n\n/**\n * Get default VideoZoneProperties data object from defaults.\n *\n *  @returns DmVideoZonePropertyData object\n */\nexport function dmGetDefaultVideoZoneProperties(): DmVideoZonePropertyData {\n  return DmInternal.defaults.videoZoneProperties;\n}\n\n/** @internal */\n/** @private */\nconst initialWidgetDefaults: DmWidget = {\n  foregroundTextColor: {a: 255, r: 160, g: 160, b: 160},\n  backgroundTextColor: {a: 255, r: 0, g: 0, b: 0},\n  font: 'System',\n  fontSize: 0,\n  backgroundBitmapAssetId: '',\n  stretchBitmapFile: false,\n  safeTextRegion: {x: 0, y: 0, width: 100, height: 100, pct: true},\n};\nObject.freeze(initialWidgetDefaults);\n\n/** @internal */\n/** @private */\nconst initialTextWidgetDefaults: DmTextWidget = {\n  numberOfLines: 3,\n  delay: 5,\n  rotation: RotationType.rot0,\n  alignment: TextHAlignmentType.Left,\n  scrollingMethod: TextScrollingMethodType.Animated,\n};\nObject.freeze(initialTextWidgetDefaults);\n\n/** @internal */\n/** @private */\nexport const initialTickerZonePropertyDefaults: DmTickerZonePropertyData = {\n  textWidget: initialTextWidgetDefaults,\n  widget: initialWidgetDefaults,\n  scrollSpeed: 100,\n};\nObject.freeze(initialTickerZonePropertyDefaults);\n\n/**\n * Get default TickerZoneProperties data object from defaults.\n *\n *  @returns DmTickerZonePropertyData object\n */\nexport function dmGetDefaultTickerZoneProperties(): DmTickerZonePropertyData {\n  return DmInternal.defaults.tickerZoneProperties;\n}\n\n/** @internal */\n/** @private */\nexport const initialClockZonePropertyDefaults: DmClockZonePropertyData = {\n  displayTime: true,\n  rotation: RotationType.rot0,\n  widget: initialWidgetDefaults,\n};\nObject.freeze(initialClockZonePropertyDefaults);\n\n/**\n * Get default ClockZoneProperties data object from defaults.\n *\n *  @returns DmClockZonePropertyData object\n */\nexport function dmGetDefaultClockZoneProperties(): DmClockZonePropertyData {\n  return DmInternal.defaults.clockZoneProperties;\n}\n\n// Content item defaults\n\n/** @internal */\n/** @private */\nexport const initialVideoContentItemDefaults: DmVideoContentItemData = {\n  volume: 100,\n  videoDisplayMode: VideoDisplayModeType.m2D,\n  automaticallyLoop: false,\n};\nObject.freeze(initialVideoContentItemDefaults);\n\n/**\n * Get default Video ContentItem defaults data object.\n *\n *  @returns DmVideoContentItemData object\n */\nexport function dmGetDefaultVideoContentItemData(): DmVideoContentItemData {\n  return DmInternal.defaults.videoContentItem;\n}\n\n/** @internal */\n/** @private */\nexport const initialAudioContentItemDefaults: DmAudioContentItemData = {\n  volume: 100,\n};\nObject.freeze(initialAudioContentItemDefaults);\n\n/**\n * Get default Audio ContentItem defaults data object.\n *\n *  @returns DmAudioContentItemData object\n */\nexport function dmGetDefaultAudioContentItemData(): DmAudioContentItemData {\n  return DmInternal.defaults.audioContentItem;\n}\n\n/** @internal */\n/** @private */\nexport const initialImageContentItemDefaults: DmImageContentItemDefaults = {\n  useImageBuffer: false,\n  videoPlayerRequired: false,\n  displayDuration: 6,\n};\nObject.freeze(initialImageContentItemDefaults);\n\n/**\n * Get default Image ContentItem defaults data object.\n *\n *  @returns DmImageContentItemDefaults object\n */\nexport function dmGetDefaultImageContentItemData(): DmImageContentItemDefaults {\n  return DmInternal.defaults.imageContentItem;\n}\n\n/** @internal */\n/** @private */\nexport const initialHtmlContentItemDefaults: DmHtmlContentItemDefaults = {\n  enableExternalData: false,\n  enableMouseEvents: false,\n  displayCursor: false,\n  hwzOn: false,\n  useUserStylesheet: false,\n  displayDuration: 0,\n};\nObject.freeze(initialHtmlContentItemDefaults);\n\n/**\n * Get default Html ContentItem defaults data object.\n *\n *  @returns DmHtmlContentItemDefaults object\n */\nexport function dmGetDefaultHtmlContentItemData(): DmHtmlContentItemDefaults {\n  return DmInternal.defaults.htmlContentItem;\n}\n\n/** @internal */\n/** @private */\nexport const initialMrssContentItemDefaults: DmMrssDataFeedContentItemData = {\n  videoPlayerRequired: false,\n};\nObject.freeze(initialMrssContentItemDefaults);\n\n/**\n * Get default MrssDataFeed ContentItem defaults data object.\n *\n *  @returns DmMrssDataFeedContentItemData object\n */\nexport function dmGetDefaultMrssDataFeedContentItemData(): DmMrssDataFeedContentItemData {\n  return DmInternal.defaults.mrssContentItem;\n}\n\n/** @internal */\n/** @private */\nexport const initialLiveVideoContentItemDefaults: DmLiveVideoContentItemDefaults = {\n  volume: 100,\n  overscan: false,\n  displayDuration: 0,\n};\nObject.freeze(initialLiveVideoContentItemDefaults);\n\n/**\n * Get default LiveVideo ContentItem defaults data object.\n *\n *  @returns DmLiveVideoContentItemDefaults object\n */\nexport function dmGetDefaultLiveVideoContentItemData(): DmLiveVideoContentItemDefaults {\n  return DmInternal.defaults.liveVideoContentItem;\n}\n\n/** @internal */\n/** @private */\nexport const initialStreamContentItemDefaults: DmStreamContentItemDefaults = {\n  volume: 100,\n  displayDuration: 0,\n};\nObject.freeze(initialStreamContentItemDefaults);\n\n/**\n * Get default VideoStream ContentItem defaults data object.\n *\n *  @returns DmStreamContentItemDefaults object\n */\nexport function dmGetDefaultVideoStreamContentItemData(): DmStreamContentItemDefaults {\n  return DmInternal.defaults.videoStreamContentItem;\n}\n\n/**\n * Get default AudioStream ContentItem defaults data object.\n *\n *  @returns DmStreamContentItemDefaults object\n */\nexport function dmGetDefaultAudioStreamContentItemData(): DmStreamContentItemDefaults {\n  return DmInternal.defaults.audioStreamContentItem;\n}\n\n/* tslint:disable:no-namespace */  // TODO - remove namespace as we move to DmcClasses\n/** @internal */\n/** @private */\nexport namespace DmInternal {\n\n  export class DefaultProperties implements DmDefaultProperties {\n\n    _signProperties: DmSignPropertyData;\n    _serialPortConfigurations: DmSerialPortList;\n    _gpioList: DmGpioList;\n    _buttonPanels: DmButtonPanelMap;\n    _audioSignPropertyMap: DmAudioSignPropertyMap;\n\n    _audioZoneProperties: DmAudioZonePropertyData;\n    _enhancedAudioZoneProperties: DmEnhancedAudioZonePropertyData;\n    _imageZoneProperties: DmImageZonePropertyData;\n    _videoZoneProperties: DmVideoZonePropertyData;\n    _tickerZoneProperties: DmTickerZonePropertyData;\n    _clockZoneProperties: DmClockZonePropertyData;\n\n    _videoContentItem: DmVideoContentItemData;\n    _audioContentItem: DmAudioContentItemData;\n    _imageContentItem: DmImageContentItemDefaults;\n    _htmlContentItem: DmHtmlContentItemDefaults;\n    _mrssContentItem: DmMrssDataFeedContentItemData;\n    _liveVideoContentItem: DmLiveVideoContentItemDefaults;\n    _videoStreamContentItem: DmStreamContentItemDefaults;\n    _audioStreamContentItem: DmStreamContentItemDefaults;\n\n    constructor() {\n      this.reset();\n    }\n\n    reset() {\n      this._signProperties = Object.assign({}, initialSignPropertyDefaults);\n      this._serialPortConfigurations = createDefaultSerialPortList();\n      this._gpioList = initialGpioListDefaults.slice();\n      this._buttonPanels = createDefaultButtonPanelMap();\n      this._audioSignPropertyMap = createDefaultAudioSignPropertyMap();\n\n      this._audioZoneProperties = Object.assign({}, initialAudioZonePropertyDefaults);\n      this._enhancedAudioZoneProperties = Object.assign({}, initialEnhancedAudioZonePropertyDefaults);\n      this._imageZoneProperties = Object.assign({}, initialImageZonePropertyDefaults);\n      this._videoZoneProperties = Object.assign({}, initialVideoZonePropertyDefaults);\n      this._tickerZoneProperties = Object.assign({}, initialTickerZonePropertyDefaults);\n      this._clockZoneProperties = Object.assign({}, initialClockZonePropertyDefaults);\n\n      this._videoContentItem = Object.assign({}, initialVideoContentItemDefaults);\n      this._audioContentItem = Object.assign({}, initialAudioContentItemDefaults);\n      this._imageContentItem = Object.assign({}, initialImageContentItemDefaults);\n      this._htmlContentItem = Object.assign({}, initialHtmlContentItemDefaults);\n      this._mrssContentItem = Object.assign({}, initialMrssContentItemDefaults);\n      this._liveVideoContentItem = Object.assign({}, initialLiveVideoContentItemDefaults);\n      this._videoStreamContentItem = Object.assign({}, initialStreamContentItemDefaults);\n      this._audioStreamContentItem = Object.assign({}, initialStreamContentItemDefaults);\n    }\n\n    merge(params: DmSetDefaultParams): void {\n      // TODO: Verify integrity of incoming default params ??\n      if (params.signProperties) {\n        Object.assign(this._signProperties, params.signProperties);\n      }\n      if (params.serialPortConfigurations && Array.isArray(params.serialPortConfigurations)) {\n        const updateList = params.serialPortConfigurations;\n        updateList.forEach((portConfig: DmSerialPortConfiguration) => {\n          const portNum = portConfig.port;\n          // If port property is missing, ignore the portConfig object\n          if (portNum != null) {\n            this._serialPortConfigurations[portNum] =\n              Object.assign({}, this._serialPortConfigurations[portNum], portConfig);\n          }\n        });\n      }\n      if (params.gpio && Array.isArray(params.gpio)) {\n        this._gpioList = params.gpio.slice();\n      }\n      if (params.buttonPanels) {\n        const updateList = params.buttonPanels;\n        Object.keys(updateList).forEach((bpName: string) => {\n          this._buttonPanels[bpName] = Object.assign({}, this._buttonPanels[bpName], updateList[bpName]);\n        });\n      }\n      if (params.audioSignPropertyMap) {\n        const updateList = params.audioSignPropertyMap;\n        Object.keys(updateList).forEach((audioName: string) => {\n          this._audioSignPropertyMap[audioName] =\n            Object.assign({}, this._audioSignPropertyMap[audioName], updateList[audioName]);\n        });\n      }\n      if (params.audioZoneProperties) {\n        Object.assign(this._audioZoneProperties, params.audioZoneProperties);\n      }\n      if (params.enhancedAudioZoneProperties) {\n        Object.assign(this._enhancedAudioZoneProperties, params.enhancedAudioZoneProperties);\n      }\n      if (params.imageZoneProperties) {\n        Object.assign(this._imageZoneProperties, params.imageZoneProperties);\n      }\n      if (params.videoZoneProperties) {\n        Object.assign(this._videoZoneProperties, params.videoZoneProperties);\n      }\n      if (params.tickerZoneProperties) {\n        const newProps = Object.assign({}, params.tickerZoneProperties);\n        if (params.tickerZoneProperties.textWidget) {\n          newProps.textWidget =\n            Object.assign({}, this._tickerZoneProperties.textWidget, params.tickerZoneProperties.textWidget);\n        }\n        if (params.tickerZoneProperties.widget) {\n          const widgetClone = cloneDeep(params.tickerZoneProperties.widget);\n          newProps.widget = Object.assign({}, this._tickerZoneProperties.widget, widgetClone);\n        }\n        Object.assign(this._tickerZoneProperties, newProps);\n      }\n      if (params.clockZoneProperties) {\n        const newProps = Object.assign({}, params.clockZoneProperties);\n        if (params.clockZoneProperties.widget) {\n          const widgetClone = cloneDeep(params.clockZoneProperties.widget);\n          newProps.widget = Object.assign({}, this._clockZoneProperties.widget, widgetClone);\n        }\n        Object.assign(this._clockZoneProperties, newProps);\n      }\n      if (params.videoContentItem) {\n        Object.assign(this._videoContentItem, params.videoContentItem);\n      }\n      if (params.audioContentItem) {\n        Object.assign(this._audioContentItem, params.audioContentItem);\n      }\n      if (params.imageContentItem) {\n        Object.assign(this._imageContentItem, params.imageContentItem);\n      }\n      if (params.htmlContentItem) {\n        Object.assign(this._htmlContentItem, params.htmlContentItem);\n      }\n      if (params.mrssContentItem) {\n        Object.assign(this._mrssContentItem, params.mrssContentItem);\n      }\n      if (params.liveVideoContentItem) {\n        Object.assign(this._liveVideoContentItem, params.liveVideoContentItem);\n      }\n      if (params.videoStreamContentItem) {\n        Object.assign(this._videoStreamContentItem, params.videoStreamContentItem);\n      }\n      if (params.audioStreamContentItem) {\n        Object.assign(this._audioStreamContentItem, params.audioStreamContentItem);\n      }\n    }\n\n    get allDefaults(): DmDefaultProperties {\n      return {\n        signProperties: this.signProperties,\n        serialPortConfigurations: this.serialPortConfigurations,\n        gpio: this.gpio,\n        buttonPanels: this.buttonPanels,\n        audioSignPropertyMap: this.audioSignPropertyMap,\n        audioZoneProperties: this.audioZoneProperties,\n        enhancedAudioZoneProperties: this.enhancedAudioZoneProperties,\n        imageZoneProperties: this.imageZoneProperties,\n        videoZoneProperties: this.videoZoneProperties,\n        tickerZoneProperties: this.tickerZoneProperties,\n        clockZoneProperties: this.clockZoneProperties,\n        videoContentItem: this.videoContentItem,\n        audioContentItem: this.audioContentItem,\n        imageContentItem: this.imageContentItem,\n        htmlContentItem: this.htmlContentItem,\n        mrssContentItem: this.mrssContentItem,\n        liveVideoContentItem: this.liveVideoContentItem,\n        videoStreamContentItem: this.videoStreamContentItem,\n        audioStreamContentItem: this.audioStreamContentItem,\n      };\n    }\n\n    get signProperties() { return cloneDeep(this._signProperties); }\n    get serialPortConfigurations() { return cloneDeep(this._serialPortConfigurations); }\n    get gpio() { return cloneDeep(this._gpioList); }\n    get buttonPanels() { return cloneDeep(this._buttonPanels); }\n    get audioSignPropertyMap() { return cloneDeep(this._audioSignPropertyMap); }\n    get audioZoneProperties() { return cloneDeep(this._audioZoneProperties); }\n    get enhancedAudioZoneProperties() { return cloneDeep(this._enhancedAudioZoneProperties); }\n    get imageZoneProperties() { return cloneDeep(this._imageZoneProperties); }\n    get videoZoneProperties() { return cloneDeep(this._videoZoneProperties); }\n    get tickerZoneProperties() { return cloneDeep(this._tickerZoneProperties); }\n    get clockZoneProperties() { return cloneDeep(this._clockZoneProperties); }\n    get videoContentItem() { return cloneDeep(this._videoContentItem); }\n    get audioContentItem() { return cloneDeep(this._audioContentItem); }\n    get imageContentItem() { return cloneDeep(this._imageContentItem); }\n    get htmlContentItem() { return cloneDeep(this._htmlContentItem); }\n    get mrssContentItem() { return cloneDeep(this._mrssContentItem); }\n    get liveVideoContentItem() { return cloneDeep(this._liveVideoContentItem); }\n    get videoStreamContentItem() { return cloneDeep(this._videoStreamContentItem); }\n    get audioStreamContentItem() { return cloneDeep(this._audioStreamContentItem); }\n  }\n\n  export let defaults = new DefaultProperties();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bsDmDefaults.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/bsDmDefaults.ts","/** @module Helpers:ParameterizedStrings */\n/**\n * Created by jimsugg on 1/28/17.\n */\n\nimport { StringParameterType } from '@brightsign/bscore';\nimport { BsDmId, DmParameterizedString } from './bsDmInterfaces';\n\n/**\n * Return a DmParameterizedString object representing a simple empty string\n *\n * @returns {DmParameterizedString}\n */\nexport function dmGetEmptyParameterizedString(): DmParameterizedString {\n  return { params: [] };\n}\n\n/**\n * Return a DmParameterizedString object representing a simple string\n *\n * @param value {string} - A string to encapsulate in the DmParameterizedString object\n * @returns {DmParameterizedString}\n */\nexport function dmGetParameterizedStringFromString(value: string): DmParameterizedString {\n  return { params: [{type: StringParameterType.Text, value}] };\n}\n\n/**\n * Resolve a given value into a DmParameterizedString based on it's type\n *\n * @param arg {DmParameterizedString | string | undefined} - value to resolve\n * @returns {DmParameterizedString}\n *    If argument a string, return a DmParameterizedstring representing that string\n *    If argument is a valid DmParameterizedstring object, return the argument\n *    If argument is undefined or any other type, return a DmParameterizedString representing an empty string\n */\nexport function dmResolveDmParameterizedString(arg: DmParameterizedString | string | undefined): DmParameterizedString {\n  if (arg !== undefined) {\n    if (typeof arg === 'string') {\n      return dmGetParameterizedStringFromString(arg);\n    } else if (dmIsValidParameterizedString(arg)) {\n      return arg;\n    }\n  }\n  return dmGetEmptyParameterizedString();\n}\n\n/**\n * Create/initialize a DmParameterizedString representing a user variable parameter.\n *\n * @param value {BsDmId} - the ID of the user variable to represent\n * @returns {DmParameterizedString}\n */\nexport function dmGetParameterizedStringFromUserVariable(value: BsDmId): DmParameterizedString {\n  return { params: [{type: StringParameterType.UserVariable, value}] };\n}\n\n/**\n * Append a string to a DmParameterizedString.\n *\n * @param ps {DmParameterizedString} - the parameterized string on which to append the new string\n * @param value {string} - the string to append\n * @returns {DmParameterizedString}\n */\nexport function dmAppendStringToParameterizedString(ps: DmParameterizedString, value: string): DmParameterizedString {\n  ps.params.push({type: StringParameterType.Text, value});\n  return ps;\n}\n\n/**\n * Append a user variable parameter to a DmParameterizedString.\n *\n * @param ps {DmParameterizedString} - the parameterized string on which to append the new user variable parameter\n * @param value {BsDmId} - the ID of the user variable to append as a parameter\n * @returns {DmParameterizedString}\n */\nexport function dmAppendUserVariableToParameterizedString(\n  ps: DmParameterizedString,\n  value: BsDmId,\n): DmParameterizedString {\n  ps.params.push({type: StringParameterType.UserVariable, value});\n  return ps;\n}\n\n/**\n * Check a variable to see if it is a valid DmParameterizedString object\n *\n * @param ps {DmParameterizedString} - the parameterized string to check\n * @returns {boolean} true is variable is a valid DmParameterizedString\n */\nexport function dmIsValidParameterizedString(ps: DmParameterizedString): boolean {\n  // This is primarily for cases where client is not using Typescript\n  if (typeof ps !== 'object' || !ps.params || !Array.isArray(ps.params) || ps.params.length === 0) {\n    return false;\n  }\n  let ok = true;\n  ps.params.every((component) => {\n    if (!(typeof component === 'object'\n        && component.hasOwnProperty('type')\n        && component.hasOwnProperty('value')\n        && (component.type === StringParameterType.Text || component.type === StringParameterType.UserVariable)\n        && typeof component.value === 'string'\n      )) {\n\n      ok = false;\n      return false;\n    }\n    return true;\n  });\n  return ok;\n}\n\n/**\n * If the given parameterized string contains only a simple string (i.e., contains no user variable parameters),\n *  return the simple string\n *\n * @param ps {DmParameterizedString} - the parameterized string from which to extract the simple string\n * @returns {string} - the contained string, if the DmParameterizedString represents a simple, non-parameterized string\n *      returns null if the DmParameterizedString contains any user variables\n */\nexport function dmGetSimpleStringFromParameterizedString(ps: DmParameterizedString): string | null {\n\n  let returnString: string;\n  if (typeof ps === 'object' && ps.params && ps.params.length) {\n    ps.params.every((param) => {\n      if (param.type === StringParameterType.UserVariable) {\n        returnString = undefined;\n        return false;\n      }\n      if (returnString) {\n        returnString = returnString + param.value;\n      } else {\n        returnString = param.value;\n      }\n      return true;\n    });\n  }\n  return returnString ? returnString : null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bsDmParameterizedStrings.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/bsDmParameterizedStrings.ts","/**\n * Created by jsugg on 10/11/16.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport { EventType } from '@brightsign/bscore';\nimport { BsDmId, DmEventData } from '../bsDmInterfaces';\n\nimport { BsDmAction, BsDmActionCreator } from './actionBase';\n\n// Actions\n/** @internal */\n/** @private */\nexport const ADD_EVENT = 'DM_ADD_EVENT';\n/** @internal */\n/** @private */\nexport const UPDATE_EVENT = 'DM_UPDATE_EVENT';\n/** @internal */\n/** @private */\nexport const DELETE_EVENT = 'DM_DELETE_EVENT';\n\nexport interface EventParams {\n  id: BsDmId;\n  name?: string;\n  type?: EventType;\n  mediaStateId?: BsDmId;\n  data?: DmEventData;\n}\nexport type EventAction = BsDmAction<EventParams>;\n\nexport function dmAddEvent(name: string, type: EventType, mediaStateId: BsDmId, data?: DmEventData): EventAction {\n  return {\n    type: ADD_EVENT,\n    payload: {\n      id: newBsDmId(),\n      name,\n      type,\n      mediaStateId,\n      data,\n    },\n  };\n}\n\nexport function dmUpdateEvent(params: EventParams): EventAction {\n  return {\n    type: UPDATE_EVENT,\n    payload: params,\n  };\n}\n\nexport function dmDeleteEvent(id: BsDmId): EventAction {\n  return {\n    type: DELETE_EVENT,\n    payload: {id},\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionEvent.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionEvent.ts","/** @module Selectors:Complex */\n/**\n * Created by jsugg on 10/10/16.\n */\n\nimport { BsDmId, DmIdParam, DmNameParam, DmTypeParam } from '../bsDmInterfaces';\nimport { DmcMediaState, DmcEvent } from '../bsDmClasses';\nimport { DmState } from '../reducers/index';\nimport {\n  getInitialMediaStateIdForZone, getInitialMediaStateForZone,\n  getMediaStateById, getMediaStateByName, getEventById,\n  canChangeZoneType,\n} from './selectorSignEntityDetail';\nimport { getZoneSimplePlaylist } from './selectorPlaylist';\n\n/**\n * Return MediaState ID of the initial MediaState in a zone\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: zone ID for which to return initial MediaState ID\n * @returns {BsDmId} - ID for initial zone MediaState\n *          - BsDmIdNone if zone contains no MediaStates\n *          - null if zone ID does not correspond to a valid zone\n */\nexport function dmGetInitialMediaStateIdForZone(state: DmState, props: DmIdParam): BsDmId | null {\n  return getInitialMediaStateIdForZone(state, props);\n}\n\n/**\n * Return DmcMediaState object representing the initial MediaState in a zone\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: zone ID for which to return initial MediaState\n * @returns {DmcMediaState) - mediaState object for initial MediaState in zone\n *          - null if zone contains no MediaStates, or if zone ID is not valid\n */\nexport function dmGetInitialMediaStateForZone(state: DmState, props: DmIdParam): DmcMediaState | null {\n  return getInitialMediaStateForZone(state, props);\n}\n\n/**\n * Return DmcMediaState object for a given MediaState ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: mediaState ID for which to return mediaState object\n * @returns {DmcMediaState} - mediaState object corresponding to given mediaState ID.\n *  Return null if mediaState is not found with the given ID.\n */\nexport function dmGetMediaStateById(state: DmState, props: DmIdParam): DmcMediaState | null {\n  return getMediaStateById(state, props);\n}\n\n/**\n * Return DmcMediaState object for a given MediaState name\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmNameParam} - name property: name string for which to return mediaState object\n * @returns {DmcMediaState} - mediaState object corresponding to given mediaState name.\n *  Return null if mediaState is not found with the given name.\n */\nexport function dmGetMediaStateByName(state: DmState, props: DmNameParam): DmcMediaState | null {\n  return getMediaStateByName(state, props);\n}\n\n/**\n * Return DmcEvent object for a given Event ID\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: event ID for which to return event object\n * @returns {DmcEvent} - event object corresponding to given event ID.\n *  Return null if event is not found with the given ID.\n */\nexport function dmGetEventById(state: DmState, props: DmIdParam): DmcEvent | null {\n  return getEventById(state, props);\n}\n\n/**\n * Return true if the zone specified by the 'id' property can be changed to a different zone type with the\n *  desired target ZoneType specified as a ZoneType string for the 'type' property.\n * Example call: canChange = dmCanChangeZoneType(getState(), {id: zoneId, type: ZoneType.VideoOnly})\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: zone ID to test; type property: ZoneType to which to change zone\n * @returns {boolean} true if change can be made successfully\n */\nexport function dmCanChangeZoneType(state: DmState, props: DmIdParam & DmTypeParam): boolean {\n  return canChangeZoneType(state, props);\n}\n\n/**\n * If the specified zone contains a valid simple playlist, return an array of MediaState IDs in playlist order.\n *\n * Criteria for valid simple playlist\n *      1. MediaState content may only be media (video, image, audio) or HTML (future: MRSS)\n *      2. Each MediaState must have one and only one event\n *          a. For video or audio, the event must be a MediaEnd event\n *          b. For images or HTML, the media must be Timer event\n *      3. Each event must have one and only one transition, which points to the next MediaState in the playlist\n *          a. The transition for the last event in the playlist must point back\n *             to the beginning MediaState (i.e., loop back)\n *          b. The transition for a MediaState can only point to itself (the same MediaState)\n *             if it is the only MediaState in the zone\n *      4. There can be no additional MediaStates in the zone that are not included in the playlist\n *\n * @param state {DmState} - bsDataModel state\n * @param props {DmIdParam} - id property: zone ID for which to return playlist array\n * @returns {BsDmId[]} - array of MediaState IDs in playlist order if zone contains a valid simple playlist\n *          - null if zone does not contain a valid simple playlist\n *          - null if zone does not exist\n */\nexport function dmGetZoneSimplePlaylist(state: DmState, props: DmIdParam): BsDmId[] | null {\n  return getZoneSimplePlaylist(state, props);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/selectors/index.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/selectors/index.ts","/** @module Actions:AssetMap */\n/**\n * Created by jimsugg on 4/23/17.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport { BsAssetItem, BsAssetId, bscGenerateAssetLocator } from '@brightsign/bscore';\nimport { DmState, dmGetAssetIdByLocator } from '../reducers/index';\nimport { BsDmAction, BsDmThunkAction, dmFilterDmState } from './actionBase';\nimport { DmErrorType, BsDmError } from '../bsDmError';\n\n// Actions\n/** @internal */\n/** @private */\nexport const PUT_ASSET_ITEM = 'DM_PUT_ASSET_ITEM';\n\n/** @internal */\n/** @private */\nexport const REMOVE_ASSET_ITEMS = 'DM_REMOVE_ASSET_ITEMS';\n\nexport type AssetItemParams = BsAssetItem;\nexport type AssetItemAction = BsDmAction<AssetItemParams>;\n\nexport function dmPutAssetItem(params: AssetItemParams): BsDmThunkAction<AssetItemParams> {\n  return (dispatch, getState): AssetItemAction => {\n    const putAction: AssetItemAction = {\n      type: PUT_ASSET_ITEM,\n      payload: Object.assign({}, params),\n    };\n    const locator = bscGenerateAssetLocator(params);\n    if (!locator) {\n      // If locator isn't valid, the assetItem isn't valid\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'Asset Item does not contain valid locator information', putAction);\n    }\n\n    // Save generated locator with payload\n    putAction.payload.locator = locator;\n    const dmState = dmFilterDmState(getState());\n    if (!putAction.payload.id) {\n      // If there is no ID, check to see if we already have an asset with the same locator\n      // Set ID to matching ID (if found,) or newly generated ID\n      dmSetAssetId(dmState, putAction.payload);\n    }\n    dispatch(putAction);\n    return putAction;\n  };\n}\n\n/** @internal */\n/** @private */\n/**\n * Look for AssetItem locator in current AssetMap. If found, set the assetId for the AssetItem to the matching ID.\n * If not found, set the assetId to a newly generated ID.\n * This function will also regenerate the locator and set the generated value to the AssetItem.\n *\n * @param state {DmState} - state object in which to lookup asset locator in asset map\n * @param assetItem {BsAssetItem} - asset item to set with matching ID, if found\n * @returns {BsAssetItem}\n */\nexport function dmSetAssetId(state: DmState, assetItem: BsAssetItem): BsAssetItem {\n  const locator = bscGenerateAssetLocator(assetItem);\n  const assetId = dmGetAssetIdByLocator(state, {locator});\n  assetItem.id = assetId ? assetId : newBsDmId();\n  assetItem.locator = locator;\n  return assetItem;\n}\n\n// Used internally to put assetItem without using a thunk to test locator info\n/** @internal */\n/** @private */\nexport function dmPutAssetItemWithoutTest(params: AssetItemParams): AssetItemAction {\n  const putAction: AssetItemAction = {\n    type: PUT_ASSET_ITEM,\n    payload: Object.assign({}, params),\n  };\n  const locator = bscGenerateAssetLocator(params);\n  // Save generated locator with payload\n  putAction.payload.locator = locator;\n  if (!putAction.payload.id) {\n    putAction.payload.id = newBsDmId();\n  }\n  return putAction;\n}\n\n/** @internal */\n/** @private */\nexport interface AssetItemRemoveParams {\n  assetIds: BsAssetId[];\n}\n/** @internal */\n/** @private */\nexport type AssetItemRemoveAction = BsDmAction<AssetItemRemoveParams>;\n\n/** @internal */\n/** @private */\nexport function dmRemoveAssetItems(id: BsAssetId | BsAssetId[]): AssetItemRemoveAction {\n  const assetIds = typeof id === 'string' ? [id] : id;\n  return {\n    type: REMOVE_ASSET_ITEMS,\n    payload: {assetIds},\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionAssetMap.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionAssetMap.ts","/**\n * Created by jsugg on 10/11/16.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport { TransitionType } from '@brightsign/bscore';\nimport { BsDmId, DmCondition } from '../bsDmInterfaces';\n\nimport { BsDmAction } from './actionBase';\n\n// Actions\n/** @internal */\n/** @private */\nexport const ADD_TRANSITION = 'DM_ADD_TRANSITION';\n/** @internal */\n/** @private */\nexport const UPDATE_TRANSITION = 'DM_UPDATE_TRANSITION';\n/** @internal */\n/** @private */\nexport const DELETE_TRANSITION = 'DM_DELETE_TRANSITION';\n\nexport interface TransitionParams {\n  id: BsDmId;\n  name?: string;\n  eventId?: BsDmId;\n  targetMediaStateId?: BsDmId;\n  type?: TransitionType;\n  duration?: number;\n  condition?: DmCondition;\n}\nexport type TransitionAction = BsDmAction<TransitionParams>;\n\nexport function dmAddTransition(\n  name: string,\n  eventId: BsDmId,\n  targetMediaStateId: BsDmId,\n  type: TransitionType = TransitionType.NoEffect,\n  duration: number = 0,\n  condition?: DmCondition,\n): TransitionAction {\n  return {\n    type: ADD_TRANSITION,\n    payload: {\n      id: newBsDmId(),\n      name,\n      eventId,\n      targetMediaStateId,\n      type,\n      duration,\n      condition,\n    },\n  };\n}\n\nexport function dmUpdateTransition(params: TransitionParams): TransitionAction {\n  return {\n    type: UPDATE_TRANSITION,\n    payload: params,\n  };\n}\n\nexport function dmDeleteTransition(id: BsDmId): TransitionAction {\n  return {\n    type: DELETE_TRANSITION,\n    payload: {id},\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionTransition.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionTransition.ts","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 19\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"redux\"","/** @module Actions:DataFeed */\n/**\n * Created by jimsugg on 1/24/17.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport { AccessType, DataFeedUsageType, BsnFeedProperties } from '@brightsign/bscore';\nimport { BsDmId, BsDmIdNone, DmParameterizedString } from '../bsDmInterfaces';\nimport { dmResolveDmParameterizedString } from '../bsDmParameterizedStrings';\n\nimport { BsDmAction } from './actionBase';\n\n// Actions\n/** @internal */\n/** @private */\nexport const ADD_DATA_FEED = 'DM_ADD_DATA_FEED';\n/** @internal */\n/** @private */\nexport const ADD_BSN_DATA_FEED = 'DM_ADD_BSN_DATA_FEED';\n/** @internal */\n/** @private */\nexport const UPDATE_DATA_FEED = 'DM_UPDATE_DATA_FEED';\n/** @internal */\n/** @private */\nexport const UPDATE_BSN_DATA_FEED = 'DM_UPDATE_BSN_DATA_FEED';\n/** @internal */\n/** @private */\nexport const DELETE_DATA_FEED = 'DM_DELETE_DATA_FEED';\n\nexport interface DataFeedParams {\n  id: BsDmId;\n  name?: string;\n  url?: DmParameterizedString | string;\n  usage?: DataFeedUsageType;\n  updateInterval?: number;\n  useHeadRequest?: boolean;\n  parserPlugin?: BsDmId;\n  autoGenerateUserVariables?: boolean;\n  userVariableAccess?: AccessType;\n}\nexport type DataFeedAction = BsDmAction<DataFeedParams>;\n\n/**\n * Add a standard DataFeed, as specified by the feed URL\n *\n * @param name {string} - local (friendly) name for the data feed\n * @param url {string | DmParameterizedString} - URL for the data feed\n * @param usage {DataFeedUsageType} - One of (DataFeedUsageType.) Text, Mrss, MrssWith4K, Content -\n *  this parameter specifies how the feed will be used.\n * @param [updateInterval=300] {interval} - interval in seconds at which data feed should be checked.\n * @param [useHeadRequest=true] {boolean} - true if data feed checking should be optimized by sending HEAD requests,\n * and then updating only if Last-Modified-Date has changed.\n * @param [parserPlugin=BsDmIdNone] {BsDmId} - id of a parser plugin for the feed, or BsDmIdNone if no plugin is used.\n * @param [autoGenerateUserVariables=false] {boolean} - true to indicate that data feed consists of name/value pairs\n *  that should be converted to UserVariable values.\n * @param [userVariableAccess=Private] {AccessType} - One of (AccessType.) Private.\n *  If autoGenerateUserVariables is true, this parameter indicates the access level to be set for the user variables.\n * @returns {DataFeedAction}\n */\nexport function dmAddDataFeed(\n  name: string,\n  url: DmParameterizedString | string,\n  usage: DataFeedUsageType,\n  updateInterval: number = 300,\n  useHeadRequest: boolean = true,\n  parserPlugin: BsDmId = BsDmIdNone,\n  autoGenerateUserVariables: boolean = false,\n  userVariableAccess: AccessType = AccessType.Private,\n): DataFeedAction {\n  return {\n    type: ADD_DATA_FEED,\n    payload: {\n      id: newBsDmId(),\n      name,\n      url: dmResolveDmParameterizedString(url),\n      usage,\n      updateInterval,\n      useHeadRequest,\n      parserPlugin,\n      autoGenerateUserVariables,\n      userVariableAccess,\n    },\n  };\n}\n\nexport interface BsnDataFeedParams {\n  id: BsDmId;\n  name?: string;\n  bsnDataFeed?: BsnFeedProperties;\n  usage?: DataFeedUsageType;\n  updateInterval?: number;\n  useHeadRequest?: boolean;\n  parserPlugin?: BsDmId;\n  autoGenerateUserVariables?: boolean;\n  userVariableAccess?: AccessType;\n  supportsAudio?: boolean;\n  matchPlayerTags?: boolean;\n}\nexport type BsnDataFeedAction = BsDmAction<BsnDataFeedParams>;\n\n/**\n * Update the properties for standard (URL based) data feed\n * @param params {DataFeedParams} - object containing properties to update. All properties are optional except for the\n *  'id' property, which must specify the data feed to be updated. The values of all other properties specified\n *  will replace the existing value of the corresponding property in the data feed object. Unspecified properties\n *  are left unchanged.\n *\n *  The type property cannot be changed. Attempts to do so will be ignored.\n * @returns {DataFeedAction}\n */\nexport function dmUpdateDataFeed(params: DataFeedParams): DataFeedAction {\n  let localParams = params;\n  if (params.hasOwnProperty('url')) {\n    localParams = Object.assign({}, params, {url: dmResolveDmParameterizedString(params.url)});\n  }\n  return {\n    type: UPDATE_DATA_FEED,\n    payload: localParams,\n  };\n}\n\n/**\n * Add a BSN DataFeed. BSN Data Feeds are those with any of the following DataFeedTypes:\n *  DataFeedType.BSNDataFeed, DataFeedType.BSNMediaFeed, DataFeedType.BSNDynamicPlaylist, DataFeedType.BSNTaggedPlaylist\n *\n * @param bsnDataFeed {BSNDataFeed} - BSNDataFeed object\n * @param usage {DataFeedUsageType} - One of (DataFeedUsageType.) Text, Mrss, MrssWith4K, Content -\n *  this parameter specifies how the feed will be used.\n * @param [name=BSN feed name] {string} - local (friendly) name for the data feed\n * @param [updateInterval=300] {interval} - interval in seconds at which data feed should be checked.\n * @param [useHeadRequest=true] {boolean} - true if data feed checking should be optimized by sending HEAD requests,\n * and then updating only if Last-Modified-Date has changed.\n * @param [parserPlugin=BsDmIdNone] {BsDmId} - id of a parser plugin for the feed, or BsDmIdNone if no plugin is used.\n * @param [autoGenerateUserVariables=false] {boolean} - true to indicate that data feed consists of name/value pairs\n *  that should be converted to UserVariable values.\n * @param [userVariableAccess=Private] {AccessType} - One of (AccessType.) Private, Shared\n *  If autoGenerateUserVariables is true, this parameter indicates the access level to be set for the user variables.\n * @param [supportsAudio=false] {boolean} - true if feed player needs to support audio.\n * @param [matchPlayerTags=false] {boolean} - true to match player tags within the feed.\n * @returns {BsnDataFeedAction}\n */\nexport function dmAddBsnDataFeed(\n  bsnDataFeed: BsnFeedProperties,\n  usage: DataFeedUsageType,\n  name: string = '',\n  updateInterval: number = 300,\n  useHeadRequest: boolean = true,\n  parserPlugin: BsDmId = BsDmIdNone,\n  autoGenerateUserVariables: boolean = false,\n  userVariableAccess: AccessType = AccessType.Private,\n  supportsAudio: boolean = false,\n  matchPlayerTags: boolean = false,\n): BsnDataFeedAction {\n  return {\n    type: ADD_BSN_DATA_FEED,\n    payload: {\n      id: newBsDmId(),\n      name: name ? name : bsnDataFeed.name,\n      bsnDataFeed,\n      usage,\n      updateInterval,\n      useHeadRequest,\n      parserPlugin,\n      autoGenerateUserVariables,\n      userVariableAccess,\n      supportsAudio,\n      matchPlayerTags,\n    },\n  };\n}\n\n/**\n * Update the properties for a BSN data feed\n * @param params {BsnDataFeedParams} - object containing properties to update. All properties are optional except for\n *  the 'id' property, which must specify the data feed to be updated. The values of all other properties specified\n *  will replace the existing value of the corresponding property in the data feed object. Unspecified properties\n *  are left unchanged.\n *\n *  The type property cannot be changed. Attempts to do so will be ignored.\n * @returns {BsnDataFeedAction}\n */\nexport function dmUpdateBsnDataFeed(params: BsnDataFeedParams): BsnDataFeedAction {\n  return {\n    type: UPDATE_BSN_DATA_FEED,\n    payload: params,\n  };\n}\n\n/**\n * Delete a data feed object from the data feed collection.\n * There is currently no check to determine if the data feed object is used in the sign. If the object is referenced\n *  in a DataFeedContentItem or a MrssDataFeedContentItem, such references will become invalid if the data feed object\n *  is deleted.\n *\n * @param id {BsDmId} - id of the data feed object to delete\n * @returns {DataFeedAction}\n */\nexport function dmDeleteDataFeed(id: BsDmId): DataFeedAction {\n  return {\n    type: DELETE_DATA_FEED,\n    payload: {id},\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionDataFeed.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionDataFeed.ts","/**\n * Created by jimsugg on 1/28/17.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport { HtmlSiteType } from '@brightsign/bscore';\nimport { BsDmId, DmParameterizedString } from '../bsDmInterfaces';\nimport { dmResolveDmParameterizedString } from '../bsDmParameterizedStrings';\nimport { BsDmAction } from './actionBase';\n\n// Actions\n/** @internal */\n/** @private */\nexport const ADD_HTML_SITE = 'DM_ADD_HTML_SITE';\n/** @internal */\n/** @private */\nexport const UPDATE_HTML_SITE = 'DM_UPDATE_HTML_SITE';\n/** @internal */\n/** @private */\nexport const DELETE_HTML_SITE = 'DM_DELETE_HTML_SITE';\n\nexport interface HtmlSiteBaseParams {\n  id: BsDmId;\n  type?: HtmlSiteType;\n  name?: string;\n  queryString?: DmParameterizedString | string;\n}\nexport interface HtmlSiteLocalParams extends HtmlSiteBaseParams {\n  indexAssetId?: string;\n}\nexport interface HtmlSiteRemoteParams extends HtmlSiteBaseParams {\n  url?: string;\n}\nexport interface HtmlSiteBrightPlateParams extends HtmlSiteBaseParams {\n  brightPlateName?: string;\n  displayName?: string;\n}\nexport type HtmlSiteParams = HtmlSiteLocalParams | HtmlSiteRemoteParams | HtmlSiteBrightPlateParams;\n\nexport type HtmlSiteLocalAction = BsDmAction<HtmlSiteLocalParams>;\nexport type HtmlSiteRemoteAction = BsDmAction<HtmlSiteRemoteParams>;\nexport type HtmlSiteBrightPlateAction = BsDmAction<HtmlSiteBrightPlateParams>;\nexport type HtmlSiteAction = BsDmAction<HtmlSiteParams>;\n\nexport function dmAddLocalHtmlSite(\n  name: string,\n  indexAssetId: string,\n  queryString?: DmParameterizedString | string,\n): HtmlSiteLocalAction {\n  return {\n    type: ADD_HTML_SITE,\n    payload: {\n      id: newBsDmId(),\n      type: HtmlSiteType.Local,\n      name,\n      indexAssetId,\n      queryString: dmResolveDmParameterizedString(queryString),\n    },\n  };\n}\n\nexport function dmAddRemoteHtmlSite(\n  name: string,\n  url: string,\n  queryString?: DmParameterizedString | string,\n): HtmlSiteRemoteAction {\n  return {\n    type: ADD_HTML_SITE,\n    payload: {\n      id: newBsDmId(),\n      type: HtmlSiteType.Remote,\n      name,\n      url,\n      queryString: dmResolveDmParameterizedString(queryString),\n    },\n  };\n}\n\nexport function dmAddBrightPlateHtmlSite(\n  name: string,\n  brightPlateName: string,\n  displayName: string,\n  queryString?: DmParameterizedString | string,\n): HtmlSiteBrightPlateAction {\n  return {\n    type: ADD_HTML_SITE,\n    payload: {\n      id: newBsDmId(),\n      type: HtmlSiteType.BrightPlate,\n      name,\n      brightPlateName,\n      displayName,\n      queryString: dmResolveDmParameterizedString(queryString),\n    },\n  };\n}\n\nexport function dmUpdateHtmlSite(params: HtmlSiteParams): HtmlSiteAction {\n  let localParams = params;\n  if (params.hasOwnProperty('queryString')) {\n    localParams = Object.assign({}, params, {queryString: dmResolveDmParameterizedString(params.queryString)});\n  }\n  return {\n    type: UPDATE_HTML_SITE,\n    payload: localParams,\n  };\n}\n\nexport function dmDeleteHtmlSite(id: BsDmId): HtmlSiteAction {\n  return {\n    type: DELETE_HTML_SITE,\n    payload: {id},\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionHtmlSite.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionHtmlSite.ts","/**\n * Created by jsugg on 1/19/17.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport { AccessType } from '@brightsign/bscore';\nimport { BsDmId, BsDmIdNone } from '../bsDmInterfaces';\n\nimport { BsDmAction } from './actionBase';\n\n// Actions\n/** @internal */\n/** @private */\nexport const ADD_USER_VARIABLE = 'DM_ADD_USER_VARIABLE';\n/** @internal */\n/** @private */\nexport const UPDATE_USER_VARIABLE = 'DM_UPDATE_USER_VARIABLE';\n/** @internal */\n/** @private */\nexport const DELETE_USER_VARIABLE = 'DM_DELETE_USER_VARIABLE';\n/** @internal */\n/** @private */\nexport const DELETE_USER_VARIABLES = 'DM_DELETE_USER_VARIABLES';\n\nexport interface UserVariableParams {\n  id: BsDmId;\n  name?: string;\n  defaultValue?: string;\n  access?: AccessType;\n  isNetworked?: boolean;\n  dataFeedId?: BsDmId;\n  systemVariable?: string;    // TODO: use enum for SystemVariableType\n}\nexport type UserVariableAction = BsDmAction<UserVariableParams>;\n\nexport function dmAddUserVariable(\n  name: string,\n  defaultValue: string,\n  access: AccessType = AccessType.Private,\n  isNetworked: boolean = false,\n  dataFeedId: BsDmId = BsDmIdNone,\n  systemVariable: string = '',\n): UserVariableAction {\n  return {\n    type: ADD_USER_VARIABLE,\n    payload: {\n      id: newBsDmId(),\n      name,\n      defaultValue,\n      access,\n      isNetworked,\n      dataFeedId,\n      systemVariable,\n    },\n  };\n}\n\nexport function dmUpdateUserVariable(params: UserVariableParams): UserVariableAction {\n  return {\n    type: UPDATE_USER_VARIABLE,\n    payload: params,\n  };\n}\n\nexport function dmDeleteUserVariable(id: BsDmId): UserVariableAction {\n  return {\n    type: DELETE_USER_VARIABLE,\n    payload: {id},\n  };\n}\n\nexport interface UserVariablesDeleteParams {\n  ids: BsDmId[];\n}\nexport type UserVariablesDeleteAction = BsDmAction<UserVariablesDeleteParams>;\n\nexport function dmDeleteUserVariables(ids: BsDmId[]): UserVariablesDeleteAction {\n  return {\n    type: DELETE_USER_VARIABLES,\n    payload: {ids},\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionUserVariable.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionUserVariable.ts","/**\n * Created by jimsugg on 9/20/16.\n */\n\nimport { createSelector } from 'reselect';\nimport { omit } from 'lodash';\n\nimport { EventType } from '@brightsign/bscore';\nimport { BsDmId, DmEventData, DmEvent, DmIdParam } from '../bsDmInterfaces';\nimport { EventParams, EventAction, ADD_EVENT, UPDATE_EVENT, DELETE_EVENT } from '../actions/actionEvent';\nimport { OpenSignAction, OpenSignParams, NEW_SIGN, OPEN_SIGN } from '../actions/actionSign';\nimport { DELETE_ZONE } from '../actions/actionZone';\nimport { MediaStateDeleteParams, MediaStateDeleteAction, DELETE_MEDIA_STATE } from '../actions/actionMediaState';\nimport { BsDmAction } from '../actions/actionBase';\nimport { DmMap } from './index';\n\nexport type DmEventMap = DmMap<DmEvent> | {};\n\nconst createEventState = (\n  id: BsDmId,\n  name: string,\n  type: EventType,\n  mediaStateId: BsDmId,\n  data: DmEventData,\n): DmEvent => ({\n  id, name, type, mediaStateId, data,\n});\n\nconst eventsById = (\n  state: DmEventMap = {},\n  action: (EventAction | MediaStateDeleteAction | OpenSignAction),\n): DmEventMap => {\n  const {type, payload} = action;\n  switch (type) {\n    case NEW_SIGN:\n      return {};\n    case OPEN_SIGN: {\n      const {newState} = payload as OpenSignParams;\n      return newState.events;\n    }\n    case ADD_EVENT: {\n      const {id, name, type: eventType, mediaStateId, data} = payload as EventParams;\n      return Object.assign({}, state, {[id]: createEventState(id, name, eventType, mediaStateId, data)});\n    }\n    case UPDATE_EVENT: {\n      const {id} = payload as EventParams;\n      const updatedEvent = Object.assign({}, state[id], payload as EventParams);\n      return Object.assign({}, state, {[id]: updatedEvent});\n    }\n    case DELETE_EVENT:\n      return omit(state, (payload as EventParams).id);\n    case DELETE_MEDIA_STATE:\n    case DELETE_ZONE:\n      // Array of Event IDs to delete are added to the payload by the action thunk function\n      const {eventIds} = payload as MediaStateDeleteParams;\n      if (eventIds && eventIds.length) {\n        return omit(state, eventIds);\n      }\n  }\n  return state;\n};\n\nconst eventReducer = eventsById;\n\n/** @internal */\n/** @private */\nexport default eventReducer;\n\nexport type DmEventCollectionState = DmEventMap;\n\n/** @internal */\n/** @private */\nexport const isValidEventState = (state: DmEventCollectionState): boolean => {\n  // TODO: check contained events for validity\n  return typeof state === 'object';\n};\n\n// Selectors\n\n/** @internal */\n/** @private */\nexport const getEventStateById = (state: DmEventCollectionState, props: DmIdParam): DmEvent | null => {\n  const eventState = state[props.id];\n  return eventState ? eventState : null;\n};\n\nconst getEventsById = (state: DmEventCollectionState) => state;\n\n/** @internal */\n/** @private */\nexport const getEventIdsForMediaState = createSelector<DmEventCollectionState, BsDmId[], DmEventMap, BsDmId> (\n  getEventsById,\n  (_, props: DmIdParam) => props.id as BsDmId,\n  (events, mediaStateId) => {\n    return Object.keys(events).filter((id, index, idArray): boolean => events[id].mediaStateId === mediaStateId);\n  },\n);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/reducerEvent.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/reducerEvent.ts","/**\n * Created by jimsugg on 9/11/16.\n */\n\nimport { createSelector } from 'reselect';\nimport { omit, cloneDeep } from 'lodash';\n\nimport { ContentItemType } from '@brightsign/bscore';\nimport { BsDmId, DmMediaState, DmIdParam, DmNameParam } from '../bsDmInterfaces';\nimport { OpenSignAction, OpenSignParams, NEW_SIGN, OPEN_SIGN } from '../actions/actionSign';\nimport { DELETE_ZONE } from '../actions/actionZone';\nimport {\n  MediaStateParams, MediaStateAction, MediaStateDeleteParams, MediaStateDeleteAction,\n  ADD_MEDIA_STATE, UPDATE_MEDIA_STATE, DELETE_MEDIA_STATE,\n} from '../actions/actionMediaState';\nimport { BsDmAction } from '../actions/actionBase';\nimport { DmMap } from './index';\n\n// TODO: for super states, add reducer for SET_INITIAL_MEDIA_STATE\n\nexport type DmMediaStateMap = DmMap<DmMediaState> | {};\n\nconst mediaStatesById = (\n  state: DmMediaStateMap = {},\n  action: (MediaStateAction | MediaStateDeleteAction | OpenSignAction),\n): DmMediaStateMap => {\n  const {type, payload} = action;\n  switch (type) {\n    case NEW_SIGN:\n      return {};\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      return newState.mediaStates;\n    case ADD_MEDIA_STATE: {\n      const {id, name, container, contentItem} = payload as MediaStateParams;\n      const containerCopy = cloneDeep(container);\n      const contentItemCopy = cloneDeep(contentItem);\n      return Object.assign({}, state, {[id]: { id, name, container: containerCopy, contentItem: contentItemCopy }});\n    }\n    case UPDATE_MEDIA_STATE: {\n      const {id} = payload as MediaStateParams;\n      if (state[id] !== undefined) {\n        const payloadCopy = payload as MediaStateParams;\n        if (payload.hasOwnProperty('contentItem') || payload.hasOwnProperty('container')) {\n          if (payload.hasOwnProperty('contentItem')) {\n            payloadCopy.contentItem = cloneDeep(payloadCopy.contentItem);\n          }\n          if (payload.hasOwnProperty('container')) {\n            payloadCopy.container = cloneDeep(payloadCopy.container);\n          }\n        }\n        const updatedMediaState = Object.assign({}, state[id], payloadCopy);\n        return Object.assign({}, state, {[id]: updatedMediaState});\n      }\n    }\n    case DELETE_MEDIA_STATE:\n    case DELETE_ZONE:\n      // Array of MediaState IDs to delete are added to the payload by the action thunk function\n      const {mediaStateIds} = payload as MediaStateDeleteParams;\n      if (mediaStateIds && mediaStateIds.length) {\n        return omit(state, mediaStateIds);\n      }\n  }\n  return state;\n};\n\nconst mediaStateReducer = mediaStatesById;\n\n/** @internal */\n/** @private */\nexport default mediaStateReducer;\n\nexport type DmMediaStateCollectionState = DmMediaStateMap;\n\n/** @internal */\n/** @private */\nexport const isValidMediaStateState = (state: DmMediaStateCollectionState): boolean => {\n  // TODO: check contained media states for validity\n  return typeof state === 'object';\n};\n\n// Selectors\n\n/** @internal */\n/** @private */\nexport const getMediaStateStateById =\n  (state: DmMediaStateCollectionState, props: DmIdParam): DmMediaState | null => {\n  const mediaState = state[props.id];\n  return mediaState ? mediaState : null;\n};\n\n/** @internal */\n/** @private */\nexport const getMediaStateStateByName = createSelector<\n  DmMediaStateCollectionState, DmMediaState | null, DmMediaStateMap, string>\n(\n  (state: DmMediaStateCollectionState) => state,\n  (_, props: DmNameParam) => props.name as BsDmId,\n  (states, name) => {\n    let mediaStateState: DmMediaState;\n    Object.keys(states).some((id): boolean => {\n      if (states[id].name === name) {\n        mediaStateState = states[id];\n        return true;\n      }\n    });\n    return mediaStateState ? mediaStateState : null;\n  },\n);\n\n/** @internal */\n/** @private */\nexport const getMediaStateIdsForZone = createSelector<\n  DmMediaStateCollectionState, BsDmId[], DmMediaStateMap, BsDmId>\n(\n  (state: DmMediaStateCollectionState) => state,\n  (_, props: DmIdParam) => props.id as BsDmId,\n  (states, zoneId) => {\n    return Object.keys(states).filter((id, index, idArray): boolean => states[id].container.id === zoneId);\n  },\n);\n\n/** @internal */\n/** @private */\nexport const getContentItemTypeForMediaStateId = (\n  state: DmMediaStateCollectionState,\n  props: DmIdParam,\n): ContentItemType | null => {\n  const mediaState = state[props.id];\n  return mediaState ? mediaState.contentItem.type : null;\n};\n\n// To be used in React Redux mapStateToProps, so that zone list memoization will be efficient for multiple zones\n/** @internal */\n/** @private */\nexport const makeGetMediaStatesForZone = () => {\n  return getMediaStateIdsForZone;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/reducerMediaState.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/reducerMediaState.ts","/**\n * Created by jimsugg on 9/18/16.\n */\n\nimport { combineReducers, Action } from 'redux';\n\nimport { VideoMode, PlayerModel } from '@brightsign/bscore';\nimport {\n  BsDmId, BsDmIdNone, BsDmStateVersion,\n  DmSignMetadata, DmSignProperties, DmSerialPortConfiguration, DmSerialPortList, DmGpioList,\n  DmButtonPanelMap, DmAudioSignPropertyMap,\n} from '../bsDmInterfaces';\nimport { DmcSignMetadata } from '../bsDmClasses';\nimport {\n  dmGetDefaultSignPropertyData, dmGetDefaultSerialPortList, dmGetDefaultGpioList,\n  dmGetDefaultButtonPanelMap, dmGetDefaultAudioSignPropertyMap,\n} from '../bsDmDefaults';\nimport {\n  SignAction, SignParams, OpenSignAction, OpenSignParams,\n  SerialPortListAction, SerialPortListParams, GpioListAction, GpioListParams,\n  ButtonPanelMapAction, ButtonPanelMapParams, AudioSignPropertyMapAction, AudioSignPropertyMapParams,\n  NEW_SIGN, OPEN_SIGN, UPDATE_SIGN_PROPS, UPDATE_SIGN_SERIAL_PORTS,\n  UPDATE_SIGN_GPIO, UPDATE_SIGN_BPMAP, UPDATE_SIGN_AUDIO_CONFIG,\n} from '../actions/actionSign';\n\n// Return an object conforming to default DmSignMetadata\n// This is for testing only, as reducers generate each component\n/** @internal */\n/** @private */\nexport const createDefaultSignState = (\n  id: BsDmId,\n  name: string,\n  videoMode?: VideoMode,\n  model?: PlayerModel,\n): DmSignMetadata =>\n  ({\n    properties: createDefaultSignProperties(id, name, videoMode, model),\n    serialPortConfigurations: dmGetDefaultSerialPortList(),\n    gpio: dmGetDefaultGpioList(),\n    buttonPanels: dmGetDefaultButtonPanelMap(),\n    audioSignPropertyMap: dmGetDefaultAudioSignPropertyMap(),\n  });\n\n/** @internal */\n/** @private */\nexport const createDefaultSignProperties = (\n  id: BsDmId,\n  name: string,\n  videoMode?: VideoMode,\n  model?: PlayerModel,\n): DmSignProperties => {\n  const optionals = videoMode !== undefined ? {videoMode} : {};\n  if (model !== undefined) {\n    Object.assign(optionals, {model});\n  }\n  return Object.assign(\n    {id, version: BsDmStateVersion, name},\n    dmGetDefaultSignPropertyData(),\n    optionals,\n  );\n};\n\nconst newSignProperties = createDefaultSignProperties(BsDmIdNone, 'Untitled');\n\nconst properties = (\n  state: DmSignProperties = newSignProperties,\n  {type, payload}: (SignAction | OpenSignAction),\n): DmSignProperties => {\n  switch (type) {\n    case NEW_SIGN:\n    case UPDATE_SIGN_PROPS:\n      return Object.assign({}, state, payload as SignParams);\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      return newState.sign.properties;\n  }\n  return state;\n};\n\nconst serialPortConfigurations = (\n  state: DmSerialPortList = dmGetDefaultSerialPortList(),\n  {type, payload}: (OpenSignAction | SerialPortListAction),\n): DmSerialPortList => {\n  switch (type) {\n    case NEW_SIGN:\n      return dmGetDefaultSerialPortList();\n    case UPDATE_SIGN_SERIAL_PORTS: {\n      const updateList = (payload as SerialPortListParams).params;\n      updateList.forEach((portConfig: DmSerialPortConfiguration) => {\n        const portNum = portConfig.port;\n        state[portNum] = Object.assign({}, state[portNum], portConfig);\n      });\n      return state;\n    }\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      return newState.sign.serialPortConfigurations;\n  }\n  return state;\n};\n\nconst gpio = (\n  state: DmGpioList = dmGetDefaultGpioList(),\n  {type, payload}: (OpenSignAction | GpioListAction),\n): DmGpioList => {\n  switch (type) {\n    case NEW_SIGN:\n      return dmGetDefaultGpioList();\n    case UPDATE_SIGN_GPIO: {\n      return (payload as GpioListParams).params;\n    }\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      return newState.sign.gpio;\n  }\n  return state;\n};\n\nconst buttonPanels = (\n  state: DmButtonPanelMap = dmGetDefaultButtonPanelMap(),\n  {type, payload}: (OpenSignAction | ButtonPanelMapAction),\n): DmButtonPanelMap => {\n  switch (type) {\n    case NEW_SIGN:\n      return dmGetDefaultButtonPanelMap();\n    case UPDATE_SIGN_BPMAP: {\n      const updateList = (payload as ButtonPanelMapParams).params;\n      Object.keys(updateList).forEach((bpName: string) => {\n        state[bpName] = Object.assign({}, state[bpName], updateList[bpName]);\n      });\n      return state;\n    }\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      return newState.sign.buttonPanels;\n  }\n  return state;\n};\n\nconst audioSignPropertyMap = (\n  state: DmAudioSignPropertyMap = dmGetDefaultAudioSignPropertyMap(),\n  {type, payload}: (OpenSignAction | AudioSignPropertyMapAction),\n): DmAudioSignPropertyMap => {\n  switch (type) {\n    case NEW_SIGN:\n      return dmGetDefaultAudioSignPropertyMap();\n    case UPDATE_SIGN_AUDIO_CONFIG: {\n      const updateList = (payload as AudioSignPropertyMapParams).params;\n      Object.keys(updateList).forEach((audioName: string) => {\n        state[audioName] = Object.assign({}, state[audioName], updateList[audioName]);\n      });\n      return state;\n    }\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      return newState.sign.audioSignPropertyMap;\n  }\n  return state;\n};\n\nconst signReducer = combineReducers<DmSignMetadata>(\n  {properties, serialPortConfigurations, gpio, buttonPanels, audioSignPropertyMap});\n\n/** @internal */\n/** @private */\nexport default signReducer;\n\n/** @internal */\n/** @private */\nexport const isValidSignState = (state: DmSignMetadata): boolean => {\n  return typeof state === 'object'\n    && state.hasOwnProperty('properties')\n    && state.properties.hasOwnProperty('version')\n    && state.properties.hasOwnProperty('name')\n    && state.properties.hasOwnProperty('videoMode')\n    && state.properties.hasOwnProperty('model')\n    && state.properties.hasOwnProperty('monitorOrientation')\n    && state.properties.hasOwnProperty('videoConnector')\n    && state.properties.hasOwnProperty('deviceWebPageDisplay')\n    && state.properties.hasOwnProperty('backgroundScreenColor')\n    && state.properties.hasOwnProperty('forceResolution')\n    && state.properties.hasOwnProperty('tenBitColorEnabled')\n    && state.properties.hasOwnProperty('htmlEnableJavascriptConsole')\n    && state.properties.hasOwnProperty('alphabetizeVariableNames')\n    && state.properties.hasOwnProperty('autoCreateMediaCounterVariables')\n    && state.properties.hasOwnProperty('resetVariablesOnPresentationStart')\n    && state.properties.hasOwnProperty('networkedVariablesUpdateInterval')\n    && state.properties.hasOwnProperty('delayScheduleChangeUntilMediaEndEvent')\n    && state.properties.hasOwnProperty('language')\n    && state.properties.hasOwnProperty('languageKey')\n    && state.properties.hasOwnProperty('flipCoordinates')\n    && state.properties.hasOwnProperty('isMosaic')\n    && state.properties.hasOwnProperty('inactivityTimeout')\n    && state.properties.hasOwnProperty('inactivityTime')\n    && state.properties.hasOwnProperty('touchCursorDisplayMode')\n    && state.properties.hasOwnProperty('graphicsZOrder')\n    && state.properties.hasOwnProperty('udpDestinationAddressType')\n    && state.properties.hasOwnProperty('udpDestinationAddress')\n    && state.properties.hasOwnProperty('udpDestinationPort')\n    && state.properties.hasOwnProperty('udpReceiverPort')\n    && state.hasOwnProperty('serialPortConfigurations')\n    && state.hasOwnProperty('gpio')\n    && state.hasOwnProperty('buttonPanels')\n    && state.hasOwnProperty('audioSignPropertyMap');\n};\n\n// Selectors\n\n/** @internal */\n/** @private */\nexport const getSignMetadata = (state: DmSignMetadata) => new DmcSignMetadata(state);\n/** @internal */\n/** @private */\nexport const getSignId = (state: DmSignMetadata) => state.properties.id;\n/** @internal */\n/** @private */\nexport const getSignName = (state: DmSignMetadata) => state.properties.name;\n/** @internal */\n/** @private */\nexport const getSignVideoMode = (state: DmSignMetadata) => state.properties.videoMode;\n/** @internal */\n/** @private */\nexport const getSignPlayerModel = (state: DmSignMetadata) => state.properties.model;\n/** @internal */\n/** @private */\nexport const getSignSerialPortConfigurations = (state: DmSignMetadata) => state.serialPortConfigurations;\n/** @internal */\n/** @private */\nexport const getSignGpioList = (state: DmSignMetadata) => state.gpio;\n/** @internal */\n/** @private */\nexport const getSignButtonPanelMap = (state: DmSignMetadata) => state.buttonPanels;\n/** @internal */\n/** @private */\nexport const getSignAudioPropertyMap = (state: DmSignMetadata) => state.audioSignPropertyMap;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/reducerSign.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/reducerSign.ts","/**\n * Created by jimsugg on 9/17/16.\n */\n\nimport { combineReducers, Action } from 'redux';\nimport { createSelector } from 'reselect';\nimport { omit, cloneDeep } from 'lodash';\n\nimport { VideoMode, ZoneType, BsRect } from '@brightsign/bscore';\nimport {\n  BsDmId, BsDmIdNone,\n  DmIdParam, DmNameParam, DmTagParam, DmTypeParam,\n  DmZone, DmZoneTagMap, DmZoneSpecificProperties,\n} from '../bsDmInterfaces';\nimport { DmState, DmMap } from './index';\nimport { DmcZone } from '../bsDmClasses';\nimport {\n  dmGetDefaultAudioZoneProperties, dmGetDefaultEnhancedAudioZoneProperties, dmGetDefaultImageZoneProperties,\n  dmGetDefaultVideoZoneProperties, dmGetDefaultTickerZoneProperties, dmGetDefaultClockZoneProperties,\n} from '../bsDmDefaults';\nimport { OpenSignAction, OpenSignParams, NEW_SIGN, OPEN_SIGN } from '../actions/actionSign';\nimport {\n  ZoneParams, ZoneAction, ZonePropertyUpdateParams, ZonePropertyUpdateAction, ZoneDeleteParams, ZoneDeleteAction,\n  ADD_ZONE, UPDATE_ZONE, UPDATE_ZONE_PROPS, DELETE_ZONE,\n} from '../actions/actionZone';\nimport { MediaStateParams, MediaStateAction, ADD_MEDIA_STATE } from '../actions/actionMediaState';\n\nexport type DmZoneMap = DmMap<DmZone> | {};\n\n// Return a simple object conforming to DmZone\n/** @internal */\n/** @private */\nexport const createDefaultZoneState = (\n  id: BsDmId,\n  name: string,\n  type: ZoneType,\n  tag: string,\n  nonInteractive: boolean = true,\n  position: BsRect = {x: 0, y: 0, width: 100, height: 100, pct: true},\n): DmZone => ({\n  id,\n  name,\n  type,\n  tag,\n  nonInteractive,\n  initialMediaStateId: BsDmIdNone,\n  position,\n  properties: createDefaultZoneProperties(type),\n});\n\n/** @internal */\n/** @private */\nexport const createDefaultZoneProperties = (type: ZoneType): DmZoneSpecificProperties => {\n  switch (type) {\n    case ZoneType.VideoOrImages:\n      return Object.assign(\n        dmGetDefaultVideoZoneProperties(),\n        dmGetDefaultAudioZoneProperties(),\n        dmGetDefaultImageZoneProperties());\n    case ZoneType.VideoOnly:\n      return Object.assign(dmGetDefaultVideoZoneProperties(), dmGetDefaultAudioZoneProperties());\n    case ZoneType.Images:\n      return dmGetDefaultImageZoneProperties();\n    case ZoneType.AudioOnly:\n      return dmGetDefaultAudioZoneProperties();\n    case ZoneType.EnhancedAudio:\n      return Object.assign(dmGetDefaultAudioZoneProperties(), dmGetDefaultEnhancedAudioZoneProperties());\n    case ZoneType.Ticker:\n      return dmGetDefaultTickerZoneProperties();\n    case ZoneType.Clock:\n      return dmGetDefaultClockZoneProperties();\n  }\n  return {};\n};\n\nconst zonesById = (\n  state: DmZoneMap = {},\n  {type, payload}: (ZoneAction | ZonePropertyUpdateAction | ZoneDeleteAction | MediaStateAction | OpenSignAction),\n): DmZoneMap => {\n  switch (type) {\n    case NEW_SIGN:\n      return {};\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      return newState.zones.zonesById;\n    case ADD_ZONE: {\n      const {id, name: zoneName, type: zoneType, tag, nonInteractive, position} = payload as ZoneParams;\n      return Object.assign({}, state,\n        {[id]: createDefaultZoneState(id, zoneName, zoneType, tag, nonInteractive, position)});\n    }\n    case UPDATE_ZONE: {\n      const {id} = payload as ZoneParams;\n      const updatedZone = Object.assign({}, state[id], payload);\n      return Object.assign({}, state, {[id]: updatedZone});\n    }\n    case UPDATE_ZONE_PROPS: {\n      const {id, properties} = payload as ZonePropertyUpdateParams;\n      const updatedProperties = Object.assign({}, state[id].properties, properties);\n      const updatedZone = Object.assign({}, state[id], {properties: updatedProperties});\n      return Object.assign({}, state, {[id]: updatedZone});\n    }\n    case DELETE_ZONE: {\n      const {zoneId} = payload as ZoneDeleteParams;\n      return omit(state, zoneId);\n    }\n    case ADD_MEDIA_STATE:\n      // First media state added to a zone always becomes the initial state\n      // For this action, action.id == mediaStateId, mediaState.container.id == ZoneId\n      const {id, container} = payload as MediaStateParams;\n      const zone = state[container.id];\n      if (zone && zone.initialMediaStateId === BsDmIdNone) {\n        const updatedZone = Object.assign({}, state[container.id], {initialMediaStateId: id});\n        return Object.assign({}, state, {[container.id]: updatedZone});\n      }\n      break;\n  }\n  return state;\n};\n\nconst allZones = (\n  state: BsDmId[] = [],\n  {type, payload}: (ZoneAction | MediaStateAction | ZoneDeleteAction | OpenSignAction),\n): BsDmId[] => {\n  switch (type) {\n    case NEW_SIGN:\n      return [];\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      return newState.zones.allZones;\n    case ADD_ZONE: {\n      const {id} = payload as ZoneParams;\n      return [...state, id];\n    }\n    case DELETE_ZONE: {\n      const {zoneId} = payload as ZoneDeleteParams;\n      const index = state.indexOf(zoneId);\n      if (index >= 0) {\n        return [...state.slice(0, index),\n          ...state.slice(index + 1)];\n      }\n    }\n  }\n  return state;\n};\n\nconst zoneReducer = combineReducers<DmZoneCollectionState>( {zonesById, allZones} );\n\n/** @internal */\n/** @private */\nexport default zoneReducer;\n\nexport interface DmZoneCollectionState {\n  zonesById: DmZoneMap;\n  allZones: BsDmId[];\n}\n\n/** @internal */\n/** @private */\nexport const isValidZoneState = (state: DmZoneCollectionState): boolean => {\n  return typeof state === 'object'\n    && state.hasOwnProperty('zonesById')\n    && typeof state.zonesById === 'object'\n    && state.hasOwnProperty('allZones')\n    && Array.isArray(state.allZones)\n    && state.allZones.length === Object.keys(state.zonesById).length;\n};\n\n// Selectors\n\n/** @internal */\n/** @private */\nexport const getZoneById = (state: DmState, props: DmIdParam): DmcZone | null => {\n  const zoneState = state.zones.zonesById[props.id];\n  return zoneState ? new DmcZone(zoneState, state.sign.properties.videoMode) : null;\n};\n\n/** @internal */\n/** @private */\nexport const getZoneByName = createSelector<DmState, DmcZone | null, DmZoneMap, string, VideoMode> (\n  (state: DmState) => state.zones.zonesById,\n  (_, props: DmNameParam) => props.name as string,\n  (state: DmState) => state.sign.properties.videoMode,\n  (zones, name, videoMode) => {\n    let zoneState: DmZone;\n    Object.keys(zones).some((id): boolean => {\n      if (zones[id].name === name) {\n        zoneState = zones[id];\n        return true;\n      }\n    });\n    return zoneState ? new DmcZone(zoneState, videoMode) : null;\n  },\n);\n\n/** @internal */\n/** @private */\nexport const getZoneByTag = createSelector<DmState, DmcZone | null, DmZoneMap, string, VideoMode> (\n  (state: DmState) => state.zones.zonesById,\n  (_, props: DmTagParam) => props.tag as string,\n  (state: DmState) => state.sign.properties.videoMode,\n  (zones, tag, videoMode) => {\n    let zoneState: DmZone;\n    Object.keys(zones).some((id): boolean => {\n      if (zones[id].tag === tag) {\n        zoneState = zones[id];\n        return true;\n      }\n    });\n    return zoneState ? new DmcZone(zoneState, videoMode) : null;\n  },\n);\n\n/** @internal */\n/** @private */\nexport const getZoneTypeById = (state: DmZoneCollectionState, props: DmIdParam): ZoneType | null => {\n  const zoneState = state.zonesById[props.id];\n  return zoneState ? zoneState.type : null;\n};\n\n/** @internal */\n/** @private */\nexport const getZonePropertiesById = (\n  state: DmZoneCollectionState,\n  props: DmIdParam,\n): DmZoneSpecificProperties | null => {\n  const zoneState = state.zonesById[props.id];\n  return zoneState ? cloneDeep(zoneState.properties) : null;\n};\n\nconst getZonesById = (state: DmZoneCollectionState) => state.zonesById;\n\n/** @internal */\n/** @private */\nexport const getZonePropertiesByName = createSelector<\n  DmZoneCollectionState, DmZoneSpecificProperties | null, DmZoneMap, string>\n(\n  getZonesById,\n  (_, props: DmNameParam) => props.name as string,\n  (zones, name) => {\n    let zoneState: DmZone;\n    Object.keys(zones).some((id): boolean => {\n      if (zones[id].name === name) {\n        zoneState = zones[id];\n        return true;\n      }\n    });\n    return zoneState ? cloneDeep(zoneState.properties) : null;\n  },\n);\n\n/** @internal */\n/** @private */\nexport const getZonePropertiesByTag = createSelector<\n  DmZoneCollectionState, DmZoneSpecificProperties | null, DmZoneMap, string>\n(\n  getZonesById,\n  (_, props: DmTagParam) => props.tag as string,\n  (zones, tag) => {\n    let zoneState: DmZone;\n    Object.keys(zones).some((id): boolean => {\n      if (zones[id].tag === tag) {\n        zoneState = zones[id];\n        return true;\n      }\n    });\n    return zoneState ? cloneDeep(zoneState.properties) : null;\n  },\n);\n\n/** @internal */\n/** @private */\nexport const getZonesForSign = (state: DmZoneCollectionState) => state.allZones;\n/** @internal */\n/** @private */\nexport const getZoneCount = (state: DmZoneCollectionState) => state.allZones.length;\n\n/** @internal */\n/** @private */\nexport const getZoneIdsForZoneType = createSelector<DmZoneCollectionState, BsDmId[], DmZoneMap, ZoneType> (\n  getZonesById,\n  (_, props: DmTypeParam) => props.type as ZoneType,\n  (zones, type) => {\n    const zoneIds: BsDmId[] = [];\n    Object.keys(zones).forEach((id) => {\n      const zone = zones[id];\n      if (zone.type === type) {\n        zoneIds.push(id);\n      }\n    });\n    return zoneIds;\n  },\n);\n\n/** @internal */\n/** @private */\nexport const getZoneTagMap = createSelector<DmZoneCollectionState, DmZoneTagMap, DmZoneMap> (\n  getZonesById,\n  (zones) => {\n    const tagMap: DmZoneTagMap = {};\n    Object.keys(zones).forEach((id) => {\n      const zone = zones[id];\n      if (zone.tag) {\n        tagMap[zone.tag] = id;\n      }\n    });\n    return tagMap;\n  },\n);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/reducerZone.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/reducerZone.ts","/**\n * Created by jsugg on 10/11/16.\n */\n\n/** @internal */\n/** @private */\nexport {DmDispatch, BsDmActionCreator, dmFilterDmState} from './actionBase';\n\n/** @internal */\n/** @private */\nexport {\n  SignParams, OpenSignParams,\n  SerialPortListParams, GpioListParams, ButtonPanelMapParams, AudioSignPropertyMapParams,\n  dmNewSign, dmOpenSign, dmVerifyAndOpenSign,\n  dmUpdateSignProperties, dmUpdateSignSerialPorts, dmUpdateSignGpio, dmUpdateSignButtonPanelMap,\n  dmUpdateSignAudioPropertyMap,\n} from './actionSign';\n/** @internal */\n/** @private */\nexport {\n  ZoneParams, ZonePropertyUpdateParams,\n  AudioZonePropertyParams, EnhancedAudioZonePropertyParams, ImageZonePropertyParams,\n  VideoZonePropertyParams, VideoOrImagesZonePropertyParams, TickerZonePropertyParams, ClockZonePropertyParams,\n  dmAddZone, dmUpdateZone, dmUpdateZoneProperties, dmDeleteZone,\n} from './actionZone';\n/** @internal */\n/** @private */\nexport {\n  MediaStateParams, MediaStateDeleteParams,\n  dmAddMediaStateWithContentItem, dmAddMediaState, dmUpdateMediaState, dmDeleteMediaState,\n} from './actionMediaState';\n/** @internal */\n/** @private */\nexport {EventParams, dmAddEvent, dmUpdateEvent, dmDeleteEvent} from './actionEvent';\n/** @internal */\n/** @private */\nexport {TransitionParams, dmAddTransition, dmUpdateTransition, dmDeleteTransition} from './actionTransition';\n/** @internal */\n/** @private */\nexport {\n  PlaylistAddMediaStateParams, PlaylistAddMediaStateRangeParams,\n  PlaylistDeleteMediaStateRangeParams, PlaylistDeleteMediaStateIndicesParams,\n  PlaylistMoveMediaStateRangeParams, PlaylistMoveMediaStateIndicesParams,\n  dmPlaylistAddMediaState, dmPlaylistAppendMediaState, dmPlaylistAddMediaStateRange, dmPlaylistUpdateMediaState,\n  dmPlaylistDeleteMediaStateRange, dmPlaylistDeleteMediaStatesAtIndices,\n  dmPlaylistMoveMediaStateRange, dmPlaylistMoveMediaStatesAtIndices,\n} from './actionPlaylist';\n/** @internal */\n/** @private */\nexport {\n  DataFeedParams, BsnDataFeedParams, dmAddDataFeed, dmAddBsnDataFeed,\n  dmUpdateDataFeed, dmUpdateBsnDataFeed, dmDeleteDataFeed,\n} from './actionDataFeed';\n/** @internal */\n/** @private */\nexport {\n  HtmlSiteParams, HtmlSiteLocalParams, HtmlSiteRemoteParams, HtmlSiteBrightPlateParams,\n  dmAddLocalHtmlSite, dmAddRemoteHtmlSite, dmAddBrightPlateHtmlSite,\n  dmUpdateHtmlSite, dmDeleteHtmlSite,\n} from './actionHtmlSite';\n/** @internal */\n/** @private */\nexport {\n  UserVariableParams, UserVariablesDeleteParams,\n  dmAddUserVariable, dmUpdateUserVariable, dmDeleteUserVariable, dmDeleteUserVariables,\n} from './actionUserVariable';\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/index.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/index.ts","module.exports = require(\"core-js/es6/set\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"core-js/es6/set\"\n// module id = 28\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"core-js/es6/set\"","module.exports = require(\"core-js/fn/array/from\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"core-js/fn/array/from\"\n// module id = 29\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"core-js/fn/array/from\"","module.exports = require(\"core-js/fn/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"core-js/fn/object/assign\"\n// module id = 30\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"core-js/fn/object/assign\"","/** @module Actions:Playlist */\n/**\n * Created by jsugg on 10/11/16.\n */\n\nimport { newBsDmId } from '../utils';\n\nimport {\n  ContentItemType, EventType, TransitionType, BsAssetItem, BsAssetId,\n} from '@brightsign/bscore';\nimport {\n  BsDmId, BsDmIdNone, DmMediaStateContainer,\n  DmDerivedContentItem, DmDerivedNonMediaContentItem, DmMediaContentItem, DmContentItemData,\n} from '../bsDmInterfaces';\nimport {\n  dmCreateMediaContentItem, dmContentItemIsMediaContentItem, dmIsValidContentItemForPlaylist, dmFilterContentItemData,\n} from '../bsDmContentItems';\nimport {\n  dmGetDefaultImageContentItemData, dmGetDefaultHtmlContentItemData,\n  dmGetDefaultLiveVideoContentItemData, dmGetDefaultVideoStreamContentItemData, dmGetDefaultAudioStreamContentItemData,\n} from '../bsDmDefaults';\nimport { DmErrorType, BsDmError } from '../bsDmError';\n\nimport { dmGetZoneSimplePlaylist, dmGetMediaStateById } from '../selectors/index';\nimport { dmGetZoneTypeById, dmGetMediaStateStateById } from '../reducers/index';\nimport {\n  MediaStateParams, dmContentIsAssetItem, dmAddMediaStateWithContentItem, dmUpdateMediaState,\n} from './actionMediaState';\nimport { dmAddEvent } from './actionEvent';\nimport { dmAddTransition, dmUpdateTransition } from './actionTransition';\nimport { dmUpdateZoneWithoutTest } from './actionZone';\nimport { MediaStateAction, dmGetMediaStateDeleteParams, dmDeleteMediaStateWithParams } from './actionMediaState';\nimport { dmSetAssetId, dmPutAssetItemWithoutTest, dmRemoveAssetItems } from './actionAssetMap';\n\nimport { BsDmBaseAction, BsDmAction, BsDmThunkAction, dmBatchActions, dmFilterDmState } from './actionBase';\n\n// Actions\n/** @internal */\n/** @private */\nexport const PLAYLIST_ADD_MEDIA_STATE_AT_INDEX = 'DM_PLAYLIST_ADD_MEDIA_STATE_AT_INDEX';\n/** @internal */\n/** @private */\nexport const PLAYLIST_ADD_MEDIA_STATE_RANGE_AT_INDEX = 'DM_PLAYLIST_ADD_MEDIA_STATE_RANGE_AT_INDEX';\n/** @internal */\n/** @private */\nexport const PLAYLIST_DELETE_MEDIA_STATE_RANGE = 'DM_PLAYLIST_DELETE_MEDIA_STATE_RANGE';\n/** @internal */\n/** @private */\nexport const PLAYLIST_DELETE_MEDIA_STATE_AT_INDICES = 'DM_PLAYLIST_DELETE_MEDIA_STATE_AT_INDICES';\n/** @internal */\n/** @private */\nexport const PLAYLIST_MOVE_MEDIA_STATE_RANGE_TO_INDEX = 'DM_PLAYLIST_MOVE_MEDIA_STATE_RANGE_TO_INDEX';\n/** @internal */\n/** @private */\nexport const PLAYLIST_MOVE_MEDIA_STATE_INDICES_TO_INDEX = 'DM_PLAYLIST_MOVE_MEDIA_STATE_INDICES_TO_INDEX';\n\n/** @internal */\n/** @private */\nconst getDefaultNameForContentItem = (contentItem: DmDerivedContentItem, index: number): string => {\n  return contentItem.name ? contentItem.name : 'State' + index;\n};\n\n/** @internal */\n/** @private */\nconst getDefaultEventTypeForContentItem = (contentItem: DmDerivedContentItem): EventType => {\n  // Assume it will be a timer\n  let eventType = EventType.Timer;\n  if (contentItem.type === ContentItemType.Video || contentItem.type === ContentItemType.Audio) {\n    // Set it to mediaEnd if it is media with a duration\n    eventType = EventType.MediaEnd;\n  }\n  return eventType;\n};\n\n/** @internal */\n/** @private */\nconst getDefaultEventDataForEventType = (eventType: EventType, contentItem: DmDerivedContentItem): any => {\n  switch (eventType) {\n    case EventType.Timer: {\n      let duration = 0;\n      switch (contentItem.type) {\n        case ContentItemType.Image: {\n          const defaults = dmGetDefaultImageContentItemData();\n          duration = defaults.displayDuration;\n          break;\n        }\n        case ContentItemType.Html: {\n          const defaults = dmGetDefaultHtmlContentItemData();\n          duration = defaults.displayDuration;\n          break;\n        }\n        case ContentItemType.LiveVideo: {\n          const defaults = dmGetDefaultLiveVideoContentItemData();\n          duration = defaults.displayDuration;\n          break;\n        }\n        case ContentItemType.VideoStream: {\n          const defaults = dmGetDefaultVideoStreamContentItemData();\n          duration = defaults.displayDuration;\n          break;\n        }\n        case ContentItemType.AudioStream: {\n          const defaults = dmGetDefaultAudioStreamContentItemData();\n          duration = defaults.displayDuration;\n          break;\n        }\n      }\n      return { interval: duration };\n    }\n  }\n  return undefined;\n};\n\n/** @internal */\n/** @private */\nconst getDefaultTransitionType = (): TransitionType => TransitionType.NoEffect;\n\n/**\n * Payload structure for PlaylistAddMediaStateAction\n *  This is not directly used, since this action is a compound action.\n *  It is returned to detail the payload in the action returned from the action dispatch.\n */\nexport interface PlaylistAddMediaStateParams {\n  id: BsDmId;\n  index: number;\n  container: DmMediaStateContainer;\n  contentItem: DmDerivedContentItem;\n  name?: string;\n  transitionType?: TransitionType;\n  eventType?: EventType;\n  eventData?: any;\n}\nexport type PlaylistAddMediaStateAction = BsDmAction<PlaylistAddMediaStateParams>;\n\n/**\n * Add a new MediaState to the playlist at a given index.\n * This function will fail if the MediaState container does not contain a valid simple playlist.\n *\n * @param index {number} - zero based index at which to add new MediaState.\n *   If out of range, MediaState will be appended to the end.\n * @param container {DmMediaStateContainer}- MediaState container\n * @param content {DmDerivedNonMediaContentItem | BsAssetItem} - Content\n *   This can be either a DerivedContentItem (for non media based contentItems,)\n *   or a BsAssetItem (for media file content.) If a BsAssetItem is given, the asset will be added to\n *   the AssetMap if necessary, and a DmMediaContentItem will be generated for the MediaState with the\n *   correct asset ID\n * @param [name=fileName or 'StateX'] {string} - desired mediaState name.\n *   Default: media fileName if contentItem has a media file, \"State\" + a numeric index otherwise\n * @param [contentData=default values] {DmContentItemData} - contains values for one or more contentItem\n *   properties. This can be used to set ancillary contentItem properties when the 'content' param\n *   is an assetItem.\n * @param [transitionType=NoEffect] {TransitionType} - type of Transition to next state.\n * @param [eventType] {EventType} - type of event that triggers the transition.\n *   Default: MediaEnd for video/audio, Timer for images\n * @param [eventData=undefined] {object} - data for event. For timer events, this be be a DmTimer object\n * @returns {BsDmThunkAction} When dispatched, the thunk function will return a PlaylistAddMediaStateAction object.\n *   If the thunk function succeeds, the action properties returned will be the ones used, including substitutions\n *   made for optional input.\n *   If the function fails, a BsDmError is thrown.\n */\n// TODO: test mediaState compatibility to zone and fail if incompatible contentItem\nexport function dmPlaylistAddMediaState(\n  index: number,\n  container: DmMediaStateContainer,\n  content: DmDerivedNonMediaContentItem | BsAssetItem,\n  name?: string,\n  contentData?: Partial<DmContentItemData>,\n  transitionType?: TransitionType,\n  eventType?: EventType,\n  eventData?: any,\n): BsDmThunkAction<PlaylistAddMediaStateParams> {\n  return (dispatch, getState): PlaylistAddMediaStateAction  => {\n    const newMediaStateId = newBsDmId();\n    let contentItem: DmDerivedContentItem;\n    let assetItem: BsAssetItem | undefined;\n    let invalidContentItem = false;\n    if (dmContentIsAssetItem(content)) {\n      // Duplicate the asset item, since it will be mutated\n      assetItem = Object.assign({}, content);\n      contentItem = dmCreateMediaContentItem(assetItem.name, '', assetItem.mediaType);\n    } else {\n      invalidContentItem = dmContentItemIsMediaContentItem(content);\n      contentItem = content;\n    }\n    const contentItemData = dmFilterContentItemData(contentItem.type, contentData);\n    if (contentItemData) {\n      contentItem = Object.assign({}, contentItem, contentItemData);\n    }\n    const mainAction: PlaylistAddMediaStateAction =  {\n      type: PLAYLIST_ADD_MEDIA_STATE_AT_INDEX,\n      payload: { id: newMediaStateId, index, container, contentItem, name, transitionType, eventType, eventData },\n    };\n    // If given content is a contentItem, reject if it is a MediaContentItem\n    if (invalidContentItem) {\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'MediaContentItems must be specified by AssetItem parameters', mainAction);\n    }\n    const dmState = dmFilterDmState(getState());\n    const playlistIds = dmGetZoneSimplePlaylist(dmState, {id: container.id});\n    if (!playlistIds) {\n      throw new BsDmError(DmErrorType.invalidOperation,\n        'Zone does not contain a valid simple playlist', mainAction);\n    }\n    const zoneType = dmGetZoneTypeById(dmState, {id: container.id});\n    if (!dmIsValidContentItemForPlaylist(contentItem, zoneType)) {\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'Content item type \"' + contentItem.type + '\" cannot be added to \"' + zoneType + '\" zone', mainAction);\n    }\n    // Append mediaState if index in undefined or invalid\n    if (index === undefined || index > playlistIds.length || index < 0) {\n      index = playlistIds.length;\n    }\n    // Set defaults for data that is not specified\n    if (!name || name === '') {\n      mainAction.payload.name = name = getDefaultNameForContentItem(contentItem, playlistIds.length + 1);\n    }\n    if (!eventType) {\n      mainAction.payload.eventType = eventType = getDefaultEventTypeForContentItem(contentItem);\n    }\n    if (eventType === EventType.Timer && !(eventData && eventData.interval)) {\n      mainAction.payload.eventData = eventData = getDefaultEventDataForEventType(eventType, contentItem);\n    }\n    if (!transitionType) {\n      mainAction.payload.transitionType = transitionType = getDefaultTransitionType();\n    }\n\n    // Get IDs of previous and next mediaStates in the playlist\n    let prevMediaStateId: BsDmId;\n    let nextMediaStateId: BsDmId;\n    if (playlistIds.length > 1) {\n      if (index > 0) {\n        prevMediaStateId = playlistIds[index - 1];\n      } else {\n        prevMediaStateId = playlistIds[playlistIds.length - 1];\n      }\n      if (index === playlistIds.length) {\n        nextMediaStateId = playlistIds[0];\n      } else {\n        nextMediaStateId = playlistIds[index];\n      }\n    } else if (playlistIds.length === 1) {\n      prevMediaStateId = nextMediaStateId = playlistIds[0];\n    } else {\n      // This is the first mediaState added, so we add an event with a transition pointing\n      //  back to this state\n      nextMediaStateId = newMediaStateId;\n    }\n    // Get the previous media state, if there is one\n    let prevMediaState;\n    if (prevMediaStateId) {\n      prevMediaState = dmGetMediaStateById(dmState, {id: prevMediaStateId});\n    }\n\n    const batchedActions: BsDmBaseAction[] = [];\n    // If we have an asset item, we need to make sure it is in the assetMap\n    if (assetItem) {\n      assetItem = dmSetAssetId(dmState, assetItem);\n      (contentItem as DmMediaContentItem).assetId = assetItem.id;\n      batchedActions.push(dmPutAssetItemWithoutTest(assetItem));\n      mainAction.payload.contentItem = contentItem;\n    }\n    // Add the mediaState to the zone in the data model\n    const addMediaStateAction = dmAddMediaStateWithContentItem(name, container, contentItem);\n    // Substitute our created ID into the payload\n    addMediaStateAction.payload.id = newMediaStateId;\n    batchedActions.push(addMediaStateAction);\n\n    // Add event for media state\n    const eventAction = dmAddEvent(name + '_ev', eventType, newMediaStateId, eventData);\n    const newEventId = eventAction.payload.id;\n    batchedActions.push(eventAction);\n\n    // Transition target for the previous media state should change to point to the new state.\n    if (prevMediaState) {\n      const transitionId = prevMediaState.eventList[0].defaultTransition.id;\n      batchedActions.push(dmUpdateTransition({id: transitionId, targetMediaStateId: newMediaStateId}));\n    }\n    // Add a transition for the event in the new media state to the next media state\n    batchedActions.push(dmAddTransition(name + '_tr', newEventId, nextMediaStateId, transitionType));\n\n    if (index === 0) {\n      // If new state is placed in first position, update initialMediaStateId for the zone\n      // Use our internal function that doesn't use the thunk to test initialMediaState\n      batchedActions.push(dmUpdateZoneWithoutTest({id: container.id, initialMediaStateId: newMediaStateId}));\n    }\n    dispatch(dmBatchActions(batchedActions));\n    return mainAction;\n  };\n}\n\n/**\n * Append a new MediaState to the end of the playlist.\n *  This function will fail if the MediaState container does not contain a valid simple playlist.\n *\n * @param container {DmMediaStateContainer} - MediaState container\n * @param content {DmDerivedNonMediaContentItem | BsAssetItem} - Content\n *   This can be either a DerivedContentItem (for non media based contentItems,)\n *   or a BsAssetItem (for media file content.) If a BsAssetItem is given, the asset will be added to\n *   the AssetMap if necessary, and a DmMediaContentItem will be generated for the MediaState with the\n *   correct asset ID\n * @param [name=fileName or 'StateX'] {string} - desired mediaState name.\n *   Default: media fileName if contentItem has a media file, \"State\" + a numeric index otherwise\n * @param [contentData=default values] {DmContentItemData} - contains values for one or more contentItem\n *   properties. This can be used to set ancillary contentItem properties when the 'content' param\n *   is an assetItem.\n * @param [transitionType=NoEffect] {TransitionType} - type of Transition to next state.\n * @param [eventType] {EventType} - type of event that triggers the transition.\n *   Default: MediaEnd for video/audio, Timer for images\n * @param [eventData] {object} - data for event. For timer events, this be be a DmTimer object\n * @returns {BsDmThunkAction} When dispatched, the thunk function will return a PlaylistAddMediaStateAction object.\n *   If the thunk function succeeds, the action properties returned will be the ones used, including substitutions\n *   made for optional input.\n *   If the function fails, a BsDmError is thrown.\n */\nexport function dmPlaylistAppendMediaState(\n  container: DmMediaStateContainer,\n  content: DmDerivedNonMediaContentItem | BsAssetItem,\n  name?: string,\n  contentData?: Partial<DmContentItemData>,\n  transitionType?: TransitionType,\n  eventType?: EventType,\n  eventData?: any,\n): BsDmThunkAction<PlaylistAddMediaStateParams> {\n  return dmPlaylistAddMediaState(-1, container, content, name, contentData, transitionType, eventType, eventData);\n}\n\nexport interface PlaylistAddMediaStateRangeParams {\n  index: number;\n  container: DmMediaStateContainer;\n  id: BsDmId[];\n  contentItems: DmDerivedContentItem[];\n  name?: string[];\n}\nexport type PlaylistAddMediaStateRangeAction = BsDmAction<PlaylistAddMediaStateRangeParams>;\n\n/**\n * Add one or more new MediaStates, as a range, at a specific index in the playlist.\n *  This function will fail if the MediaState container does not contain a valid simple playlist.\n *\n * @param index {number} - zero based index at which to add new MediaState.\n *   If out of range, MediaState will be appended to the end.\n * @param container {DmMediaStateContainer} - MediaState container\n * @param content {Array<DmDerivedNonMediaContentItem | BsAssetItem>} - array of Content objects\n *   Each element can be either a DerivedContentItem (for non media based contentItems,)\n *   or a BsAssetItem (for media file content.) If a BsAssetItem is given, the asset will be added to\n *   the AssetMap if necessary, and a DmMediaContentItem will be generated for the MediaState with the\n *   correct asset ID\n * @param [name=fileName or 'StateX'] {string[] | null} - array of desired mediaState name corresponding\n *   to order of contentItem array. Pass null in any position  to indicate the default name should be\n *   used for the corresponding content item.\n *   Default: for any names that are missing, the filename is used if contentItem has a media file,\n *   \"State\" + a numeric index otherwise\n * @param [contentData=default values] {DmContentItemData[]} - an array of objects, each of which\n *   contains values for one or more contentItem properties associated with the corresponding content\n *   object on the 'content' array parameter. This can be used to set ancillary contentItem properties\n *   when a 'content' param is an assetItem. If default values are desired for one or more of the\n *   content items, set the corresponding member in this array to null.\n * @returns {BsDmThunkAction} When dispatched, the thunk function will return a PlaylistAddMediaStateRangeAction object.\n *   If the thunk function succeeds, the action properties returned will be the ones used, including substitutions\n *   made for optional input.\n *   If the function fails, a BsDmError is thrown.\n */\n// TODO: test mediaState compatibility to zone and fail if incompatible contentItem is included\nexport function dmPlaylistAddMediaStateRange(\n  index: number,\n  container: DmMediaStateContainer,\n  content: Array<DmDerivedNonMediaContentItem | BsAssetItem>,\n  name?: string[] | null,\n  contentData?: Array<Partial<DmContentItemData>>,\n): BsDmThunkAction<PlaylistAddMediaStateRangeParams> {\n  return (dispatch, getState): PlaylistAddMediaStateRangeAction => {\n    const getName = (i) => name && i < name.length ? name[i] : '';\n    const mainAction: PlaylistAddMediaStateRangeAction = {\n      type: PLAYLIST_ADD_MEDIA_STATE_RANGE_AT_INDEX,\n      payload: {\n        index,\n        container,\n        id: [] as BsDmId[],\n        name: [] as string[],\n        contentItems: [] as DmDerivedContentItem[],\n      },\n    };\n    if (!content || content.length === 0) {\n      // Invalid parameters\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'Invalid parameters for MediaState addition: no content provided', mainAction);\n    }\n\n    const dmState = dmFilterDmState(getState());\n    const playlistIds = dmGetZoneSimplePlaylist(dmState, {id: container.id});\n    if (!playlistIds) {\n      throw new BsDmError(DmErrorType.invalidOperation,\n        'Zone does not contain a valid simple playlist', mainAction);\n    }\n    const contentItems: DmDerivedContentItem[] = [];\n    const assetItems: BsAssetItem[] | undefined = [];\n    let invalidContentItem = false;\n    content.forEach((item, contentIndex) => {\n      let contentItem: DmDerivedContentItem;\n      if (dmContentIsAssetItem(item)) {\n        assetItems.push(item);\n        contentItem = dmCreateMediaContentItem(item.name, '', item.mediaType);\n      } else {\n        invalidContentItem = dmContentItemIsMediaContentItem(item);\n        contentItem = item;\n        assetItems.push(undefined);\n      }\n      if (contentData) {\n        const contentItemData = dmFilterContentItemData(contentItem.type, contentData[contentIndex]);\n        if (contentItemData) {\n          contentItem = Object.assign({}, contentItem, contentItemData);\n        }\n      }\n      contentItems.push(contentItem);\n    });\n    // If any given content is a contentItem, reject if it is a MediaContentItem\n    if (invalidContentItem) {\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'MediaContentItems must be specified by AssetItem parameters', mainAction);\n    }\n    const zoneType = dmGetZoneTypeById(dmState, {id: container.id});\n    let contentItemsInvalid = false;\n    contentItems.forEach((item) => {\n      if (!dmIsValidContentItemForPlaylist(item, zoneType)) {\n        contentItemsInvalid = true;\n      }\n    });\n    if (contentItemsInvalid) {\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'One or more content item types cannot be added to this Zone type', mainAction);\n    }\n    // Append mediaStates if index in undefined or invalid\n    if (index === undefined || index > playlistIds.length || index < 0) {\n      index = playlistIds.length;\n    }\n\n    // Get IDs of previous and next mediaStates in the playlist (around the insertion point)\n    let prevMediaStateId: BsDmId;\n    let nextMediaStateId: BsDmId;\n    if (playlistIds.length > 1) {\n      if (index > 0) {\n        prevMediaStateId = playlistIds[index - 1];\n      } else {\n        prevMediaStateId = playlistIds[playlistIds.length - 1];\n      }\n      if (index === playlistIds.length) {\n        nextMediaStateId = playlistIds[0];\n      } else {\n        nextMediaStateId = playlistIds[index];\n      }\n    } else if (playlistIds.length === 1) {\n      prevMediaStateId = nextMediaStateId = playlistIds[0];\n    }\n\n    // Currently, default TransitionType does not depend on contentItem\n    // If that changes, we will need to take a different approach, because we currently add transitions after\n    //  all MediaStates are added.\n    const transitionType = getDefaultTransitionType();\n\n    const batchedActions: BsDmBaseAction[] = [];\n    const addedEvents: BsDmId[] = [];\n    contentItems.forEach((item, itemIndex) => {\n      // Get defaults for this contentItem\n      const eventType = getDefaultEventTypeForContentItem(item);\n      const eventData = getDefaultEventDataForEventType(eventType, item);\n\n      // If the contentItem has a corresponding assetItem, we need to put the assetItem to the AssetMap\n      if (assetItems[itemIndex]) {\n        // Duplicate the asset item, since we are going to mutate it\n        let assetItem = Object.assign({}, assetItems[itemIndex]);\n        assetItem = dmSetAssetId(dmState, assetItem);\n        (item as DmMediaContentItem).assetId = assetItem.id;\n        batchedActions.push(dmPutAssetItemWithoutTest(assetItem));\n      }\n      mainAction.payload.contentItems.push(item);\n\n      let mediaStateName = getName(itemIndex);\n      if (mediaStateName === '') {\n        mediaStateName = getDefaultNameForContentItem(item, playlistIds.length + itemIndex + 1);\n      }\n      const addMediaStateAction = dmAddMediaStateWithContentItem(mediaStateName, container, item);\n      // Save media state ID in the 'id' array in the action to be returned\n      mainAction.payload.id.push(addMediaStateAction.payload.id);\n      mainAction.payload.name.push(mediaStateName);\n      batchedActions.push(addMediaStateAction);\n\n      // Add event for media state\n      const eventAction = dmAddEvent(name + '_ev', eventType, addMediaStateAction.payload.id, eventData);\n      // Save the eventId - we will need it to add transitions later\n      addedEvents.push(eventAction.payload.id);\n      batchedActions.push(eventAction);\n    });\n\n    // Adjust the transition target for prevMediaState to the first mediaState added\n    if (prevMediaStateId) {\n      const prevMediaState = dmGetMediaStateById(dmState, {id: prevMediaStateId});\n      if (prevMediaState) {\n        const transitionId = prevMediaState.eventList[0].defaultTransition.id;\n        batchedActions.push(dmUpdateTransition({\n          id: transitionId,\n          targetMediaStateId: mainAction.payload.id[0],\n        }));\n      }\n    }\n    // Add transitions for all new MediaState events, pointing to the following MediaState\n    addedEvents.forEach((eventId, itemIndex) => {\n      const nextStateId = itemIndex + 1 < mainAction.payload.id.length ?\n        mainAction.payload.id[itemIndex + 1] :\n        (nextMediaStateId ? nextMediaStateId : mainAction.payload.id[0]);\n      batchedActions.push(\n        dmAddTransition(mainAction.payload.name[itemIndex] + '_tr', eventId, nextStateId, transitionType));\n    });\n\n    if (index === 0) {\n      // If new states are placed at the front of the list, update initialMediaStateId for the zone\n      // Use our internal function that doesn't use the thunk to test initialMediaState\n      batchedActions.push(dmUpdateZoneWithoutTest({id: container.id, initialMediaStateId: mainAction.payload.id[0]}));\n    }\n    dispatch(dmBatchActions(batchedActions));\n    return mainAction;\n  };\n}\n\n/**\n * Update a mediaState with new parameters for a mediaStates in a playlist.\n * A special thunked action is needed for this, to validate the contentItem type. A BsDmError will be thrown if\n *  the contentItem is not valid for the zone.\n *\n * @param params {MediaStateParams} - mediaState parameters to update\n * @returns {BsDmThunkAction} When dispatched, the thunk function will return a MediaStateAction object.\n *   If the thunk function succeeds, the action properties returned will be the ones used.\n *   If the function fails, a BsDmError is thrown.\n */\nexport function dmPlaylistUpdateMediaState(params: MediaStateParams): BsDmThunkAction<MediaStateParams> {\n  return (dispatch, getState): MediaStateAction  => {\n    const updateMediaStateAction = dmUpdateMediaState(params);\n\n    const dmState = dmFilterDmState(getState());\n    const mediaState = dmGetMediaStateStateById(dmState, {id: params.id});\n    const playlistIds = dmGetZoneSimplePlaylist(dmState, {id: mediaState.container.id});\n    if (!playlistIds) {\n      throw new BsDmError(DmErrorType.invalidOperation,\n        'Zone does not contain a valid simple playlist', updateMediaStateAction);\n    }\n    if (params.hasOwnProperty('contentItem')) {\n      const zoneType = dmGetZoneTypeById(dmState, {id: mediaState.container.id});\n      if (!dmIsValidContentItemForPlaylist(params.contentItem, zoneType)) {\n        throw new BsDmError(DmErrorType.invalidParameters,\n          'Content item type \"' + params.contentItem.type + '\" cannot be added to \"' + zoneType + '\" zone',\n          updateMediaStateAction);\n      }\n    }\n    dispatch(updateMediaStateAction);\n    return updateMediaStateAction;\n  };\n}\n\nexport interface PlaylistDeleteMediaStateRangeParams {\n  containerId: BsDmId;\n  startingIndex: number;\n  count?: number;\n}\nexport type PlaylistDeleteMediaStateRangeAction = BsDmAction<PlaylistDeleteMediaStateRangeParams>;\n\n/**\n * Delete one or more MediaStates from a playlist.\n *  If deleting multiple states, this function deletes a range of consecutive media states\n *  This function will fail if the MediaState container does not contain a valid simple playlist.\n *  This function will fail if startingIndex and count denote an invalid range within the playlist.\n *\n * @param container {DmMediaStateContainer} - MediaState container\n * @param startingIndex {number} - zero based index of first MediaState to delete\n * @param [count=1] {number} - total number of MediaStates to delete\n * @returns {BsDmThunkAction} When dispatched, the thunk function will return\n *   a PlaylistDeleteMediaStateRangeAction object.\n *   If the thunk function succeeds, the action properties returned will be the ones used.\n *   If the function fails, a BsDmError is thrown.\n */\nexport function dmPlaylistDeleteMediaStateRange(\n  container: DmMediaStateContainer,\n  startingIndex: number,\n  count?: number,\n): BsDmThunkAction<PlaylistDeleteMediaStateRangeParams> {\n  return (dispatch, getState): PlaylistDeleteMediaStateRangeAction  => {\n    const mainAction: PlaylistDeleteMediaStateRangeAction =  {\n      type: PLAYLIST_DELETE_MEDIA_STATE_RANGE,\n      payload: { containerId: container.id, startingIndex, count },\n    };\n    const dmState = dmFilterDmState(getState());\n    const playlistIds = dmGetZoneSimplePlaylist(dmState, {id: container.id});\n    if (!playlistIds) {\n      throw new BsDmError(DmErrorType.invalidOperation,\n        'Zone does not contain a valid simple playlist', mainAction);\n    }\n\n    if (count === undefined) {\n      count = 1;\n    }\n    if (startingIndex >= playlistIds.length || count === 0 || startingIndex + count > playlistIds.length) {\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'Invalid parameters for deletion range', mainAction);\n    }\n\n    const endingIndex = startingIndex + count;\n    const mediaStateIdsToDelete: BsDmId[] = playlistIds.slice(startingIndex, endingIndex);\n\n    // Get IDs of previous and next mediaStates in the playlist (around states to delete)\n    let prevMediaStateId: BsDmId;\n    let nextMediaStateId: BsDmId;\n    const remainingMediaStates = playlistIds.length - count;\n    if (remainingMediaStates > 1) {\n      if (startingIndex > 0) {\n        prevMediaStateId = playlistIds[startingIndex - 1];\n      } else {\n        prevMediaStateId = playlistIds[playlistIds.length - 1];\n      }\n      if (endingIndex === playlistIds.length) {\n        nextMediaStateId = playlistIds[0];\n      } else {\n        nextMediaStateId = playlistIds[endingIndex];\n      }\n    } else if (remainingMediaStates === 1) {\n      if (startingIndex > 0) {\n        prevMediaStateId = nextMediaStateId = playlistIds[0];\n      } else {\n        prevMediaStateId = nextMediaStateId = playlistIds[playlistIds.length - 1];\n      }\n    }\n\n    // Get the media states for which we need to adjust transitions\n    let prevMediaState;\n    if (prevMediaStateId) {\n      prevMediaState = dmGetMediaStateById(dmState, {id: prevMediaStateId});\n    }\n\n    // Get a list of assetItems associated with the removed media states\n    const assetIds: BsAssetId[] = [];\n    mediaStateIdsToDelete.forEach((id) => {\n      const mediaStateState = dmGetMediaStateStateById(dmState, {id});\n      if (mediaStateState && dmContentItemIsMediaContentItem(mediaStateState.contentItem)) {\n        assetIds.push(mediaStateState.contentItem.assetId);\n      }\n    });\n\n    const batchedActions: BsDmBaseAction[] = [];\n    // Remove references to any assetItems\n    if (assetIds.length > 0) {\n      batchedActions.push(dmRemoveAssetItems(assetIds));\n    }\n    // Get mediaState deletion params (includes all associated events and transitions)\n    const deleteParams = dmGetMediaStateDeleteParams(dmState, mediaStateIdsToDelete);\n    batchedActions.push(dmDeleteMediaStateWithParams(deleteParams));\n\n    // Reset transition targets for the media state before the deleted states\n    if (prevMediaState) {\n      const transitionId = prevMediaState.eventList[0].defaultTransition.id;\n      batchedActions.push(dmUpdateTransition({id: transitionId, targetMediaStateId: nextMediaStateId}));\n    }\n\n    if (startingIndex === 0) {\n      // Reset initialMediaStateForZone if the first mediaState was deleted\n      const newInitialMediaState = remainingMediaStates > 0 ? nextMediaStateId : BsDmIdNone;\n      // Use our internal function that doesn't use the thunk to test initialMediaState\n      batchedActions.push(dmUpdateZoneWithoutTest({id: container.id, initialMediaStateId: newInitialMediaState}));\n    }\n    dispatch(dmBatchActions(batchedActions));\n    return mainAction;\n  };\n}\n\nexport interface PlaylistDeleteMediaStateIndicesParams {\n  containerId: BsDmId;\n  indices: number[];\n}\nexport type PlaylistDeleteMediaStateIndicesAction = BsDmAction<PlaylistDeleteMediaStateIndicesParams>;\n\n/**\n * Delete one or more MediaStates from a playlist.\n *  This function deletes all mediaStates at the indices in the given index array\n *  This function will fail if the MediaState container does not contain a valid simple playlist.\n *  This function will fail if indices array is empty or undefined.\n *  The function will NOT fail if the arrays contains invalid (out of range) indices,\n *   but any such invalid indices will be ignored.\n *\n * @param container {DmMediaStateContainer} - MediaState container\n * @param indices {number[]} - array of indices (integers) corresponding to playlist mediaState positions\n *  at which to delete mediaStates\n * @returns {BsDmThunkAction} When dispatched, the thunk function will return\n *   a PlaylistDeleteMediaStateIndicesAction object.\n *   If the thunk function succeeds, the action properties returned will be the ones used.\n *   If the function fails, a BsDmError is thrown.\n */\nexport function dmPlaylistDeleteMediaStatesAtIndices(\n  container: DmMediaStateContainer,\n  indices: number[],\n): BsDmThunkAction<PlaylistDeleteMediaStateIndicesParams> {\n  return (dispatch, getState): PlaylistDeleteMediaStateIndicesAction  => {\n    const mainAction: PlaylistDeleteMediaStateIndicesAction = {\n      type: PLAYLIST_DELETE_MEDIA_STATE_AT_INDICES,\n      payload: {containerId: container.id, indices},\n    };\n    const dmState = dmFilterDmState(getState());\n    const playlistIds = dmGetZoneSimplePlaylist(dmState, {id: container.id});\n    if (!playlistIds) {\n      throw new BsDmError(DmErrorType.invalidOperation,\n        'Zone does not contain a valid simple playlist', mainAction);\n    }\n\n    if (!indices || indices.length === 0) {\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'Incorrect parameters for media state delete by indices operation', mainAction);\n    }\n\n    indices.sort((a: number, b: number) => a - b);\n    const tempIndices = indices.slice();\n\n    const finalPlaylistIds: BsDmId[] = [];\n    const mediaStateIdsToDelete: BsDmId[] = [];\n    const mediaStateIdsForTransitionsToUpdate: BsDmId[] = [];\n    playlistIds.forEach((id, index) => {\n      if (index === tempIndices[0]) {\n        mediaStateIdsToDelete.push(id);\n        const prevMediaState =\n          finalPlaylistIds.length > 0 ? finalPlaylistIds[finalPlaylistIds.length - 1] : undefined;\n        if (prevMediaState && mediaStateIdsForTransitionsToUpdate.indexOf(prevMediaState) < 0) {\n          mediaStateIdsForTransitionsToUpdate.push(prevMediaState);\n        }\n        tempIndices.shift();\n      } else {\n        finalPlaylistIds.push(id);\n      }\n    });\n    if (indices[0] === 0 && finalPlaylistIds.length > 0) {\n      const finalMediaState = finalPlaylistIds[finalPlaylistIds.length - 1];\n      if (finalMediaState && mediaStateIdsForTransitionsToUpdate.indexOf(finalMediaState) < 0) {\n        mediaStateIdsForTransitionsToUpdate.push(finalMediaState);\n      }\n    }\n\n    // Get a list of assetItems associated with the removed media states\n    const assetIds: BsAssetId[] = [];\n    mediaStateIdsToDelete.forEach((id) => {\n      const mediaStateState = dmGetMediaStateStateById(dmState, {id});\n      if (mediaStateState && dmContentItemIsMediaContentItem(mediaStateState.contentItem)) {\n        assetIds.push(mediaStateState.contentItem.assetId);\n      }\n    });\n\n    const batchedActions: BsDmBaseAction[] = [];\n    // Remove references to any assetItems\n    if (assetIds.length > 0) {\n      batchedActions.push(dmRemoveAssetItems(assetIds));\n    }\n    // Get mediaState deletion params (includes all associated events and transitions)\n    const deleteParams = dmGetMediaStateDeleteParams(dmState, mediaStateIdsToDelete);\n    batchedActions.push(dmDeleteMediaStateWithParams(deleteParams));\n\n    // Retarget all mediaState transitions preceding deleted mediaStates\n    finalPlaylistIds.forEach((id, index) => {\n      const mediaState = dmGetMediaStateById(dmState, {id});\n      const targetMediaStateId =\n        index + 1 < finalPlaylistIds.length ? finalPlaylistIds[index + 1] : finalPlaylistIds[0];\n      if (mediaState) {\n        const transitionId = mediaState.eventList[0].defaultTransition.id;\n        batchedActions.push(dmUpdateTransition({id: transitionId, targetMediaStateId}));\n      }\n    });\n\n    if (indices[0] === 0) {\n      // Reset initialMediaStateForZone if the first mediaState was deleted\n      const newInitialMediaState = finalPlaylistIds.length > 0 ? finalPlaylistIds[0] : BsDmIdNone;\n      batchedActions.push(dmUpdateZoneWithoutTest({id: container.id, initialMediaStateId: newInitialMediaState}));\n    }\n    dispatch(dmBatchActions(batchedActions));\n    return mainAction;\n  };\n}\n\nexport interface PlaylistMoveMediaStateRangeParams {\n  containerId: BsDmId;\n  startingIndex: number;\n  targetIndex: number;\n  count?: number;\n}\nexport type PlaylistMoveMediaStateRangeAction = BsDmAction<PlaylistMoveMediaStateRangeParams>;\n\n/**\n * Move a contiguous range of one or more MediaStates within a playlist.\n * This function will fail if the MediaState container does not contain a valid simple playlist.\n * This function will fail if startingIndex, targetIndex, and count do not describe a valid move.\n *\n * @param container {DmMediaStateContainer} - MediaState container\n * @param startingIndex {number} - zero based index of first MediaState to move\n * @param targetIndex {number} - The index in the playlist at which the first mediaState to move\n *  should be located after the move.\n * @param [count=1] {number} - total number of MediaStates to move\n * @returns {BsDmThunkAction} When dispatched, the thunk function will return\n *   a PlaylistMoveMediaStateRangeAction object.\n *   If the thunk function succeeds, the action properties returned will be the ones used.\n *   If the function fails, a BsDmError is thrown.\n */\nexport function dmPlaylistMoveMediaStateRange(\n  container: DmMediaStateContainer,\n  startingIndex: number,\n  targetIndex: number,\n  count?: number,\n): BsDmThunkAction<PlaylistMoveMediaStateRangeParams> {\n  return (dispatch, getState): PlaylistMoveMediaStateRangeAction  => {\n    const mainAction: PlaylistMoveMediaStateRangeAction =  {\n      type: PLAYLIST_MOVE_MEDIA_STATE_RANGE_TO_INDEX,\n      payload: { containerId: container.id, startingIndex, targetIndex, count },\n    };\n    const dmState = dmFilterDmState(getState());\n    const playlistIds = dmGetZoneSimplePlaylist(dmState, {id: container.id});\n    if (!playlistIds) {\n      throw new BsDmError(DmErrorType.invalidOperation,\n        'Zone does not contain a valid simple playlist', mainAction);\n    }\n\n    if (count === undefined) {\n      count = 1;\n    }\n    if (startingIndex >= playlistIds.length\n      || count === 0\n      || startingIndex === targetIndex\n      || targetIndex + count > playlistIds.length) {\n\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'Incorrect parameters for media state move operation', mainAction);\n    }\n\n    const endingIndex = startingIndex + count;\n    // Make copy of array\n    const intermediateListIds = playlistIds.slice();\n    // Remove mediaStates that are moving\n    intermediateListIds.splice(startingIndex, count);\n    // Now intermediateListIds holds the non-moving list IDs\n\n    // Get IDs of previous and next mediaStates in the playlist (around source states to move)\n    // If we are moving all states but one, we don't have to reconnect non-moving states,\n    //  so leave these IDs undefined.\n    let prevMediaStateIdForSrc: BsDmId;\n    let nextMediaStateIdForSrc: BsDmId;\n    if (intermediateListIds.length > 1) {\n      if (startingIndex > 0) {\n        prevMediaStateIdForSrc = playlistIds[startingIndex - 1];\n      } else {\n        prevMediaStateIdForSrc = playlistIds[playlistIds.length - 1];\n      }\n      if (endingIndex === playlistIds.length) {\n        nextMediaStateIdForSrc = playlistIds[0];\n      } else {\n        nextMediaStateIdForSrc = playlistIds[endingIndex];\n      }\n    }\n    // Get IDs of the previous and next media states around the target insertion point\n    //  based on a list in which the source events have been removed\n    let prevMediaStateIdForTarget: BsDmId;\n    let nextMediaStateIdForTarget: BsDmId;\n    if (targetIndex >= intermediateListIds.length || targetIndex === 0) {\n      prevMediaStateIdForTarget = intermediateListIds[intermediateListIds.length - 1];\n      nextMediaStateIdForTarget = intermediateListIds[0];\n    } else {\n      prevMediaStateIdForTarget = intermediateListIds[targetIndex - 1];\n      nextMediaStateIdForTarget = intermediateListIds[targetIndex];\n    }\n    // Get the IDs of first and last mediaStates to move\n    const firstMediaStateIdToMove = playlistIds[startingIndex];\n    const lastMediaStateIdToMove = playlistIds[endingIndex - 1];\n\n    // Get the media states for which we need to adjust transitions\n    let prevMediaStateForSrc;\n    if (prevMediaStateIdForSrc) {\n      prevMediaStateForSrc = dmGetMediaStateById(dmState, {id: prevMediaStateIdForSrc});\n    }\n    let prevMediaStateForTarget;\n    if (prevMediaStateIdForTarget) {\n      prevMediaStateForTarget = dmGetMediaStateById(dmState, {id: prevMediaStateIdForTarget});\n    }\n    let lastMediaStateToMove;\n    if (lastMediaStateIdToMove) {\n      lastMediaStateToMove = dmGetMediaStateById(dmState, {id: lastMediaStateIdToMove});\n    }\n\n    const batchedActions: BsDmBaseAction[] = [];\n    // Reset transition targets for the media state preceding the removed states\n    if (prevMediaStateForSrc) {\n      const transitionId = prevMediaStateForSrc.eventList[0].defaultTransition.id;\n      batchedActions.push(dmUpdateTransition({id: transitionId, targetMediaStateId: nextMediaStateIdForSrc}));\n    }\n    if (prevMediaStateForTarget) {\n      const transitionId = prevMediaStateForTarget.eventList[0].defaultTransition.id;\n      batchedActions.push(dmUpdateTransition({id: transitionId, targetMediaStateId: firstMediaStateIdToMove}));\n    }\n    if (lastMediaStateToMove) {\n      const transitionId = lastMediaStateToMove.eventList[0].defaultTransition.id;\n      batchedActions.push(dmUpdateTransition({id: transitionId, targetMediaStateId: nextMediaStateIdForTarget}));\n    }\n\n    if (startingIndex === 0 || targetIndex === 0) {\n      // Reset initialMediaStateForZone if the first mediaState was changed\n      const newInitialMediaStateId = targetIndex === 0 ? firstMediaStateIdToMove : intermediateListIds[0];\n      batchedActions.push(dmUpdateZoneWithoutTest({id: container.id, initialMediaStateId: newInitialMediaStateId}));\n    }\n    dispatch(dmBatchActions(batchedActions));\n    return mainAction;\n  };\n}\n\nexport interface PlaylistMoveMediaStateIndicesParams {\n  containerId: BsDmId;\n  indices: number[];\n  targetIndex: number;\n}\nexport type PlaylistMoveMediaStateIndicesAction = BsDmAction<PlaylistMoveMediaStateIndicesParams>;\n\n/**\n * Move a non-contiguous set of MediaStates within a playlist.\n * This function will fail if the MediaState container does not contain a valid simple playlist.\n * This function will fail if the indices array is empty.\n *\n * The selected MediaStates will be removed from the playlist and then re-inserted\n *  as a contiguous group before the targetIndex. The targetIndex is the\n *  insertion index relative to the original playlist (i.e., before the mediaStates\n *  being removed are extracted.)\n *\n * @param container {DmMediaStateContainer} - MediaState container\n * @param indices {number[]} - array of zero-based indices (integers) corresponding to playlist mediaState positions\n *  of mediaStates to move\n * @param targetIndex {number} - The index in the original playlist before which the moved mediaStates\n *  should be re-inserted\n * @returns {BsDmThunkAction} When dispatched, the thunk function will return\n *   a PlaylistMoveMediaStateIndicesAction object.\n *   If the thunk function succeeds, the action properties returned will be the ones used.\n *   If the function fails, a BsDmError is thrown.\n */\nexport function dmPlaylistMoveMediaStatesAtIndices(\n  container: DmMediaStateContainer,\n  indices: number[],\n  targetIndex: number,\n): BsDmThunkAction<PlaylistMoveMediaStateIndicesParams> {\n  return (dispatch, getState): PlaylistMoveMediaStateIndicesAction  => {\n    const mainAction: PlaylistMoveMediaStateIndicesAction =  {\n      type: PLAYLIST_MOVE_MEDIA_STATE_INDICES_TO_INDEX,\n      payload: { containerId: container.id, indices, targetIndex },\n    };\n    const dmState = dmFilterDmState(getState());\n    const playlistIds = dmGetZoneSimplePlaylist(dmState, {id: container.id});\n    if (!playlistIds) {\n      throw new BsDmError(DmErrorType.invalidOperation,\n        'Zone does not contain a valid simple playlist', mainAction);\n    }\n\n    if (!indices || indices.length === 0) {\n      throw new BsDmError(DmErrorType.invalidParameters,\n        'Incorrect parameters for media state move by indices operation', mainAction);\n    }\n\n    if (targetIndex > playlistIds.length) {\n      targetIndex = playlistIds.length;\n    }\n\n    indices.sort((a: number, b: number) => a - b);\n    const tempIndices = indices.slice();\n\n    const finalPlaylistIds: BsDmId[] = [];\n    const movedMediaStateIds: BsDmId[] = [];\n    const mediaStateIdsForTransitionsToUpdate: BsDmId[] = [];\n    let finalTargetIndex = playlistIds.length;\n    playlistIds.forEach((id, index) => {\n      if (index === tempIndices[0]) {\n        movedMediaStateIds.push(id);\n        // Reset transition for all moved states\n        mediaStateIdsForTransitionsToUpdate.push(id);\n        const prevMediaState =\n          finalPlaylistIds.length > 0 ? finalPlaylistIds[finalPlaylistIds.length - 1] : undefined;\n        if (prevMediaState && mediaStateIdsForTransitionsToUpdate.indexOf(prevMediaState) < 0) {\n          mediaStateIdsForTransitionsToUpdate.push(prevMediaState);\n        }\n        if (index === targetIndex) {\n          // Can't insert before a moved state, so increment the target index\n          ++targetIndex;\n        }\n        tempIndices.shift();\n      } else {\n        finalPlaylistIds.push(id);\n        if (index === targetIndex) {\n          finalTargetIndex = finalPlaylistIds.length - 1;\n        }\n      }\n    });\n    mainAction.payload.targetIndex = targetIndex;\n\n    // We need to adjust the transition target of the state before the insertion point\n    const preInsertMediaState = finalTargetIndex > 0 ?\n      finalPlaylistIds[finalTargetIndex - 1] : finalPlaylistIds[finalPlaylistIds.length - 1];\n    if (preInsertMediaState && mediaStateIdsForTransitionsToUpdate.indexOf(preInsertMediaState) < 0) {\n      mediaStateIdsForTransitionsToUpdate.push(preInsertMediaState);\n    }\n    // We need to adjust transition target of last state if first state moved, or if target is at the\n    //  end of the list\n    if (indices[0] === 0 || targetIndex === playlistIds.length) {\n      const finalMediaState = finalPlaylistIds[finalPlaylistIds.length - 1];\n      if (finalMediaState && mediaStateIdsForTransitionsToUpdate.indexOf(finalMediaState) < 0) {\n        mediaStateIdsForTransitionsToUpdate.push(finalMediaState);\n      }\n    }\n\n    // Insert moved IDs into finalPlaylistIds array\n    finalPlaylistIds.splice(finalTargetIndex, 0, ...movedMediaStateIds);\n\n    const batchedActions: BsDmBaseAction[] = [];\n    // Retarget all affected mediaState transitions\n    finalPlaylistIds.forEach((id, index) => {\n      const transitionChangeIndex = mediaStateIdsForTransitionsToUpdate.indexOf(id);\n      if (transitionChangeIndex >= 0) {\n        const mediaState = dmGetMediaStateById(dmState, {id});\n        const targetMediaStateId =\n          index + 1 < finalPlaylistIds.length ? finalPlaylistIds[index + 1] : finalPlaylistIds[0];\n        if (mediaState) {\n          const transitionId = mediaState.eventList[0].defaultTransition.id;\n          batchedActions.push(dmUpdateTransition({\n            id: transitionId,\n            targetMediaStateId,\n          }));\n        }\n        mediaStateIdsForTransitionsToUpdate.splice(transitionChangeIndex, 1);\n      }\n    });\n\n    if (indices[0] === 0 || targetIndex === 0) {\n      // Reset initialMediaStateForZone if the first mediaState was moved\n      const newInitialMediaState = finalPlaylistIds.length > 0 ? finalPlaylistIds[0] : BsDmIdNone;\n      batchedActions.push(dmUpdateZoneWithoutTest({id: container.id, initialMediaStateId: newInitialMediaState}));\n    }\n    dispatch(dmBatchActions(batchedActions));\n    return mainAction;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/actions/actionPlaylist.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/actions/actionPlaylist.ts","/**\n * Created by jsugg on 5/18/17.\n */\n/* tslint:disable:no-var-requires */\n\nrequire('core-js/es6/promise');\n\nexport * from './folderEnumerator';\nexport * from './fileOperations';\nexport * from './thumbnail';\nexport * from './exif';\nexport * from './error';\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/main.ts","/**\n * Created by jimsugg on 4/23/17.\n */\n\nimport { BsAssetItem, BsAssetId } from '@brightsign/bscore';\nimport { DmIdParam, DmLocatorParam } from '../bsDmInterfaces';\nimport { DmMap } from './index';\nimport {\n  AssetItemAction, AssetItemParams, PUT_ASSET_ITEM,\n  AssetItemRemoveAction, AssetItemRemoveParams, REMOVE_ASSET_ITEMS,\n} from '../actions/actionAssetMap';\nimport { SignAction, OpenSignAction, OpenSignParams, NEW_SIGN, OPEN_SIGN } from '../actions/actionSign';\n\nexport type DmAssetIdMap = DmMap<BsAssetItem> | {};\n\nconst assetsById = (\n  state: DmAssetMapState = {},\n  {type, payload}: (AssetItemAction | AssetItemRemoveAction | SignAction | OpenSignAction),\n): DmAssetMapState | {} => {\n  switch (type) {\n    case NEW_SIGN:\n      return {};\n    case OPEN_SIGN: {\n      const {newState} = payload as OpenSignParams;\n      // if undefined in given sign, create empty object\n      return newState.assetMap ? newState.assetMap : {};\n    }\n    case PUT_ASSET_ITEM: {\n      const {id} = payload as AssetItemParams;\n      let newItem;\n      if (state[id]) {\n        newItem = Object.assign({}, state[id], payload);\n      } else {\n        newItem = Object.assign({}, payload);\n      }\n      newItem.refCount = newItem.refCount ? newItem.refCount + 1 : 1;\n      return Object.assign({}, state, {[id]: newItem});\n    }\n    case REMOVE_ASSET_ITEMS: {\n      const {assetIds} = payload as AssetItemRemoveParams;\n      const newState = Object.assign({}, state);\n      assetIds.forEach((id) => {\n        if (newState[id].refCount && newState[id].refCount > 1) {\n          newState[id].refCount = newState[id].refCount - 1;\n        } else {\n          delete newState[id];\n        }\n      });\n      return newState;\n    }\n  }\n  return state;\n};\n\nexport type DmAssetMapState = DmAssetIdMap;\n\nconst assetMapReducer = assetsById;\n\n/** @internal */\n/** @private */\nexport default assetMapReducer;\n\n/** @internal */\n/** @private */\nexport const isValidAssetMapState = (state: DmAssetMapState): boolean => {\n  return typeof state === 'object';\n};\n\n// Selectors\n\n/** @internal */\n/** @private */\nexport const getAssetItemById = (state: DmAssetMapState, props: DmIdParam): BsAssetItem | null => {\n  const asset = state[props.id];\n  return asset ? Object.assign({}, asset) : null;\n};\n\n/** @internal */\n/** @private */\nexport const getAssetIdByLocator = (state: DmAssetMapState, props: DmLocatorParam): BsAssetId | null => {\n  let assetId = null;\n  const locator = props.locator;\n  Object.keys(state).some((id): boolean => {\n    if (state[id].locator === locator) {\n      assetId = id;\n      return true;\n    }\n  });\n  return assetId;\n};\n\n/** @internal */\n/** @private */\nexport const getAssetItemByLocator = (state: DmAssetMapState, props: DmLocatorParam): BsAssetItem | null => {\n  let asset: BsAssetItem = null;\n  const locator = props.locator;\n  Object.keys(state).some((id): boolean => {\n    const item = state[id];\n    if (item[id].locator === locator) {\n      asset = item;\n      return true;\n    }\n  });\n  return asset;\n};\n\n/** @internal */\n/** @private */\nexport const getAssetItemIdsForSign = (state: DmAssetMapState) => Object.keys(state);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/reducerAssetMap.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/reducerAssetMap.ts","/**\n * Created by jimsugg on 1/31/17.\n */\n\nimport { createSelector } from 'reselect';\nimport { omit } from 'lodash';\n\nimport { AccessType, DataFeedType, DataFeedUsageType, BsnFeedProperties } from '@brightsign/bscore';\nimport { BsDmId, DmDataFeed, DmBsnDataFeed, DmParameterizedString, DmIdParam, DmNameParam } from '../bsDmInterfaces';\nimport { DmcDataFeed } from '../bsDmClasses';\nimport {\n  DataFeedAction, DataFeedParams, ADD_DATA_FEED, UPDATE_DATA_FEED,\n  BsnDataFeedAction, BsnDataFeedParams, ADD_BSN_DATA_FEED, UPDATE_BSN_DATA_FEED,\n  DELETE_DATA_FEED,\n} from '../actions/actionDataFeed';\nimport { OpenSignAction, OpenSignParams, NEW_SIGN, OPEN_SIGN } from '../actions/actionSign';\nimport { DmMap } from './index';\n\nexport type DmDataFeedMap = DmMap<DmDataFeed> | {};\n\nconst createDataFeed = (\n  id: BsDmId,\n  name: string,\n  url: DmParameterizedString,\n  usage: DataFeedUsageType,\n  updateInterval: number,\n  useHeadRequest: boolean,\n  parserPlugin: BsDmId,\n  autoGenerateUserVariables: boolean,\n  userVariableAccess: AccessType,\n): DmDataFeed => ({\n  id, name, type: DataFeedType.URLDataFeed, url, usage, updateInterval,\n  useHeadRequest, parserPlugin, autoGenerateUserVariables, userVariableAccess,\n});\n\nconst createBsnDataFeed = (\n  id: BsDmId,\n  name: string,\n  bsnDataFeed: BsnFeedProperties,\n  usage: DataFeedUsageType,\n  updateInterval: number,\n  useHeadRequest: boolean,\n  parserPlugin: BsDmId,\n  autoGenerateUserVariables: boolean,\n  userVariableAccess: AccessType,\n  supportsAudio: boolean,\n  matchPlayerTags: boolean,\n): DmBsnDataFeed => ({\n  id,\n  name,\n  type: bsnDataFeed.type,\n  url: bsnDataFeed.physicalPath,\n  bsnId: bsnDataFeed.id,\n  bsnName: bsnDataFeed.name,\n  usage, updateInterval, useHeadRequest, parserPlugin,\n  autoGenerateUserVariables, userVariableAccess,\n  supportsAudio, matchPlayerTags,\n});\n\nconst dataFeedsById = (\n  state: DmDataFeedMap = {},\n  action: (DataFeedAction | BsnDataFeedAction | OpenSignAction),\n): DmDataFeedMap => {\n  const {type, payload} = action;\n  switch (type) {\n    case NEW_SIGN:\n      return {};\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      // if undefined in given sign, create empty object\n      return newState.dataFeeds ? newState.dataFeeds : {};\n    case ADD_DATA_FEED: {\n      const { id, name, url, usage,\n        updateInterval, useHeadRequest, parserPlugin,\n        autoGenerateUserVariables, userVariableAccess } = payload as DataFeedParams;\n      return Object.assign({}, state,\n        {[id]: createDataFeed(id, name, url as DmParameterizedString, usage,\n        updateInterval, useHeadRequest, parserPlugin, autoGenerateUserVariables, userVariableAccess)});\n    }\n    case ADD_BSN_DATA_FEED: {\n      const { id, name, bsnDataFeed, usage,\n        updateInterval, useHeadRequest, parserPlugin,\n        autoGenerateUserVariables, userVariableAccess, supportsAudio, matchPlayerTags } = payload as BsnDataFeedParams;\n      return Object.assign({}, state,\n        {[id]: createBsnDataFeed(id, name, bsnDataFeed, usage,\n          updateInterval, useHeadRequest, parserPlugin, autoGenerateUserVariables, userVariableAccess,\n          supportsAudio, matchPlayerTags)});\n    }\n    case UPDATE_DATA_FEED: {\n      const {id} = payload as DataFeedParams;\n      const updatedDataFeed = Object.assign({}, state[id], payload as DataFeedParams);\n      return Object.assign({}, state, {[id]: updatedDataFeed});\n    }\n    case UPDATE_BSN_DATA_FEED: {\n      const {id} = payload as BsnDataFeedParams;\n      const updatedDataFeed = Object.assign({}, state[id], payload as BsnDataFeedParams);\n      return Object.assign({}, state, {[id]: updatedDataFeed});\n    }\n    case DELETE_DATA_FEED:\n      return omit(state, (payload as DataFeedParams).id);\n  }\n  return state;\n};\n\nconst dataFeedReducer = dataFeedsById;\n\n/** @internal */\n/** @private */\nexport default dataFeedReducer;\n\nexport type DmDataFeedCollectionState = DmDataFeedMap;\n\n/** @internal */\n/** @private */\nexport const isValidDataFeedState = (state: DmDataFeedCollectionState): boolean => {\n  // TODO: check contained Data Feeds for validity\n  return typeof state === 'object';\n};\n\n// Selectors\n\n/** @internal */\n/** @private */\nexport const getDataFeedById = (state: DmDataFeedCollectionState, props: DmIdParam): DmcDataFeed | null => {\n  return state[props.id] ? new DmcDataFeed(state[props.id]) : null;\n};\n\n/** @internal */\n/** @private */\nexport const getDataFeedIdsForSign = (state: DmDataFeedCollectionState) => Object.keys(state);\n\n/** @internal */\n/** @private */\nexport const getDataFeedNamesForSign = createSelector<DmDataFeedCollectionState, string[], DmDataFeedMap> (\n  (state: DmDataFeedCollectionState) => state,\n  (dataFeeds) => {\n    const dataFeedNames: string[] = [];\n    Object.keys(dataFeeds).forEach((id) => {\n      dataFeedNames.push(dataFeeds[id].name);\n    });\n    return dataFeedNames;\n  },\n);\n\n/** @internal */\n/** @private */\nexport const getDataFeedByName = createSelector<DmDataFeedCollectionState, DmcDataFeed | null, DmDataFeedMap, string> (\n  (state: DmDataFeedCollectionState) => state,\n  (_, props: DmNameParam) => props.name,\n  (dataFeeds, name) => {\n    let dataFeed: DmDataFeed;\n    Object.keys(dataFeeds).some((id): boolean => {\n      if (dataFeeds[id].name === name) {\n        dataFeed = dataFeeds[id];\n        return true;\n      }\n    });\n    return dataFeed ? new DmcDataFeed(dataFeed) : null;\n  },\n);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/reducerDataFeed.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/reducerDataFeed.ts","/**\n * Created by jimsugg on 9/18/16.\n */\n\nimport { createSelector } from 'reselect';\nimport { pick, omit } from 'lodash';\n\nimport { HtmlSiteType } from '@brightsign/bscore';\nimport { BsDmId, DmHtmlSite, DmIdParam, DmNameParam } from '../bsDmInterfaces';\nimport { DmcHtmlSite } from '../bsDmClasses';\nimport {\n  HtmlSiteAction, HtmlSiteLocalParams, HtmlSiteRemoteParams, HtmlSiteBrightPlateParams, HtmlSiteParams,\n  ADD_HTML_SITE, UPDATE_HTML_SITE, DELETE_HTML_SITE,\n} from '../actions/actionHtmlSite';\nimport { OpenSignAction, OpenSignParams, NEW_SIGN, OPEN_SIGN } from '../actions/actionSign';\nimport { BsDmAction } from '../actions/actionBase';\nimport { DmMap } from './index';\n\nexport type DmHtmlSiteMap = DmMap<DmHtmlSite> | {};\n\nconst getHtmlSiteForType = (payload: HtmlSiteParams) => {\n  const {id, name, type, queryString} = payload as HtmlSiteParams;\n  const baseSite = {id, name, type, queryString};\n  switch (type) {\n    case HtmlSiteType.Local: {\n      const {indexAssetId} = payload as HtmlSiteLocalParams;\n      return Object.assign(baseSite, {indexAssetId});\n    }\n    case HtmlSiteType.Remote: {\n      const {url} = payload as HtmlSiteRemoteParams;\n      return Object.assign(baseSite, {url});\n    }\n    case HtmlSiteType.BrightPlate: {\n      const {brightPlateName, displayName} = payload as HtmlSiteBrightPlateParams;\n      return Object.assign(baseSite, {brightPlateName, displayName});\n    }\n  }\n  return undefined;\n};\n\nconst getUpdateHtmlParamsForType = (payload: HtmlSiteParams) => {\n  const {type} = payload;\n  const updateParams = pick(payload, ['type', 'name', 'queryString']);\n  switch (type) {\n    case HtmlSiteType.Local: {\n      const {indexAssetId} = payload as HtmlSiteLocalParams;\n      return Object.assign(updateParams as HtmlSiteLocalParams, pick(payload, 'indexAssetId'));\n    }\n    case HtmlSiteType.Remote: {\n      const {url} = payload as HtmlSiteRemoteParams;\n      return Object.assign(updateParams as HtmlSiteRemoteParams, pick(payload, 'url'));\n    }\n    case HtmlSiteType.BrightPlate: {\n      const {brightPlateName, displayName} = payload as HtmlSiteBrightPlateParams;\n      return Object.assign(updateParams as HtmlSiteBrightPlateParams,\n        pick(payload, ['brightPlateName', 'displayName']));\n    }\n  }\n  return undefined;\n};\n\nconst htmlSitesById = (\n  state: DmHtmlSiteMap = {},\n  action: (HtmlSiteAction | OpenSignAction),\n): DmHtmlSiteMap => {\n  const {type, payload} = action;\n  switch (type) {\n    case NEW_SIGN:\n      return {};\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      // if undefined in given sign, create empty object\n      return newState.htmlSites ? newState.htmlSites : {};\n    case ADD_HTML_SITE: {\n      const {id} = payload as HtmlSiteParams;\n      const newSite = getHtmlSiteForType(payload as HtmlSiteParams);\n      if (newSite) {\n        return Object.assign({}, state, {[id]: newSite});\n      }\n      break;\n    }\n    case UPDATE_HTML_SITE: {\n      const {id} = payload as HtmlSiteParams;\n      // Make sure there is a site type in the params passed to getUpdateHtmlParamsForType\n      if (!payload.hasOwnProperty('type')) {\n        (payload as HtmlSiteParams).type = state[id].type;\n      }\n      const updateParams = getUpdateHtmlParamsForType(payload as HtmlSiteParams);\n      if (updateParams) {\n        // If type is changing, just replace the object with the new params\n        const updatedHtmlSite = updateParams.type === state[id].type ?\n          Object.assign({}, state[id], updateParams) :\n          updateParams;\n        return Object.assign({}, state, {[id]: updatedHtmlSite});\n      }\n      break;\n    }\n    case DELETE_HTML_SITE:\n      return omit(state, (payload as HtmlSiteParams).id);\n  }\n  return state;\n};\n\nconst htmlSiteReducer = htmlSitesById;\n\n/** @internal */\n/** @private */\nexport default htmlSiteReducer;\n\nexport type DmHtmlSiteCollectionState = DmHtmlSiteMap;\n\n/** @internal */\n/** @private */\nexport const isValidHtmlSiteState = (state: DmHtmlSiteCollectionState): boolean => {\n  // TODO: check contained Html Sites for validity\n  return typeof state === 'object';\n};\n\n// Selectors\n\n/** @internal */\n/** @private */\nexport const getHtmlSiteById = (state: DmHtmlSiteCollectionState, props: DmIdParam): DmcHtmlSite | null => {\n  return state[props.id] ? new DmcHtmlSite(state[props.id]) : null;\n};\n\n/** @internal */\n/** @private */\nexport const getHtmlSiteIdsForSign = (state: DmHtmlSiteCollectionState) => Object.keys(state);\n\nconst getHtmlSitesById = (state: DmHtmlSiteCollectionState) => state;\n\n/** @internal */\n/** @private */\nexport const getHtmlSiteByName = createSelector<DmHtmlSiteCollectionState, DmcHtmlSite | null, DmHtmlSiteMap, string> (\n  getHtmlSitesById,\n  (_, props: DmNameParam) => props.name as BsDmId,\n  (htmlSites, name) => {\n    let htmlSite: DmHtmlSite;\n    Object.keys(htmlSites).some((id): boolean => {\n      if (htmlSites[id].name === name) {\n        htmlSite = htmlSites[id];\n        return true;\n      }\n    });\n    return htmlSite ? new DmcHtmlSite(htmlSite) : null;\n  },\n);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/reducerHtmlSite.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/reducerHtmlSite.ts","/**\n * Created by jimsugg on 9/26/16.\n */\n\nimport { createSelector } from 'reselect';\nimport { omit } from 'lodash';\n\nimport { TransitionType } from '@brightsign/bscore';\nimport { BsDmId, DmTransition, DmCondition, DmIdParam } from '../bsDmInterfaces';\nimport { DmcTransition } from '../bsDmClasses';\nimport {\n  TransitionParams, TransitionAction, ADD_TRANSITION, UPDATE_TRANSITION, DELETE_TRANSITION,\n} from '../actions/actionTransition';\nimport { OpenSignAction, OpenSignParams, NEW_SIGN, OPEN_SIGN } from '../actions/actionSign';\nimport { DELETE_ZONE } from '../actions/actionZone';\nimport { MediaStateDeleteParams, MediaStateDeleteAction, DELETE_MEDIA_STATE } from '../actions/actionMediaState';\nimport { EventParams, EventAction, DELETE_EVENT } from '../actions/actionEvent';\nimport { DmMap } from './index';\n\nexport type DmTransitionMap = DmMap<DmTransition> | {};\n\n// Return a simple object conforming to DmTransition\nconst createTransitionState = (\n  id: BsDmId,\n  name: string,\n  eventId: BsDmId,\n  targetMediaStateId: BsDmId,\n  transitionType: TransitionType,\n  duration: number,\n  condition?: DmCondition,\n): DmTransition =>\n  ({\n    id,\n    name,\n    eventId,\n    targetMediaStateId,\n    type: transitionType,\n    duration,\n    condition,\n  });\n\nconst transitionsById = (\n  state: DmTransitionMap = {},\n  action: (TransitionAction | EventAction | MediaStateDeleteAction | OpenSignAction),\n): DmTransitionMap => {\n  const {type, payload} = action;\n  switch (type) {\n    case NEW_SIGN:\n      return {};\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      return newState.transitions;\n    case ADD_TRANSITION: {\n      const { id, name, eventId, targetMediaStateId,\n            type: transitionType, duration, condition} = payload as TransitionParams;\n      return Object.assign({}, state,\n        {[id]: createTransitionState(id, name, eventId, targetMediaStateId, transitionType, duration, condition)});\n    }\n    case UPDATE_TRANSITION: {\n      const {id} = payload as TransitionParams;\n      const updatedTransition = Object.assign({}, state[id], payload as TransitionParams);\n      return Object.assign({}, state, {[id]: updatedTransition});\n    }\n    case DELETE_TRANSITION:\n      return omit(state, (payload as TransitionParams).id);\n    case DELETE_EVENT:\n      const eventId = (payload as EventParams).id;\n      const newTransitionState: DmTransitionMap = {};\n      let transitionsDeleted = false;\n      // Filter out all transitions associated with deleted media state\n      Object.keys(state).forEach((transitionId) => {\n        if (state[transitionId].eventId !== eventId) {\n          newTransitionState[transitionId] = state[transitionId];\n        } else {\n          transitionsDeleted = true;\n        }\n      });\n      if (transitionsDeleted) {\n        return newTransitionState;\n      }\n    case DELETE_MEDIA_STATE:\n    case DELETE_ZONE:\n      // Array of Transition IDs to delete are added to the payload by the action thunk function\n      const {transitionIds} = payload as MediaStateDeleteParams;\n      if (transitionIds && transitionIds.length) {\n        return omit(state, transitionIds);\n      }\n  }\n  return state;\n};\n\nconst transitionReducer = transitionsById;\n\n/** @internal */\n/** @private */\nexport default transitionReducer;\n\nexport type DmTransitionCollectionState = DmTransitionMap;\n\n/** @internal */\n/** @private */\nexport const isValidTransitionState = (state: DmTransitionCollectionState): boolean => {\n  // TODO: check contained transitions for validity\n  return typeof state === 'object';\n};\n\n// Selectors\n\n/** @internal */\n/** @private */\nexport const getTransitionStateById = (\n  state: DmTransitionCollectionState,\n  props: DmIdParam,\n): DmTransition | null => {\n  const transitionState = state[props.id];\n  return transitionState ? transitionState : null;\n};\n\n/** @internal */\n/** @private */\nexport const getTransitionById = (state: DmTransitionCollectionState, props: DmIdParam): DmcTransition | null => {\n  const transitionState = state[props.id];\n  return transitionState ? new DmcTransition(transitionState) : null;\n};\n\nconst getTransitionsById = (state: DmTransitionCollectionState) => state;\n\n/** @internal */\n/** @private */\nexport const getTransitionIdsForEvent = createSelector<\n  DmTransitionCollectionState, BsDmId[], DmTransitionMap, BsDmId>\n(\n  getTransitionsById,\n  (_, props: DmIdParam) => props.id as BsDmId,\n  (transitions, eventId) => {\n    return Object.keys(transitions).filter((id, index, idArray): boolean => transitions[id].eventId === eventId);\n  },\n);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/reducerTransition.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/reducerTransition.ts","/**\n * Created by jimsugg on 1/31/17.\n */\n\nimport { createSelector } from 'reselect';\nimport { omit } from 'lodash';\n\nimport { AccessType } from '@brightsign/bscore';\nimport { BsDmId, DmUserVariable, DmParameterizedString, DmIdParam, DmNameParam } from '../bsDmInterfaces';\nimport {\n  UserVariableAction, UserVariableParams,\n  UserVariablesDeleteAction, UserVariablesDeleteParams,\n  ADD_USER_VARIABLE, UPDATE_USER_VARIABLE, DELETE_USER_VARIABLE, DELETE_USER_VARIABLES,\n} from '../actions/actionUserVariable';\nimport { OpenSignAction, OpenSignParams, NEW_SIGN, OPEN_SIGN } from '../actions/actionSign';\nimport { BsDmAction } from '../actions/actionBase';\nimport { DmMap } from './index';\n\nexport type DmUserVariableMap = DmMap<DmUserVariable> | {};\n\nconst createUserVariable = (\n  id: BsDmId,\n  name: string,\n  defaultValue: string,\n  access: AccessType,\n  isNetworked: boolean,\n  dataFeedId: BsDmId,\n  systemVariable: string,\n): DmUserVariable => ({\n  id, name, defaultValue, access, isNetworked, dataFeedId, systemVariable,\n});\n\nconst userVariablesById = (\n  state: DmUserVariableMap = {},\n  action: (UserVariableAction | UserVariablesDeleteAction | OpenSignAction),\n): DmUserVariableMap => {\n  const {type, payload} = action;\n  switch (type) {\n    case NEW_SIGN:\n      return {};\n    case OPEN_SIGN:\n      const {newState} = payload as OpenSignParams;\n      // if undefined in given sign, create empty object\n      return newState.userVariables ? newState.userVariables : {};\n    case ADD_USER_VARIABLE: {\n      const { id, name, defaultValue, access, isNetworked, dataFeedId, systemVariable } = payload as UserVariableParams;\n      return Object.assign({}, state,\n        {[id]: createUserVariable(id, name, defaultValue, access, isNetworked, dataFeedId, systemVariable)});\n    }\n    case UPDATE_USER_VARIABLE: {\n      const {id} = payload as UserVariableParams;\n      const updatedUserVariable = Object.assign({}, state[id], payload as UserVariableParams);\n      return Object.assign({}, state, {[id]: updatedUserVariable});\n    }\n    case DELETE_USER_VARIABLE:\n      return omit(state, (payload as UserVariableParams).id);\n    case DELETE_USER_VARIABLES: {\n      const {ids} = payload as UserVariablesDeleteParams;\n      return omit(state, ids);\n    }\n  }\n  return state;\n};\n\n/** @internal */\n/** @private */\nconst userVariableReducer = userVariablesById;\n\n/** @internal */\n/** @private */\nexport default userVariableReducer;\n\nexport type DmUserVariableCollectionState = DmUserVariableMap;\n\n/** @internal */\n/** @private */\nexport const isValidUserVariableState = (state: DmUserVariableCollectionState): boolean => {\n  // TODO: check contained Data Feeds for validity\n  return typeof state === 'object';\n};\n\n// Selectors\n\n/** @internal */\n/** @private */\nexport const getUserVariableById = (state: DmUserVariableCollectionState, props: DmIdParam): DmUserVariable | null => {\n  return state[props.id] ? Object.assign({}, state[props.id]) : null;\n};\n\n/** @internal */\n/** @private */\nexport const getUserVariableIdsForSign = (state: DmUserVariableCollectionState) => Object.keys(state);\n\nconst getUserVariablesById = (state: DmUserVariableCollectionState) => state;\n\n/** @internal */\n/** @private */\nexport const getUserVariableByName = createSelector<\n  DmUserVariableCollectionState, DmUserVariable | null, DmUserVariableMap, string>\n(\n  getUserVariablesById,\n  (_, props: DmNameParam) => props.name as BsDmId,\n  (userVariables, name) => {\n    let userVariable: DmUserVariable;\n    Object.keys(userVariables).some((id): boolean => {\n      if (userVariables[id].name === name) {\n        userVariable = userVariables[id];\n        return true;\n      }\n    });\n    return userVariable ? Object.assign({}, userVariable) : null;\n  },\n);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/reducers/reducerUserVariable.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/reducers/reducerUserVariable.ts","/**\n * Created by jsugg on 10/24/16.\n */\n\nimport { createSelector } from 'reselect';\n\nimport { ZoneType } from '@brightsign/bscore';\nimport { DmState } from '../reducers/index';\nimport { BsDmId, BsDmIdNone, DmIdParam, DmZone } from '../bsDmInterfaces';\nimport { dmIsValidContentItemForPlaylist } from '../bsDmContentItems';\nimport { DmMediaStateCollectionState } from '../reducers/reducerMediaState';\nimport { DmEventCollectionState } from '../reducers/reducerEvent';\nimport { DmTransitionCollectionState } from '../reducers/reducerTransition';\n\n// If zone media states are a valid simple playlist, return sorted array of mediaStateIds in playlist order.\n// If zone media states are not a valid simple playlist, return undefined.\nconst getOrderedMediaStateIdsForPlaylistInZone = (\n  zoneId: BsDmId,\n  zoneType: ZoneType,\n  initialMediaStateId: BsDmId,\n  mediaStates: DmMediaStateCollectionState,\n  events: DmEventCollectionState,\n  transitions: DmTransitionCollectionState,\n): BsDmId[] | null => {\n  const mediaStateIds: BsDmId[] =\n    Object.keys(mediaStates).filter((id, index, idArray): boolean => mediaStates[id].container.id === zoneId);\n  const sortedMediaStateIds: BsDmId[] = [];\n  let nextMediaStateId = initialMediaStateId;\n  if (nextMediaStateId !== BsDmIdNone && mediaStateIds.length > 0) {\n    while (true) {\n      const index = mediaStateIds.indexOf(nextMediaStateId);\n      if (index > -1) {\n        mediaStateIds.splice(index, 1);\n      }\n      const mediaStateState = mediaStates[nextMediaStateId];\n      if (!mediaStateState || !dmIsValidContentItemForPlaylist(mediaStateState.contentItem, zoneType)) {\n        // In a valid playlist, the mediaState must hold only certain content items (e.g., media, HTML)\n        return null;\n      }\n      const eventListIds =\n        Object.keys(events).filter((id): boolean => events[id].mediaStateId === nextMediaStateId);\n      if (!eventListIds || eventListIds.length !== 1) {\n        // In a valid playlist, each mediaState will have only one event\n        return null;\n      }\n      const transitionIds =\n        Object.keys(transitions).filter((id): boolean => transitions[id].eventId === eventListIds[0]);\n      if (!transitionIds || transitionIds.length !== 1) {\n        // In a valid playlist, the event will have only one transition\n        return null;\n      }\n      const transitionState = transitions[transitionIds[0]];\n      if (nextMediaStateId === transitionState.targetMediaStateId\n        && (nextMediaStateId !== initialMediaStateId || mediaStateIds.length > 0)) {\n        // If transition target is same state, and it is NOT the initialMediaState or there are\n        //  more mediaStates in the zone, this is not a valid playlist\n        return null;\n      }\n      sortedMediaStateIds.push(nextMediaStateId);\n      nextMediaStateId = transitionState.targetMediaStateId;\n      if (nextMediaStateId === initialMediaStateId) {\n        // If the transition target is the initial state, we are done\n        if (mediaStateIds.length > 0) {\n          // There should be no remaining states, otherwise it is not a valid playlist\n          return null;\n        }\n        break;\n      }\n    }\n  }\n  return sortedMediaStateIds;\n};\n\n/** @internal */\n/** @private */\nexport const getZoneSimplePlaylist = createSelector<\n  DmState, BsDmId[] | null, DmZone, DmMediaStateCollectionState,\n  DmEventCollectionState, DmTransitionCollectionState>\n(\n  (state: DmState, props: DmIdParam) => state.zones.zonesById[props.id],\n  (state: DmState) => state.mediaStates,\n  (state: DmState) => state.events,\n  (state: DmState) => state.transitions,\n  (zone, mediaStates, events, transitions): BsDmId[] => {\n    return zone ?\n      getOrderedMediaStateIdsForPlaylistInZone(zone.id, zone.type,\n        zone.initialMediaStateId, mediaStates, events, transitions) :\n      null;\n  },\n);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/selectors/selectorPlaylist.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/selectors/selectorPlaylist.ts","/**\n * Created by jimsugg on 10/23/16.\n */\n\nimport { createSelector } from 'reselect';\nimport { DmState } from '../reducers/index';\nimport { BsAssetItem, ZoneType } from '@brightsign/bscore';\nimport {\n  BsDmId, DmIdParam, DmNameParam, DmTypeParam, DmZone,\n  DmMediaState, DmEvent, DmTransition,\n} from '../bsDmInterfaces';\nimport {\n  dmContentItemIsMediaContentItem, dmIsValidContentItemTypeForZone, dmIsValidContentItemTypeForPlaylist,\n} from '../bsDmContentItems';\nimport {\n  DmMediaStateCollectionState, getMediaStateStateById, getMediaStateStateByName,\n} from '../reducers/reducerMediaState';\nimport { DmEventCollectionState, getEventStateById } from '../reducers/reducerEvent';\nimport { DmTransitionCollectionState } from '../reducers/reducerTransition';\nimport { DmAssetMapState } from '../reducers/reducerAssetMap';\nimport { DmcMediaState, DmcEvent, DmDeNormalizedEvent } from '../bsDmClasses';\n\n/** @internal */\n/** @private */\nexport const createMediaStateObject = (\n  mediaStateState: DmMediaState,\n  events: DmEventCollectionState,\n  transitions: DmTransitionCollectionState,\n  assetMap: DmAssetMapState,\n): DmcMediaState | null => {\n  if (mediaStateState) {\n    let assetItem: BsAssetItem;\n    const deNormEvents: DmDeNormalizedEvent[] = [];\n    const eventIds = Object.keys(events).filter((id, index, idArray): boolean =>\n      events[id].mediaStateId === mediaStateState.id);\n    if (eventIds.length > 0) {\n      eventIds.forEach((eventId) => {\n        const deNormEvent: DmDeNormalizedEvent = {eventState: events[eventId]};\n        const transitionStates = getSortedTransitionStatesForEventId(eventId, transitions);\n        if (transitionStates) {\n          deNormEvent.transitionStates = transitionStates;\n        }\n        deNormEvents.push(deNormEvent);\n      });\n    }\n    if (dmContentItemIsMediaContentItem(mediaStateState.contentItem)) {\n      assetItem = assetMap[mediaStateState.contentItem.assetId];\n    }\n\n    return new DmcMediaState(mediaStateState, deNormEvents, assetItem);\n  }\n  return null;\n};\n\n/** @internal */\n/** @private */\nexport const createEventObject = (\n  eventState: DmEvent,\n  transitions: DmTransitionCollectionState,\n): DmcEvent | null => {\n  if (eventState) {\n    const transitionStates = getSortedTransitionStatesForEventId(eventState.id, transitions);\n    return new DmcEvent(eventState, transitionStates);\n  }\n  return null;\n};\n\n/** @internal */\n/** @private */\nconst getSortedTransitionStatesForEventId = (\n  eventId: BsDmId,\n  transitions: DmTransitionCollectionState,\n): DmTransition[] | null => {\n  const transitionStates: DmTransition[] = [];\n  const transitionIds = Object.keys(transitions).filter((id, index, idArray): boolean =>\n    transitions[id].eventId === eventId);\n  if (transitionIds.length > 0) {\n    transitionIds.forEach((transitionId) => {\n      transitionStates.push(transitions[transitionId]);\n    });\n    // TODO: sort transitions by condition priority, default should be last\n  }\n  return transitionStates.length > 0 ? transitionStates : null;\n};\n\n/** @internal */\n/** @private */\nexport const getInitialMediaStateIdForZone = createSelector<DmState, BsDmId | null, DmZone> (\n  (state: DmState, props: DmIdParam) => state.zones.zonesById[props.id],\n  (zone) => zone ? zone.initialMediaStateId : null,\n);\n\n/** @internal */\n/** @private */\nexport const getInitialMediaStateForZone = createSelector<\n  DmState, DmcMediaState | null, DmZone, DmMediaStateCollectionState, DmEventCollectionState,\n  DmTransitionCollectionState, DmAssetMapState>\n(\n  (state: DmState, props: DmIdParam) => state.zones.zonesById[props.id],\n  (state: DmState) => state.mediaStates,\n  (state: DmState) => state.events,\n  (state: DmState) => state.transitions,\n  (state: DmState) => state.assetMap,\n  (zone, mediaStates, events, transitions, assetMap) => {\n    if (zone) {\n      const mediaStateState = mediaStates[zone.initialMediaStateId];\n      if (mediaStateState) {\n        return createMediaStateObject(mediaStateState, events, transitions, assetMap);\n      }\n    }\n    return null;\n  },\n);\n\n/** @internal */\n/** @private */\nexport const getMediaStateById = createSelector<\n  DmState, DmcMediaState | null, DmMediaState, DmEventCollectionState, DmTransitionCollectionState, DmAssetMapState>\n(\n  (state: DmState, props: DmIdParam) => getMediaStateStateById(state.mediaStates, props),\n  (state: DmState) => state.events,\n  (state: DmState) => state.transitions,\n  (state: DmState) => state.assetMap,\n  createMediaStateObject,\n);\n\n/** @internal */\n/** @private */\nexport const getMediaStateByName = createSelector<\n  DmState, DmcMediaState | null, DmMediaState, DmEventCollectionState, DmTransitionCollectionState, DmAssetMapState>\n(\n  (state: DmState, props: DmNameParam) => getMediaStateStateByName(state.mediaStates, props),\n  (state: DmState) => state.events,\n  (state: DmState) => state.transitions,\n  (state: DmState) => state.assetMap,\n  createMediaStateObject,\n);\n\n/** @internal */\n/** @private */\nexport const getEventById = createSelector<DmState, DmcEvent | null, DmEvent, DmTransitionCollectionState> (\n  (state: DmState, props: DmIdParam) => getEventStateById(state.events, props),\n  (state: DmState) => state.transitions,\n  createEventObject,\n);\n\n/** @internal */\n/** @private */\nexport const canChangeZoneType = createSelector<DmState, boolean, ZoneType, DmZone, DmMediaStateCollectionState>(\n  (_, props: DmTypeParam) => props.type,\n  (state: DmState, props: DmIdParam) => state.zones.zonesById[props.id],\n  (state: DmState) => state.mediaStates,\n  (targetZoneType, zone, mediaStates): boolean => {\n    // The 'some' function will return true if any mediaStates are found that are in the zone, and which have\n    //  a content item not compatible with the zone.\n    return zone.type === targetZoneType\n      || !Object.keys(mediaStates).some((mediaStateId) => {\n        const mediaState = mediaStates[mediaStateId];\n        return mediaState.container.id === zone.id\n          && !(zone.nonInteractive ? dmIsValidContentItemTypeForPlaylist(mediaState.contentItem.type, targetZoneType) :\n            dmIsValidContentItemTypeForZone(mediaState.contentItem.type, targetZoneType));\n      });\n  },\n);\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/selectors/selectorSignEntityDetail.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/selectors/selectorSignEntityDetail.ts","module.exports = require(\"uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid\"\n// module id = 40\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"uuid\"","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Map.js\n// module id = 23\n// module chunks = 0","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_MapCache.js\n// module id = 24\n// module chunks = 0","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isIndex.js\n// module id = 25\n// module chunks = 0","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isKey.js\n// module id = 26\n// module chunks = 0","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isPrototype.js\n// module id = 27\n// module chunks = 0","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/identity.js\n// module id = 28\n// module chunks = 0","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArguments.js\n// module id = 29\n// module chunks = 0","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isBuffer.js\n// module id = 30\n// module chunks = 0","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isLength.js\n// module id = 31\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isSymbol.js\n// module id = 32\n// module chunks = 0","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isTypedArray.js\n// module id = 33\n// module chunks = 0","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"stream\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stream\"\n// module id = 36\n// module chunks = 0","import {\n  AudioOutputSelectionType,\n  AudioModeType,\n  AudioMappingType,\n  AudioMixModeType,\n  TransitionType,\n  ViewModeType,\n} from '@brightsign/bscore';\n\nexport function stringToBool(s : string) : boolean {\n  return (s.toLowerCase() === 'true');\n}\n\nexport function stringToNumber(s : string) : number {\n  return (Number(s));\n}\n\n/*\nnext appropriate step might be to create a mapping from\n  UI choices in BA -> parameters set in bpf and associated values\n */\n\n/*\nList the different audio player functions. For each function, list their parameters in\n    docs.brightsign.biz (if it exists)\n    autorun.brs\n    bscore/index.d.ts\n\n http://docs.brightsign.biz/display/DOC/roAudioPlayer\n\n SetPcmAudioOutputs\n\n SetCompressedAudioOutputs\n\n SetMultichannelAudioOutputs\n\n SetAudioOutput\n\n SetAudioMode\n\n MapStereoOutput\n\n MapDigitalOutput\n\n SetStereoMappingSpan\n */\n\n/*\n  autorun / BA\n    SetAudioOutputAndMode\n      Arrays\n        pcm\n        compressed\n        multichannel\n\n      roAudioOutput - instances can be pushed onto pcm, compressed, multichannel arrays\n        Analog:1 - analogOutput in the xml - one of AudioOutputType enums (true for all under roAudioOutput)\n        Analog:2 - analog2Output\n        Analog:3 - analog3Output\n        HDMI - hdmiOutput\n        SPDIF - spdifOutput\n        USB:A.0 - usbOutputA\n        USB:B.0 - usbOutputB\n        USB:C.0 - usbOutputC\n        USB:D.0 - usbOutputD\n\n      SetPcmAudioOutputs(pcm)\n      SetCompressedAudioOutputs(compressed)\n      SetMultichannelAudioOutputs(multichannel)\n\n      AudioModeSelection\n        MultichannelSurround\n        MixedDownToStereo\n        NoAudio\n        MonoLeftMixdown\n        MonoRightMixdown\n\n      SetAudioMode(0) - passthrough\n      SetAudioMode(3) - left\n      SetAudioMode(4) - right\n      SetAudioMode(1) - default\n\n      online docs:\n          0: AC3 Surround\n          1: AC3 mixed down to stereo\n          2: No audio\n          3: Left\n          4: Right\n\n      Do these different labels for Audio Mode imply an inconsistency? No, I think they're okay.\n\n    SetAudioOutput - obsolete?\n      BA / autorun\n        AudioOutputType\n          PCM\n          Passthrough\n          Multichannel\n          None\n\n    MapStereoOutput - ** these are inconsistent\n      0: Stereo audio is mapped to onboard analog output.\n      1: Stereo audio is mapped to left output of the expansion module.\n      2: Stereo audio is mapped to middle output of the expansion module.\n      3: Stereo audio is mapped to right output of the expansion module.\n\n      \"Audio-1\" = AudioZone.AudioMappingSelection.Audio1 - 0\n      \"Audio-2\" = AudioZone.AudioMappingSelection.Audio2 - 1\n      \"Audio-3\" = AudioZone.AudioMappingSelection.Audio3 - 2\n      \"Audio-all\" = AudioZone.AudioMappingSelection.AudioAll - 3\n\n    MapDigitalOutput\n      0: Onboard HDMI\n      1: SPDIF from expansion module\n\nSetStereoMappingSpan\n      1: normal\n      3: audio all and other requirements (see GetAudioMappingSpan)\n */\nexport function getAudioMixMode(bacAudioMixMode : string) : AudioMixModeType {\n  /*\n      Stereo, Left, Right correspond to AudioZone enum AudioMixMode\n\n      however, the following is the code in autorun\n\n       if lcase(m.audioMixMode$) = \"passthrough\" then\n          player.SetAudioMode(0)\n       else if lcase(m.audioMixMode$) = \"left\" then\n          player.SetAudioMode(3)\n       else if lcase(m.audioMixMode$) = \"right\" then\n          player.SetAudioMode(4)\n       else\n          player.SetAudioMode(1)\n       endif\n\n      and see the notes above. seems like the choices ought to be\n        0: AC3 Surround\n        1: AC3 mixed down to stereo\n        2: No audio\n        3: Left\n        4: Right\n\n      bscore seems wrong\n\n      how does this work in BA? seems wrong.\n\n      well, BrightAuthorUtils.cs#GetAudioModeSpec returns the appropriate values\n\n      definitely confusing - need to examine through debugger\n   */\n  switch (bacAudioMixMode) {\n    case 'Stereo': {\n      return AudioMixModeType.Stereo;\n    }\n    case 'Left': {\n      return AudioMixModeType.Left;\n    }\n    case 'Right': {\n      return AudioMixModeType.Right;\n    }\n  }\n}\n\nexport function getTransitionType(bacTransition : string) : TransitionType {\n  switch (bacTransition) {\n    case 'No effect':\n      return TransitionType.NoEffect;\n    default:\n      return TransitionType.NoEffect;\n  }\n}\n\nexport function getViewMode(bpfViewMode : string) : ViewModeType {\n\n  let viewMode: ViewModeType;\n  switch (bpfViewMode) {\n    case 'Fill Screen and Centered': {\n      viewMode = ViewModeType.FillAndCenter;\n      break;\n    }\n    case 'Scale to Fill': {\n      viewMode = ViewModeType.ScaleToFill;\n      break;\n    }\n    default: {\n      viewMode = ViewModeType.Letterboxed;\n      break;\n    }\n  }\n  return viewMode;\n}\n\nexport function getAudioOutput(bpfAudioOutput : string) : AudioOutputSelectionType {\n  switch (bpfAudioOutput) {\n    case 'Analog Audio':\n    default:\n      return AudioOutputSelectionType.Analog;\n    case 'USB Audio':\n      return AudioOutputSelectionType.Usb;\n    case 'SPDIF Audio with Stereo PCM (HDMI Audio)':\n      return AudioOutputSelectionType.DigitalPcm;\n    case 'SPDIF Audio, Raw Multichannel':\n      return AudioOutputSelectionType.DigitalAc3;\n    case 'Analog Audio with Raw Multichannel on SPDIF':\n      return AudioOutputSelectionType.AnalogHdmiAc3;\n  }\n}\n\nexport function getAudioMode(bpfAudioMode : string) : AudioModeType {\n  switch (bpfAudioMode) {\n    case 'Multichannel Surround':\n      return AudioModeType.Surround;\n    case 'Multichannel Mixed Down to Stereo':\n    default:\n      return AudioModeType.Stereo;\n    case 'No Audio':\n      return AudioModeType.NoAudio;\n    case 'Mono Left Mixdown':\n      return AudioModeType.Left;\n    case 'Mono Right Mixdown':\n      return AudioModeType.Right;\n  }\n}\n\nexport function getAudioMapping(bpfAudioMapping : string) : AudioMappingType {\n  switch (bpfAudioMapping) {\n    case 'Audio-1':\n      return AudioMappingType.Audio1;\n    case 'Audio-2':\n      return AudioMappingType.Audio2;\n    case 'Audio-3':\n      return AudioMappingType.Audio3;\n    case 'Audio-all':\n      return AudioMappingType.AudioAll;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/converters.ts","var map = {\n\t\"./bmp\": 41,\n\t\"./bmp.js\": 41,\n\t\"./dds\": 42,\n\t\"./dds.js\": 42,\n\t\"./gif\": 43,\n\t\"./gif.js\": 43,\n\t\"./jpg\": 44,\n\t\"./jpg.js\": 44,\n\t\"./png\": 45,\n\t\"./png.js\": 45,\n\t\"./psd\": 46,\n\t\"./psd.js\": 46,\n\t\"./svg\": 47,\n\t\"./svg.js\": 47,\n\t\"./tiff\": 48,\n\t\"./tiff.js\": 48,\n\t\"./webp\": 49,\n\t\"./webp.js\": 49\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types ^\\.\\/.*$\n// module id = 38\n// module chunks = 0","'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\n\nvar detector = require('./detector');\n\nvar handlers = {};\nvar types = require('./types');\n\n// load all available handlers\ntypes.forEach(function (type) {\n  handlers[type] = require('./types/' + type);\n});\n\n// Maximum buffer size, with a default of 128 kilobytes.\n// TO-DO: make this adaptive based on the initial signature of the image\nvar MaxBufferSize = 128*1024;\n\nfunction lookup (buffer, filepath) {\n  // detect the file type.. don't rely on the extension\n  var type = detector(buffer, filepath);\n\n  // find an appropriate handler for this file type\n  if (type in handlers) {\n    var size = handlers[type].calculate(buffer, filepath);\n    if (size !== false) {\n      size.type = type;\n      return size;\n    }\n  }\n\n  // throw up, if we don't understand the file\n  throw new TypeError('unsupported file type: ' + type + ' (file: ' + filepath + ')');\n}\n\nfunction asyncFileToBuffer (filepath, callback) {\n  // open the file in read only mode\n  fs.open(filepath, 'r', function (err, descriptor) {\n    if (err) { return callback(err); }\n    var size = fs.fstatSync(descriptor).size;\n    if (size <= 0){return callback(new Error(\"File size is not greater than 0 —— \" + filepath)); }\n    var bufferSize = Math.min(size, MaxBufferSize);\n    var buffer = new Buffer(bufferSize);\n    // read first buffer block from the file, asynchronously\n    fs.read(descriptor, buffer, 0, bufferSize, 0, function (err) {\n      if (err) { return callback(err); }\n      // close the file, we are done\n      fs.close(descriptor, function (err) {\n        callback(err, buffer);\n      });\n    });\n  });\n}\n\nfunction syncFileToBuffer (filepath) {\n  // read from the file, synchronously\n  var descriptor = fs.openSync(filepath, 'r');\n  var size = fs.fstatSync(descriptor).size;\n  var bufferSize = Math.min(size, MaxBufferSize);\n  var buffer = new Buffer(bufferSize);\n  fs.readSync(descriptor, buffer, 0, bufferSize, 0);\n  fs.closeSync(descriptor);\n  return buffer;\n}\n\n/**\n * @params input - buffer or relative/absolute path of the image file\n * @params callback - optional function for async detection\n */\nmodule.exports = function (input, callback) {\n\n  // Handle buffer input\n  if (Buffer.isBuffer(input)) {\n    return lookup(input);\n  }\n\n  // input should be a string at this point\n  if (typeof input !== 'string') {\n    throw new TypeError('invalid invocation');\n  }\n\n  // resolve the file path\n  var filepath = path.resolve(input);\n\n  if (typeof callback === 'function') {\n    asyncFileToBuffer(filepath, function (err, buffer) {\n      if (err) { return callback(err); }\n\n      // return the dimensions\n      var dimensions;\n      try {\n        dimensions = lookup(buffer, filepath);\n      } catch (e) {\n        err = e;\n      }\n      callback(err, dimensions);\n    });\n  } else {\n    var buffer = syncFileToBuffer(filepath);\n    return lookup(buffer, filepath);\n  }\n};\n\nmodule.exports.types = types;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/index.js\n// module id = 39\n// module chunks = 0","'use strict';\n\nmodule.exports = [\n  'bmp',\n  'gif',\n  'jpg',\n  'png',\n  'psd',\n  'svg',\n  'tiff',\n  'webp',\n  'dds'\n];\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types.js\n// module id = 40\n// module chunks = 0","'use strict';\n\nfunction isBMP (buffer) {\n  return ('BM' === buffer.toString('ascii', 0, 2));\n}\n\nfunction calculate (buffer) {\n  return {\n    'width': buffer.readUInt32LE(18),\n    'height': Math.abs(buffer.readInt32LE(22))\n  };\n}\n\nmodule.exports = {\n  'detect': isBMP,\n  'calculate': calculate\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types/bmp.js\n// module id = 41\n// module chunks = 0","'use strict';\n\nfunction isDDS(buffer){\n\treturn buffer.readUInt32LE(0) === 0x20534444;\n}\n\nfunction calculate(buffer){\n\t// read file resolution metadata\n\treturn {\n\t\t'height': buffer.readUInt32LE(12),\n\t\t'width': buffer.readUInt32LE(16)\n\t};\n}\n\nmodule.exports = {\n\t'detect': isDDS,\n\t'calculate': calculate\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types/dds.js\n// module id = 42\n// module chunks = 0","'use strict';\n\nvar gifRegexp = /^GIF8[79]a/;\nfunction isGIF (buffer) {\n  var signature = buffer.toString('ascii', 0, 6);\n  return (gifRegexp.test(signature));\n}\n\nfunction calculate(buffer) {\n  return {\n    'width': buffer.readUInt16LE(6),\n    'height': buffer.readUInt16LE(8)\n  };\n}\n\nmodule.exports = {\n  'detect': isGIF,\n  'calculate': calculate\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types/gif.js\n// module id = 43\n// module chunks = 0","'use strict';\n\n// NOTE: we only support baseline and progressive JPGs here\n// due to the structure of the loader class, we only get a buffer\n// with a maximum size of 4096 bytes. so if the SOF marker is outside\n// if this range we can't detect the file size correctly.\n\nfunction isJPG (buffer) { //, filepath\n  var SOIMarker = buffer.toString('hex', 0, 2);\n  return ('ffd8' === SOIMarker);\n}\n\nfunction extractSize (buffer, i) {\n  return {\n    'height' : buffer.readUInt16BE(i),\n    'width' : buffer.readUInt16BE(i + 2)\n  };\n}\n\nfunction validateBuffer (buffer, i) {\n  // index should be within buffer limits\n  if (i > buffer.length) {\n    throw new TypeError('Corrupt JPG, exceeded buffer limits');\n  }\n  // Every JPEG block must begin with a 0xFF\n  if (buffer[i] !== 0xFF) {\n    throw new TypeError('Invalid JPG, marker table corrupted');\n  }\n}\n\nfunction calculate (buffer) {\n\n  // Skip 4 chars, they are for signature\n  buffer = buffer.slice(4);\n\n  var i, next;\n  while (buffer.length) {\n    // read length of the next block\n    i = buffer.readUInt16BE(0);\n\n    // ensure correct format\n    validateBuffer(buffer, i);\n\n    // 0xFFC0 is baseline standard(SOF)\n    // 0xFFC1 is baseline optimized(SOF)\n    // 0xFFC2 is progressive(SOF2)\n    next = buffer[i + 1];\n    if (next === 0xC0 || next === 0xC1 || next === 0xC2) {\n      return extractSize(buffer, i + 5);\n    }\n\n    // move to the next block\n    buffer = buffer.slice(i + 2);\n  }\n\n  throw new TypeError('Invalid JPG, no size found');\n}\n\nmodule.exports = {\n  'detect': isJPG,\n  'calculate': calculate\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types/jpg.js\n// module id = 44\n// module chunks = 0","'use strict';\n\nvar pngSignature = 'PNG\\r\\n\\x1a\\n';\nvar pngImageHeaderChunkName = 'IHDR';\nvar pngFriedChunkName = 'CgBI'; // Used to detect \"fried\" png's: http://www.jongware.com/pngdefry.html\n\nfunction isPNG (buffer) {\n  if (pngSignature === buffer.toString('ascii', 1, 8)) {\n    var chunkName = buffer.toString('ascii', 12, 16);\n    if (chunkName === pngFriedChunkName) {\n      chunkName = buffer.toString('ascii', 28, 32);\n    }\n    if (chunkName !== pngImageHeaderChunkName) {\n      throw new TypeError('invalid png');\n    }\n    return true;\n  }\n}\n\nfunction calculate (buffer) {\n  if (buffer.toString('ascii', 12, 16) === pngFriedChunkName) {\n    return {\n      'width': buffer.readUInt32BE(32),\n      'height': buffer.readUInt32BE(36)\n    };\n  }\n  return {\n    'width': buffer.readUInt32BE(16),\n    'height': buffer.readUInt32BE(20)\n  };\n}\n\nmodule.exports = {\n  'detect': isPNG,\n  'calculate': calculate\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types/png.js\n// module id = 45\n// module chunks = 0","'use strict';\n\nfunction isPSD (buffer) {\n  return ('8BPS' === buffer.toString('ascii', 0, 4));\n}\n\nfunction calculate (buffer) {\n  return {\n    'width': buffer.readUInt32BE(18),\n    'height': buffer.readUInt32BE(14)\n  };\n}\n\nmodule.exports = {\n  'detect': isPSD,\n  'calculate': calculate\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types/psd.js\n// module id = 46\n// module chunks = 0","'use strict';\n\nvar svgReg = /<svg[^>]+[^>]*>/;\nfunction isSVG (buffer) {\n  return svgReg.test(buffer);\n}\n\nvar extractorRegExps = {\n  'root': /<svg\\s[^>]+>/,\n  'width': /\\bwidth=(['\"])([^%]+?)\\1/,\n  'height': /\\bheight=(['\"])([^%]+?)\\1/,\n  'viewbox': /\\bviewBox=(['\"])(.+?)\\1/\n};\n\nfunction parseViewbox (viewbox) {\n  var bounds = viewbox.split(' ');\n  return {\n    'width': parseInt(bounds[2], 10),\n    'height': parseInt(bounds[3], 10)\n  };\n}\n\nfunction parseAttributes (root) {\n  var width = root.match(extractorRegExps.width);\n  var height = root.match(extractorRegExps.height);\n  var viewbox = root.match(extractorRegExps.viewbox);\n  return {\n    'width': width && parseInt(width[2], 10),\n    'height': height && parseInt(height[2], 10),\n    'viewbox': viewbox && parseViewbox(viewbox[2])\n  };\n}\n\nfunction calculateByDimensions (attrs) {\n  return {\n    'width': attrs.width,\n    'height': attrs.height\n  };\n}\n\nfunction calculateByViewbox (attrs) {\n  var ratio = attrs.viewbox.width / attrs.viewbox.height;\n  if (attrs.width) {\n    return {\n      'width': attrs.width,\n      'height': Math.floor(attrs.width / ratio)\n    };\n  }\n  if (attrs.height) {\n    return {\n      'width': Math.floor(attrs.height * ratio),\n      'height': attrs.height\n    };\n  }\n  return {\n    'width': attrs.viewbox.width,\n    'height': attrs.viewbox.height\n  };\n}\n\nfunction calculate (buffer) {\n  var root = buffer.toString('utf8').match(extractorRegExps.root);\n  if (root) {\n    var attrs = parseAttributes(root[0]);\n    if (attrs.width && attrs.height) {\n      return calculateByDimensions(attrs);\n    }\n    if (attrs.viewbox) {\n      return calculateByViewbox(attrs);\n    }\n  }\n  throw new TypeError('invalid svg');\n}\n\nmodule.exports = {\n  'detect': isSVG,\n  'calculate': calculate\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types/svg.js\n// module id = 47\n// module chunks = 0","'use strict';\n\n// based on http://www.compix.com/fileformattif.htm\n// TO-DO: support big-endian as well\n\nvar fs = require('fs');\nvar readUInt = require('../readUInt');\n\nfunction isTIFF (buffer) {\n  var hex4 = buffer.toString('hex', 0, 4);\n  return ('49492a00' === hex4 || '4d4d002a' === hex4);\n}\n\n// Read IFD (image-file-directory) into a buffer\nfunction readIFD (buffer, filepath, isBigEndian) {\n\n  var ifdOffset = readUInt(buffer, 32, 4, isBigEndian);\n\n  // read only till the end of the file\n  var bufferSize = 1024;\n  var fileSize = fs.statSync(filepath).size;\n  if (ifdOffset + bufferSize > fileSize) {\n    bufferSize = fileSize - ifdOffset - 10;\n  }\n\n  // populate the buffer\n  var endBuffer = new Buffer(bufferSize);\n  var descriptor = fs.openSync(filepath, 'r');\n  fs.readSync(descriptor, endBuffer, 0, bufferSize, ifdOffset);\n\n  // var ifdLength = readUInt(endBuffer, 16, 0, isBigEndian);\n  var ifdBuffer = endBuffer.slice(2); //, 2 + 12 * ifdLength);\n  return ifdBuffer;\n}\n\n// TIFF values seem to be messed up on Big-Endian, this helps\nfunction readValue (buffer, isBigEndian) {\n  var low = readUInt(buffer, 16, 8, isBigEndian);\n  var high = readUInt(buffer, 16, 10, isBigEndian);\n  return (high << 16) + low;\n}\n\n// move to the next tag\nfunction nextTag (buffer) {\n  if (buffer.length > 24) {\n    return buffer.slice(12);\n  }\n}\n\n// Extract IFD tags from TIFF metadata\nfunction extractTags (buffer, isBigEndian) {\n  var tags = {};\n  var code, type, length;\n\n  while (buffer && buffer.length) {\n    code = readUInt(buffer, 16, 0, isBigEndian);\n    type = readUInt(buffer, 16, 2, isBigEndian);\n    length = readUInt(buffer, 32, 4, isBigEndian);\n\n    // 0 means end of IFD\n    if (code === 0) {\n      break;\n    } else {\n      // 256 is width, 257 is height\n      // if (code === 256 || code === 257) {\n      if (length === 1 && (type === 3 || type === 4)) {\n        tags[code] = readValue(buffer, isBigEndian);\n      }\n\n      // move to the next tag\n      buffer = nextTag(buffer);\n    }\n  }\n  return tags;\n}\n\n// Test if the TIFF is Big Endian or Little Endian\nfunction determineEndianness (buffer) {\n  var signature = buffer.toString('ascii', 0, 2);\n  if ('II' === signature) {\n    return 'LE';\n  } else if ('MM' === signature) {\n    return 'BE';\n  }\n}\n\nfunction calculate (buffer, filepath) {\n\n  if (!filepath) {\n    throw new TypeError('Tiff doesn\\'t support buffer');\n  }\n\n  // Determine BE/LE\n  var isBigEndian = determineEndianness(buffer) === 'BE';\n\n  // read the IFD\n  var ifdBuffer = readIFD(buffer, filepath, isBigEndian);\n\n  // extract the tags from the IFD\n  var tags = extractTags(ifdBuffer, isBigEndian);\n\n  var width = tags[256];\n  var height = tags[257];\n\n  if (!width || !height) {\n    throw new TypeError('Invalid Tiff, missing tags');\n  }\n\n  return {\n    'width': width,\n    'height': height\n  };\n}\n\nmodule.exports = {\n  'detect': isTIFF,\n  'calculate': calculate\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types/tiff.js\n// module id = 48\n// module chunks = 0","'use strict';\n\n// based on https://developers.google.com/speed/webp/docs/riff_container\n\nfunction isWebP (buffer) {\n  var riffHeader = 'RIFF' === buffer.toString('ascii', 0, 4);\n  var webpHeader = 'WEBP' === buffer.toString('ascii', 8, 12);\n  var vp8Header  = 'VP8'  === buffer.toString('ascii', 12, 15);\n  return (riffHeader && webpHeader && vp8Header);\n}\n\nfunction calculate (buffer) {\n  var chunkHeader = buffer.toString('ascii', 12, 16);\n  buffer = buffer.slice(20, 30);\n\n  // Extended webp stream signature\n  if (chunkHeader === 'VP8X') {\n    var extendedHeader = buffer[0];\n    var validStart = (extendedHeader & 0xc0) === 0;\n    var validEnd = (extendedHeader & 0x01) === 0;\n    if (validStart && validEnd) {\n      return calculateExtended(buffer);\n    } else {\n      return false;\n    }\n  }\n\n  // Lossless webp stream signature\n  if (chunkHeader === 'VP8 ' && buffer[0] !== 0x2f) {\n    return calculateLossy(buffer);\n  }\n\n  // Lossy webp stream signature\n  var signature = buffer.toString('hex', 3, 6);\n  if (chunkHeader === 'VP8L' && signature !== '9d012a') {\n    return calculateLossless(buffer);\n  }\n\n  return false;\n}\n\nfunction calculateExtended (buffer) {\n  return {\n    'width': 1 + buffer.readUIntLE(4, 3),\n    'height': 1 + buffer.readUIntLE(7, 3)\n  }\n}\n\nfunction calculateLossless (buffer) {\n  return {\n    'width': 1 + (((buffer[2] & 0x3F) << 8) | buffer[1]),\n    'height': 1 + (((buffer[4] & 0xF) << 10) | (buffer[3] << 2) |\n                  ((buffer[2] & 0xC0) >> 6))\n  };\n}\n\nfunction calculateLossy (buffer) {\n  // `& 0x3fff` returns the last 14 bits\n  // TO-DO: include webp scaling in the calculations\n  return {\n    'width': buffer.readInt16LE(6) & 0x3fff,\n    'height': buffer.readInt16LE(8) & 0x3fff\n  };\n}\n\nmodule.exports = {\n  'detect': isWebP,\n  'calculate': calculate\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/types/webp.js\n// module id = 49\n// module chunks = 0","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Stack.js\n// module id = 50\n// module chunks = 0","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_assignValue.js\n// module id = 51\n// module chunks = 0","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseAssignValue.js\n// module id = 52\n// module chunks = 0","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGet.js\n// module id = 53\n// module chunks = 0","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsEqual.js\n// module id = 54\n// module chunks = 0","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseKeys.js\n// module id = 55\n// module chunks = 0","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_castPath.js\n// module id = 56\n// module chunks = 0","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_copyObject.js\n// module id = 57\n// module chunks = 0","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_defineProperty.js\n// module id = 58\n// module chunks = 0","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_equalArrays.js\n// module id = 59\n// module chunks = 0","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_freeGlobal.js\n// module id = 60\n// module chunks = 0","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getTag.js\n// module id = 61\n// module chunks = 0","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isIterateeCall.js\n// module id = 62\n// module chunks = 0","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isStrictComparable.js\n// module id = 63\n// module chunks = 0","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_matchesStrictComparable.js\n// module id = 64\n// module chunks = 0","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_toSource.js\n// module id = 65\n// module chunks = 0","/*!\n * Tmp\n *\n * Copyright (c) 2011-2015 KARASZI Istvan <github@spam.raszi.hu>\n *\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\nvar\n  fs     = require('fs'),\n  path   = require('path'),\n  crypto = require('crypto'),\n  tmpDir = require('os-tmpdir'),\n  _c     = process.binding('constants');\n\n\n/**\n * The working inner variables.\n */\nvar\n  // store the actual TMP directory\n  _TMP = tmpDir(),\n\n  // the random characters to choose from\n  RANDOM_CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n\n  TEMPLATE_PATTERN = /XXXXXX/,\n\n  DEFAULT_TRIES = 3,\n\n  CREATE_FLAGS = (_c.O_CREAT || _c.fs.O_CREAT) | (_c.O_EXCL || _c.fs.O_EXCL) | (_c.O_RDWR || _c.fs.O_RDWR),\n\n  EBADF = _c.EBADF || _c.os.errno.EBADF,\n  ENOENT = _c.ENOENT || _c.os.errno.ENOENT,\n\n  DIR_MODE = 448 /* 0700 */,\n  FILE_MODE = 384 /* 0600 */,\n\n  // this will hold the objects need to be removed on exit\n  _removeObjects = [],\n\n  _gracefulCleanup = false,\n  _uncaughtException = false;\n\n/**\n * Random name generator based on crypto.\n * Adapted from http://blog.tompawlak.org/how-to-generate-random-values-nodejs-javascript\n *\n * @param {Number} howMany\n * @return {String}\n * @api private\n */\nfunction _randomChars(howMany) {\n  var\n    value = [],\n    rnd = null;\n\n  // make sure that we do not fail because we ran out of entropy\n  try {\n    rnd = crypto.randomBytes(howMany);\n  } catch (e) {\n    rnd = crypto.pseudoRandomBytes(howMany);\n  }\n\n  for (var i = 0; i < howMany; i++) {\n    value.push(RANDOM_CHARS[rnd[i] % RANDOM_CHARS.length]);\n  }\n\n  return value.join('');\n}\n\n/**\n * Checks whether the `obj` parameter is defined or not.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\nfunction _isUndefined(obj) {\n  return typeof obj === 'undefined';\n}\n\n/**\n * Parses the function arguments.\n *\n * This function helps to have optional arguments.\n *\n * @param {Object} options\n * @param {Function} callback\n * @api private\n */\nfunction _parseArguments(options, callback) {\n  if (typeof options == 'function') {\n    var\n      tmp = options,\n      options = callback || {},\n      callback = tmp;\n  } else if (typeof options == 'undefined') {\n    options = {};\n  }\n\n  return [options, callback];\n}\n\n/**\n * Generates a new temporary name.\n *\n * @param {Object} opts\n * @returns {String}\n * @api private\n */\nfunction _generateTmpName(opts) {\n  if (opts.name) {\n    return path.join(opts.dir || _TMP, opts.name);\n  }\n\n  // mkstemps like template\n  if (opts.template) {\n    return opts.template.replace(TEMPLATE_PATTERN, _randomChars(6));\n  }\n\n  // prefix and postfix\n  var name = [\n    opts.prefix || 'tmp-',\n    process.pid,\n    _randomChars(12),\n    opts.postfix || ''\n  ].join('');\n\n  return path.join(opts.dir || _TMP, name);\n}\n\n/**\n * Gets a temporary file name.\n *\n * @param {Object} options\n * @param {Function} callback\n * @api private\n */\nfunction _getTmpName(options, callback) {\n  var\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1],\n    tries = opts.tries || DEFAULT_TRIES;\n\n  if (isNaN(tries) || tries < 0)\n    return cb(new Error('Invalid tries'));\n\n  if (opts.template && !opts.template.match(TEMPLATE_PATTERN))\n    return cb(new Error('Invalid template provided'));\n\n  (function _getUniqueName() {\n    var name = _generateTmpName(opts);\n\n    // check whether the path exists then retry if needed\n    fs.stat(name, function (err) {\n      if (!err) {\n        if (tries-- > 0) return _getUniqueName();\n\n        return cb(new Error('Could not get a unique tmp filename, max tries reached ' + name));\n      }\n\n      cb(null, name);\n    });\n  }());\n}\n\n/**\n * Synchronous version of _getTmpName.\n *\n * @param {Object} options\n * @returns {String}\n * @api private\n */\nfunction _getTmpNameSync(options) {\n  var\n    args = _parseArguments(options),\n    opts = args[0],\n    tries = opts.tries || DEFAULT_TRIES;\n\n  if (isNaN(tries) || tries < 0)\n    throw new Error('Invalid tries');\n\n  if (opts.template && !opts.template.match(TEMPLATE_PATTERN))\n    throw new Error('Invalid template provided');\n\n  do {\n    var name = _generateTmpName(opts);\n    try {\n      fs.statSync(name);\n    } catch (e) {\n      return name;\n    }\n  } while (tries-- > 0);\n\n  throw new Error('Could not get a unique tmp filename, max tries reached');\n}\n\n/**\n * Creates and opens a temporary file.\n *\n * @param {Object} options\n * @param {Function} callback\n * @api public\n */\nfunction _createTmpFile(options, callback) {\n  var\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  opts.postfix = (_isUndefined(opts.postfix)) ? '.tmp' : opts.postfix;\n\n  // gets a temporary filename\n  _getTmpName(opts, function _tmpNameCreated(err, name) {\n    if (err) return cb(err);\n\n    // create and open the file\n    fs.open(name, CREATE_FLAGS, opts.mode || FILE_MODE, function _fileCreated(err, fd) {\n      if (err) return cb(err);\n\n      if (opts.discardDescriptor) {\n        return fs.close(fd, function _discardCallback(err) {\n          if (err) {\n            // Low probability, and the file exists, so this could be\n            // ignored.  If it isn't we certainly need to unlink the\n            // file, and if that fails too its error is more\n            // important.\n            try {\n              fs.unlinkSync(name);\n            } catch (e) {\n              err = e;\n            }\n            return cb(err);\n          }\n          cb(null, name, undefined, _prepareTmpFileRemoveCallback(name, -1, opts));\n        });\n      }\n      if (opts.detachDescriptor) {\n        return cb(null, name, fd, _prepareTmpFileRemoveCallback(name, -1, opts));\n      }\n      cb(null, name, fd, _prepareTmpFileRemoveCallback(name, fd, opts));\n    });\n  });\n}\n\n/**\n * Synchronous version of _createTmpFile.\n *\n * @param {Object} options\n * @returns {Object} object consists of name, fd and removeCallback\n * @api private\n */\nfunction _createTmpFileSync(options) {\n  var\n    args = _parseArguments(options),\n    opts = args[0];\n\n  opts.postfix = opts.postfix || '.tmp';\n\n  var name = _getTmpNameSync(opts);\n  var fd = fs.openSync(name, CREATE_FLAGS, opts.mode || FILE_MODE);\n\n  return {\n    name : name,\n    fd : fd,\n    removeCallback : _prepareTmpFileRemoveCallback(name, fd, opts)\n  };\n}\n\n/**\n * Removes files and folders in a directory recursively.\n *\n * @param {String} root\n * @api private\n */\nfunction _rmdirRecursiveSync(root) {\n  var dirs = [root];\n\n  do {\n    var\n      dir = dirs.pop(),\n      deferred = false,\n      files = fs.readdirSync(dir);\n\n    for (var i = 0, length = files.length; i < length; i++) {\n      var\n        file = path.join(dir, files[i]),\n        stat = fs.lstatSync(file); // lstat so we don't recurse into symlinked directories\n\n      if (stat.isDirectory()) {\n        if (!deferred) {\n          deferred = true;\n          dirs.push(dir);\n        }\n        dirs.push(file);\n      } else {\n        fs.unlinkSync(file);\n      }\n    }\n\n    if (!deferred) {\n      fs.rmdirSync(dir);\n    }\n  } while (dirs.length !== 0);\n}\n\n/**\n * Creates a temporary directory.\n *\n * @param {Object} options\n * @param {Function} callback\n * @api public\n */\nfunction _createTmpDir(options, callback) {\n  var\n    args = _parseArguments(options, callback),\n    opts = args[0],\n    cb = args[1];\n\n  // gets a temporary filename\n  _getTmpName(opts, function _tmpNameCreated(err, name) {\n    if (err) return cb(err);\n\n    // create the directory\n    fs.mkdir(name, opts.mode || DIR_MODE, function _dirCreated(err) {\n      if (err) return cb(err);\n\n      cb(null, name, _prepareTmpDirRemoveCallback(name, opts));\n    });\n  });\n}\n\n/**\n * Synchronous version of _createTmpDir.\n *\n * @param {Object} options\n * @returns {Object} object consists of name and removeCallback\n * @api private\n */\nfunction _createTmpDirSync(options) {\n  var\n    args = _parseArguments(options),\n    opts = args[0];\n\n  var name = _getTmpNameSync(opts);\n  fs.mkdirSync(name, opts.mode || DIR_MODE);\n\n  return {\n    name : name,\n    removeCallback : _prepareTmpDirRemoveCallback(name, opts)\n  };\n}\n\n/**\n * Prepares the callback for removal of the temporary file.\n *\n * @param {String} name\n * @param {int} fd\n * @param {Object} opts\n * @api private\n * @returns {Function} the callback\n */\nfunction _prepareTmpFileRemoveCallback(name, fd, opts) {\n  var removeCallback = _prepareRemoveCallback(function _removeCallback(fdPath) {\n    try {\n      if (0 <= fdPath[0]) {\n        fs.closeSync(fdPath[0]);\n      }\n    }\n    catch (e) {\n      // under some node/windows related circumstances, a temporary file\n      // may have not be created as expected or the file was already closed\n      // by the user, in which case we will simply ignore the error\n      if (e.errno != -EBADF && e.errno != -ENOENT) {\n        // reraise any unanticipated error\n        throw e;\n      }\n    }\n    fs.unlinkSync(fdPath[1]);\n  }, [fd, name]);\n\n  if (!opts.keep) {\n    _removeObjects.unshift(removeCallback);\n  }\n\n  return removeCallback;\n}\n\n/**\n * Prepares the callback for removal of the temporary directory.\n *\n * @param {String} name\n * @param {Object} opts\n * @returns {Function} the callback\n * @api private\n */\nfunction _prepareTmpDirRemoveCallback(name, opts) {\n  var removeFunction = opts.unsafeCleanup ? _rmdirRecursiveSync : fs.rmdirSync.bind(fs);\n  var removeCallback = _prepareRemoveCallback(removeFunction, name);\n\n  if (!opts.keep) {\n    _removeObjects.unshift(removeCallback);\n  }\n\n  return removeCallback;\n}\n\n/**\n * Creates a guarded function wrapping the removeFunction call.\n *\n * @param {Function} removeFunction\n * @param {Object} arg\n * @returns {Function}\n * @api private\n */\nfunction _prepareRemoveCallback(removeFunction, arg) {\n  var called = false;\n\n  return function _cleanupCallback(next) {\n    if (!called) {\n        var index = _removeObjects.indexOf(_cleanupCallback);\n        if (index >= 0) {\n          _removeObjects.splice(index, 1);\n        }\n\n        called = true;\n        removeFunction(arg);\n    }\n    if (next) next(null);\n  };\n}\n\n/**\n * The garbage collector.\n *\n * @api private\n */\nfunction _garbageCollector() {\n  if (_uncaughtException && !_gracefulCleanup) {\n    return;\n  }\n\n  // the function being called removes itself from _removeObjects,\n  // loop until _removeObjects is empty\n  while (_removeObjects.length) {\n    try {\n      _removeObjects[0].call(null);\n    } catch (e) {\n      // already removed?\n    }\n  }\n}\n\nfunction _setGracefulCleanup() {\n  _gracefulCleanup = true;\n}\n\nvar version = process.versions.node.split('.').map(function (value) {\n  return parseInt(value, 10);\n});\n\nif (version[0] === 0 && (version[1] < 9 || version[1] === 9 && version[2] < 5)) {\n  process.addListener('uncaughtException', function _uncaughtExceptionThrown(err) {\n    _uncaughtException = true;\n    _garbageCollector();\n\n    throw err;\n  });\n}\n\nprocess.addListener('exit', function _exit(code) {\n  if (code) _uncaughtException = true;\n  _garbageCollector();\n});\n\n// exporting all the needed methods\nmodule.exports.tmpdir = _TMP;\nmodule.exports.dir = _createTmpDir;\nmodule.exports.dirSync = _createTmpDirSync;\nmodule.exports.file = _createTmpFile;\nmodule.exports.fileSync = _createTmpFileSync;\nmodule.exports.tmpName = _getTmpName;\nmodule.exports.tmpNameSync = _getTmpNameSync;\nmodule.exports.setGracefulCleanup = _setGracefulCleanup;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tmp/lib/tmp.js\n// module id = 66\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLCData, XMLNode, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return create(XMLCData.prototype, this);\n    };\n\n    XMLCData.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<![CDATA[' + this.text + ']]>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLCData.js\n// module id = 67\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLComment, XMLNode, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return create(XMLComment.prototype, this);\n    };\n\n    XMLComment.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!-- ' + this.text + ' -->';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLComment.js\n// module id = 68\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDeclaration, XMLNode, create, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  isObject = require('lodash/isObject');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?xml';\n      r += ' version=\"' + this.version + '\"';\n      if (this.encoding != null) {\n        r += ' encoding=\"' + this.encoding + '\"';\n      }\n      if (this.standalone != null) {\n        r += ' standalone=\"' + this.standalone + '\"';\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLDeclaration.js\n// module id = 69\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLProcessingInstruction, create, isObject;\n\n  create = require('lodash/create');\n\n  isObject = require('lodash/isObject');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLDocType = (function() {\n    function XMLDocType(parent, pubID, sysID) {\n      var ref, ref1;\n      this.documentObject = parent;\n      this.stringify = this.documentObject.stringify;\n      this.children = [];\n      if (isObject(pubID)) {\n        ref = pubID, pubID = ref.pubID, sysID = ref.sysID;\n      }\n      if (sysID == null) {\n        ref1 = [pubID, sysID], sysID = ref1[0], pubID = ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.instruction = function(target, value) {\n      var child;\n      child = new XMLProcessingInstruction(this, target, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.root = function() {\n      return this.documentObject.root();\n    };\n\n    XMLDocType.prototype.document = function() {\n      return this.documentObject;\n    };\n\n    XMLDocType.prototype.toString = function(options, level) {\n      var child, i, indent, len, newline, offset, pretty, r, ref, ref1, ref2, ref3, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!DOCTYPE ' + this.root().name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      if (this.children.length > 0) {\n        r += ' [';\n        if (pretty) {\n          r += newline;\n        }\n        ref3 = this.children;\n        for (i = 0, len = ref3.length; i < len; i++) {\n          child = ref3[i];\n          r += child.toString(options, level + 1);\n        }\n        r += ']';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocType.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocType.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root();\n    };\n\n    XMLDocType.prototype.doc = function() {\n      return this.document();\n    };\n\n    return XMLDocType;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLDocType.js\n// module id = 70\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, XMLProcessingInstruction, create, every, isFunction, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  isObject = require('lodash/isObject');\n\n  isFunction = require('lodash/isFunction');\n\n  every = require('lodash/every');\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.children = [];\n      this.instructions = [];\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, i, len, pi, ref, ref1;\n      clonedSelf = create(XMLElement.prototype, this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attributes = {};\n      ref = this.attributes;\n      for (attName in ref) {\n        if (!hasProp.call(ref, attName)) continue;\n        att = ref[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.instructions = [];\n      ref1 = this.instructions;\n      for (i = 0, len = ref1.length; i < len; i++) {\n        pi = ref1[i];\n        clonedSelf.instructions.push(pi.clone());\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, i, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (Array.isArray(name)) {\n        for (i = 0, len = name.length; i < len; i++) {\n          attName = name[i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, instruction, len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.instructions.push(instruction);\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options, level) {\n      var att, child, i, indent, instruction, j, len, len1, name, newline, offset, pretty, r, ref, ref1, ref2, ref3, ref4, ref5, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      ref3 = this.instructions;\n      for (i = 0, len = ref3.length; i < len; i++) {\n        instruction = ref3[i];\n        r += instruction.toString(options, level);\n      }\n      if (pretty) {\n        r += space;\n      }\n      r += '<' + this.name;\n      ref4 = this.attributes;\n      for (name in ref4) {\n        if (!hasProp.call(ref4, name)) continue;\n        att = ref4[name];\n        r += att.toString(options);\n      }\n      if (this.children.length === 0 || every(this.children, function(e) {\n        return e.value === '';\n      })) {\n        r += '/>';\n        if (pretty) {\n          r += newline;\n        }\n      } else if (pretty && this.children.length === 1 && (this.children[0].value != null)) {\n        r += '>';\n        r += this.children[0].value;\n        r += '</' + this.name + '>';\n        r += newline;\n      } else {\n        r += '>';\n        if (pretty) {\n          r += newline;\n        }\n        ref5 = this.children;\n        for (j = 0, len1 = ref5.length; j < len1; j++) {\n          child = ref5[j];\n          r += child.toString(options, level + 1);\n        }\n        if (pretty) {\n          r += space;\n        }\n        r += '</' + this.name + '>';\n        if (pretty) {\n          r += newline;\n        }\n      }\n      return r;\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLElement.js\n// module id = 71\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLProcessingInstruction, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLProcessingInstruction = (function() {\n    function XMLProcessingInstruction(parent, target, value) {\n      this.stringify = parent.stringify;\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return create(XMLProcessingInstruction.prototype, this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?';\n      r += this.target;\n      if (this.value) {\n        r += ' ' + this.value;\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLProcessingInstruction;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLProcessingInstruction.js\n// module id = 72\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 73\n// module chunks = 0","module.exports = require(\"assert\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"assert\"\n// module id = 74\n// module chunks = 0","module.exports = require(\"buffer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"buffer\"\n// module id = 75\n// module chunks = 0","module.exports = require(\"child_process\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"child_process\"\n// module id = 76\n// module chunks = 0","module.exports = require(\"core-js/es6/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"core-js/es6/promise\"\n// module id = 77\n// module chunks = 0","module.exports = require(\"core-js/es6/set\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"core-js/es6/set\"\n// module id = 78\n// module chunks = 0","module.exports = require(\"core-js/fn/array/from\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"core-js/fn/array/from\"\n// module id = 79\n// module chunks = 0","module.exports = require(\"core-js/fn/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"core-js/fn/object/assign\"\n// module id = 80\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 81\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 82\n// module chunks = 0","module.exports = require(\"net\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"net\"\n// module id = 83\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 84\n// module chunks = 0","module.exports = require(\"reselect\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"reselect\"\n// module id = 85\n// module chunks = 0","module.exports = require(\"tty\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tty\"\n// module id = 86\n// module chunks = 0","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 87\n// module chunks = 0","module.exports = require(\"uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid\"\n// module id = 88\n// module chunks = 0","module.exports = require(\"zlib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"zlib\"\n// module id = 89\n// module chunks = 0","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\n\nimport {\n  DmSignState,\n  dmGetSignState,\n} from '@brightsign/bsdatamodel';\n\nimport reducers from './store/reducers';\n\nimport { bpfToJson } from './bpfToJson';\nimport { createSign } from './signBuilder';\n\nexport default function importBPF(xmlBuffer: string): Promise<DmSignState> {\n\n  const store = createStore(\n    reducers,\n    applyMiddleware(\n      thunkMiddleware,\n    ),\n  );\n\n  return executeImportBPF(xmlBuffer, store.dispatch, store.getState);\n}\n\nfunction executeImportBPF(xmlBuffer: string, dispatch: Function, getState: Function): Promise<DmSignState> {\n  return new Promise( (resolve, reject) => {\n    bpfToJson(xmlBuffer).then( (bpf : any) => {\n      createSign(bpf, dispatch, getState);\n      const signState: DmSignState = dmGetSignState(getState().bsdm);\n      resolve(signState);\n    });\n  })\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/bpfImporter.ts","const xml2js : any = require('xml2js');\n\nimport * as Converters from './converters';\n\nexport function bpfToJson(xmlBPF : any) : any {\n\n  return new Promise( (resolve) => {\n    stringToJson(xmlBPF).then( (jsonBPF: any) => {\n      const bpf : any = fixJsonBPF(jsonBPF);\n      resolve(bpf);\n    });\n  });\n}\n\nfunction fixJsonBPF(rawBPF : any) : any {\n\n  let bpf : any = {};\n\n  const rawBrightAuthor : any = rawBPF.BrightAuthor;\n  const rawPresentationParameters : any = rawBrightAuthor.$;\n  const rawMetadata = rawBrightAuthor.meta;\n\n  // TODO\n  // check for array vs. non array for zones\n  const rawZones = rawBrightAuthor.zones;\n  const rawZone = rawZones.zone;\n\n  bpf.presentationParameters = fixPresentationParameters(rawPresentationParameters);\n  bpf.metadata = fixMetadata(rawMetadata);\n  bpf.zones = fixZones(rawZones);\n\n  console.log(bpf);\n\n  return bpf;\n}\n\nfunction fixPresentationParameters(rawPresentationParameters: any) : any {\n\n  const presentationParametersSpec: any[] = [\n    { name: 'BrightAuthorVersion', type: 'string'},\n    { name: 'type', type: 'string'},\n    { name: 'version', type: 'number'}\n  ];\n\n  return fixJson(presentationParametersSpec, rawPresentationParameters);\n}\n\nfunction fixMetadata(rawMetadata: any) : any {\n\n  let {\n    DirectoryLocations, SerialPortConfiguration, backgroundScreenColor, beacons, htmlSites, liveDataFeeds,\n    parserPlugins, presentationIdentifiers, scriptPlugins, userDefinedEvents, userVariables\n  } = rawMetadata;\n\n  const metadataSpec: any[] = [\n    { name:'name', type: 'string'},\n    { name:'videoMode', type: 'string'},\n    { name:'model', type: 'string'},\n    { name:'alphabetizeVariableNames', type: 'boolean'},\n    { name:'autoCreateMediaCounterVariables', type: 'boolean'},\n    { name:'delayScheduleChangeUntilMediaEndEvent', type: 'boolean'},\n    { name:'deviceWebPageDisplay', type: 'string'},\n    { name:'flipCoordinates', type: 'boolean'},\n    { name:'forceResolution', type: 'boolean'},\n    { name:'graphicsZOrder', type: 'string'},\n    { name:'htmlEnableJavascriptConsole', type: 'boolean'},\n    { name:'inactivityTime', type: 'number'},\n    { name:'inactivityTimeout', type: 'boolean'},\n    { name:'isMosaic', type: 'boolean'},\n    { name:'language', type: 'string'},\n    { name:'languageKey', type: 'string'},\n    { name:'monitorOrientation', type: 'string'},\n    { name:'monitorOverscan', type: 'string'},\n    { name:'resetVariablesOnPresentationStart', type: 'boolean'},\n    { name:'tenBitColorEnabled', type: 'boolean'},\n    { name:'touchCursorDisplayMode', type: 'string'},\n    { name:'udpDestinationAddress', type: 'string'},\n    { name:'udpDestinationAddressType', type: 'string'},\n    { name:'udpDestinationPort', type: 'number'},\n    { name:'udpReceiverPort', type: 'number'},\n    { name:'videoConnector', type: 'string'},\n    { name:'BP200AConfiguration', type: 'number'},\n    { name:'BP200AConfigureAutomatically', type: 'boolean'},\n    { name:'BP200BConfiguration', type: 'number'},\n    { name:'BP200BConfigureAutomatically', type: 'boolean'},\n    { name:'BP200CConfiguration', type: 'number'},\n    { name:'BP200CConfigureAutomatically', type: 'boolean'},\n    { name:'BP200DConfiguration', type: 'number'},\n    { name:'BP200DConfigureAutomatically', type: 'boolean'},\n    { name:'BP900AConfiguration', type: 'number'},\n    { name:'BP900AConfigureAutomatically', type: 'boolean'},\n    { name:'BP900BConfiguration', type: 'number'},\n    { name:'BP900BConfigureAutomatically', type: 'boolean'},\n    { name:'BP900CConfiguration', type: 'number'},\n    { name:'BP900CConfigureAutomatically', type: 'boolean'},\n    { name:'BP900DConfiguration', type: 'number'},\n    { name:'BP900DConfigureAutomatically', type: 'boolean'},\n    { name:'audio1MaxVolume', type: 'number'},\n    { name:'audio1MinVolume', type: 'number'},\n    { name:'audio2MaxVolume', type: 'number'},\n    { name:'audio2MinVolume', type: 'number'},\n    { name:'audio3MaxVolume', type: 'number'},\n    { name:'audio3MinVolume', type: 'number'},\n    { name:'audioConfiguration', type: 'string'},\n    { name:'fullResGraphicsEnabled', type: 'boolean'},\n    { name:'gpio0', type: 'string'},\n    { name:'gpio1', type: 'string'},\n    { name:'gpio2', type: 'string'},\n    { name:'gpio3', type: 'string'},\n    { name:'gpio4', type: 'string'},\n    { name:'gpio5', type: 'string'},\n    { name:'gpio6', type: 'string'},\n    { name:'gpio7', type: 'string'},\n    { name:'hdmiMaxVolume', type: 'number'},\n    { name:'hdmiMinVolume', type: 'number'},\n    { name:'isBackup', type: 'boolean'},\n    { name:'networkedVariablesUpdateInterval', type: 'number'},\n    { name:'spdifMaxVolume', type: 'number'},\n    { name:'spdifMinVolume', type: 'number'},\n    { name:'usbAMaxVolume', type: 'number'},\n    { name:'usbAMinVolume', type: 'number'},\n    { name:'usbBMaxVolume', type: 'number'},\n    { name:'usbBMinVolume', type: 'number'},\n    { name:'usbCMaxVolume', type: 'number'},\n    { name:'usbCMinVolume', type: 'number'},\n    { name:'usbDMaxVolume', type: 'number'},\n    { name:'usbDMinVolume', type: 'number'},\n  ];\n\n  let metadata : any = fixJson(metadataSpec, rawMetadata);\n  metadata.backgroundScreenColor = fixBackgroundScreenColor(backgroundScreenColor);\n  metadata.SerialPortConfigurations = fixSerialPortConfiguration(SerialPortConfiguration);\n\n  return metadata;\n}\n\nfunction fixSerialPortConfiguration(rawSerialPortConfigurations : any) : any {\n\n  let serialPortConfigurations : any[] = [];\n\n  const serialPortConfigurationSpec: any [] = [\n    { name:'baudRate', type: 'number'},\n    { name:'connectedDevice', type: 'string'},\n    { name:'dataBits', type: 'number'},\n    { name:'invertSignals', type: 'bool'},\n    { name:'parity', type: 'string'},\n    { name:'port', type: 'number'},\n    { name:'protocol', type: 'string'},\n    { name:'receiveEol', type: 'string'},\n    { name:'sendEol', type: 'string'},\n    { name:'stopBits', type: 'number'},\n  ];\n\n  rawSerialPortConfigurations.forEach( (rawSerialPortConfiguration : any) => {\n    serialPortConfigurations.push(fixJson(serialPortConfigurationSpec, rawSerialPortConfiguration));\n  });\n\n  return serialPortConfigurations;\n}\n\nfunction fixBackgroundScreenColor(rawBackgroundScreenColor : any) : any {\n  const backgroundScreenColorSpec: any[] = [\n    { name:'a', type: 'number'},\n    { name:'r', type: 'number'},\n    { name:'g', type: 'number'},\n    { name:'b', type: 'number'},\n  ];\n\n  return fixJson(backgroundScreenColorSpec, rawBackgroundScreenColor.$);\n}\n\nfunction fixZones(rawZones: any) : any {\n\n  // check to see if rawZones is an array - for now it's not\n  let zones : any = [];\n  zones.push(fixZone(rawZones.zone));\n\n  return zones;\n}\n\nfunction fixZone(rawZone : any) : any {\n\n  let zone : any = fixZoneParameters(rawZone);\n  zone.zoneSpecificParameters = fixZoneSpecificParameters(rawZone.zoneSpecificParameters);\n  zone.playlist = fixZonePlaylist(rawZone.playlist);\n\n  return zone;\n}\n\nfunction fixZoneParameters(rawZone : any) : any {\n\n  const zoneParametersSpec: any[] = [\n    { name: 'height', type: 'number'},\n    { name: 'horizontalOffset', type: 'number'},\n    { name: 'id', type: 'string'},\n    { name: 'name', type: 'string'},\n    { name: 'type', type: 'string'},\n    { name: 'verticalOffset', type: 'number'},\n    { name: 'width', type: 'number'},\n    { name: 'x', type: 'number'},\n    { name: 'y', type: 'number'},\n    { name: 'zoomValue', type: 'number'},\n  ];\n\n  return fixJson(zoneParametersSpec, rawZone);\n}\n\nfunction fixZoneSpecificParameters(rawZoneSpecificParameters : any) : any {\n\n  const zoneSpecificParametersSpec: any[] = [\n    { name: 'analogOutput', type: 'string'},\n    { name: 'analog2Output', type: 'string'},\n    { name: 'analog3Output', type: 'string'},\n    { name: 'audioMapping', type: 'string'},\n    { name: 'audioMixMode', type: 'string'},\n    { name: 'audioMode', type: 'string'},\n    { name: 'audioOutput', type: 'string'},\n    { name: 'audioVolume', type: 'number'},\n    { name: 'brightness', type: 'number'},\n    { name: 'contrast', type: 'number'},\n    { name: 'hdmiOutput', type: 'string'},\n    { name: 'hue', type: 'number'},\n    { name: 'imageMode', type: 'string'},\n    { name: 'liveVideoInput', type: 'string'},\n    { name: 'liveVideoStandard', type: 'string'},\n    { name: 'maxContentResolution', type: 'string'},\n    { name: 'maximumVolume', type: 'number'},\n    { name: 'minimumVolume', type: 'number'},\n    { name: 'mosaic', type: 'boolean'},\n    { name: 'saturation', type: 'number'},\n    { name: 'spdifOutput', type: 'string'},\n    { name: 'usbOutput', type: 'string'},\n    { name: 'usbOutputA', type: 'string'},\n    { name: 'usbOutputB', type: 'string'},\n    { name: 'usbOutputC', type: 'string'},\n    { name: 'usbOutputD', type: 'string'},\n    { name: 'videoVolume', type: 'number'},\n    { name: 'viewMode', type: 'string'},\n    { name: 'zOrderFront', type: 'boolean'},\n  ];\n\n  return fixJson(zoneSpecificParametersSpec, rawZoneSpecificParameters);\n}\n\nfunction fixZonePlaylist(rawZonePlaylist : any) : any {\n\n  const playlistParametersSpec: any[] = [\n    { name: 'name', type: 'string'},\n    { name: 'type', type: 'string'},\n  ];\n\n  let playlist : any = fixJson(playlistParametersSpec, rawZonePlaylist);\n\n  if (playlist.type === 'non-interactive') {\n    playlist.states = fixZonePlaylistStates(rawZonePlaylist.$$);\n  }\n  else {\n    debugger;\n  }\n\n  return playlist;\n}\n\nfunction fixZonePlaylistStates(rawPlaylistItems: any) : any {\n\n  let playlistStates : any[] = [];\n\n  rawPlaylistItems.forEach( (rawPlaylistItem : any) => {\n    switch (rawPlaylistItem[\"#name\"]) {\n      case 'imageItem': {\n        playlistStates.push(fixImageItem(rawPlaylistItem));\n        break;\n\n      }\n      case 'videoItem': {\n        playlistStates.push(fixVideoItem(rawPlaylistItem));\n        break;\n      }\n    }\n  });\n  return playlistStates;\n}\n\nfunction fixImageItem(rawImageItem : any) : any {\n\n  const imageItemParametersSpec: any[] = [\n    { name: 'fileIsLocal', type: 'boolean'},\n    { name: 'slideDelayInterval', type: 'number'},\n    { name: 'slideTransition', type: 'string'},\n    { name: 'transitionDuration', type: 'number'},\n    { name: 'videoPlayerRequired', type: 'boolean'},\n  ];\n\n  let imageItem : any = fixJson(imageItemParametersSpec, rawImageItem);\n  imageItem.file = fixRawFileItem(rawImageItem.file.$);\n  imageItem.type = 'imageItem';\n\n  return imageItem;\n}\n\nfunction fixVideoItem(rawVideoItem : any) : any {\n  \n  const videoItemParametersSpec: any[] = [\n    { name: 'automaticallyLoop', type: 'boolean'},\n    { name: 'fileIsLocal', type: 'boolean'},\n    { name: 'videoDisplayMode', type: 'string'},\n    { name: 'volume', type: 'number'},\n  ];\n\n  let videoItem : any = fixJson(videoItemParametersSpec, rawVideoItem);\n  videoItem.file = fixRawFileItem(rawVideoItem.file.$);\n  videoItem.type = 'videoItem';\n\n  return videoItem;\n}\n\nfunction fixRawFileItem(rawFileItem : any) : any {\n  const imageItemParametersSpec: any[] = [\n    { name: 'name', type: 'string'},\n    { name: 'path', type: 'string'},\n  ];\n\n  return fixJson(imageItemParametersSpec, rawFileItem);\n}\n\nfunction fixJson(parametersSpec: any[], parameters: any) : any {\n\n  let convertedParameters: any = {};\n\n  parametersSpec.forEach( (parameterSpec : any) => {\n    if (parameters.hasOwnProperty(parameterSpec.name)) {\n      let parameterValue = parameters[parameterSpec.name];\n      switch(parameterSpec.type) {\n        case 'string':\n          convertedParameters[parameterSpec.name] = parameterValue;\n          break;\n        case 'boolean':\n          convertedParameters[parameterSpec.name] = Converters.stringToBool(parameterValue);\n          break;\n        case 'number':\n          convertedParameters[parameterSpec.name] = Converters.stringToNumber(parameterValue);\n          break;\n      }\n    }\n  });\n\n  return convertedParameters;\n}\n\nfunction stringToJson(buf : Buffer) : any {\n\n  return new Promise( (resolve, reject) => {\n    try {\n      let parser = new xml2js.Parser({\n        explicitArray: false,\n        explicitChildren: true,\n        preserveChildrenOrder: true\n      });\n      parser.parseString(buf, (err: any, json: any) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(json);\n      });\n    } catch (parseErr) {\n      reject(parseErr);\n    }\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/bpfToJson.ts","import importBPF from './bpfImporter';\nexport = { importBPF };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import * as path from 'path';\n\nimport {\n  getEnumKeyOfValue,\n  AssetLocation,\n  AssetType,\n  AudioMappingType,\n\n  AudioMixModeType,\n  AudioModeType,\n  AudioOutputSelectionType,\n  AudioOutputType,\n  BsAssetItem,\n  BsColor,\n  BsRect,\n  DeviceWebPageDisplay,\n  GraphicsZOrderType,\n  EventType,\n  ImageModeType,\n  LanguageType,\n  LanguageKeyType,\n  LiveVideoInputType,\n  LiveVideoStandardType,\n  MediaType,\n  MonitorOrientationType,\n  MonitorOverscanType,\n  MosaicMaxContentResolutionType,\n  TouchCursorDisplayModeType,\n  TransitionType,\n  UdpAddressType,\n  VideoConnectorType,\n  ViewModeType,\n  ZoneType,\n} from '@brightsign/bscore';\n\nimport {\n  getAssetItemFromFile\n} from '@brightsign/fsconnector';\n\nimport {\n  AudioSignPropertyMapParams,\n  BsDmId,\n  BsDmThunkAction,\n  DmAudioOutputAssignmentMap,\n  DmAudioSignProperties,\n  DmAudioSignPropertyMap,\n  DmAudioZoneProperties,\n  DmAudioZonePropertyData,\n  DmImageZoneProperties,\n  DmImageZonePropertyData,\n  DmMediaStateContainer,\n  DmSerialPortList,\n  DmSignMetadata,\n  DmSignProperties,\n  DmSignState,\n  DmVideoZoneProperties,\n  DmVideoZonePropertyData,\n  EventParams,\n  MediaStateAction,\n  MediaStateParams,\n  SerialPortListParams,\n  SignAction,\n  TransitionAction,\n  ZoneAction,\n  ZoneParams,\n  ZoneChangeParams,\n  ZonePropertyUpdateAction,\n  ZonePropertyUpdateParams,\n  VideoOrImagesZonePropertyParams,\n  dmAddEvent,\n  dmAddMediaState,\n  dmAddTransition,\n  dmAddZone,\n  dmCreateAssetItemFromLocalFile,\n  dmGetZoneMediaStateContainer,\n  dmGetSignState,\n  dmNewSign,\n  dmUpdateSignAudioPropertyMap,\n  dmUpdateSignProperties,\n  dmUpdateSignSerialPorts,\n  dmUpdateZone,\n  dmUpdateZoneProperties,\n} from '@brightsign/bsdatamodel';\n\nimport {\n  getBsAssetCollection\n} from '@brightsign/bs-content-manager';\n\nimport * as Converters from './converters';\n\nexport function createSign(bpf : any, dispatch: Function, getState: Function) : void {\n  newSign(bpf, dispatch);\n  setSignProperties(bpf, dispatch, getState);\n  setSignAudioProperties(bpf, dispatch);\n  setSerialPortConfiguration(bpf, dispatch);\n  addZones(bpf, dispatch);\n}\n\nfunction newSign(bpf : any, dispatch: Function) {\n  const { name, videoMode, model } = bpf.metadata;\n  dispatch(dmNewSign(name, videoMode, model));\n}\n\nfunction checkEnumKeyOfValue(enumType : any, value : string) : string | null {\n  return getEnumKeyOfValue(enumType, value);\n}\n\nfunction setSignProperties(bpf : any, dispatch: Function, getState: Function) {\n\n  let state = getState();\n\n  let signAction : SignAction;\n  let signState : DmSignState;\n  let signMetadata : DmSignMetadata;\n  let signProperties : DmSignProperties;\n\n  signState = dmGetSignState(state.bsdm);\n  signMetadata = signState.sign;\n  signProperties = signMetadata.properties;\n\n  let {\n    alphabetizeVariableNames,\n    autoCreateMediaCounterVariables,\n    delayScheduleChangeUntilMediaEndEvent,\n    deviceWebPageDisplay,\n    flipCoordinates,\n    forceResolution,\n    graphicsZOrder,\n    htmlEnableJavascriptConsole,\n    inactivityTime,\n    inactivityTimeout,\n    isMosaic,\n    language,\n    languageKey,\n    monitorOrientation,\n    monitorOverscan,\n    resetVariablesOnPresentationStart,\n    tenBitColorEnabled,\n    touchCursorDisplayMode,\n    udpDestinationAddress,\n    udpDestinationAddressType,\n    udpDestinationPort,\n    udpReceiverPort,\n    videoConnector,\n  } = bpf.metadata;\n\n  if (!checkEnumKeyOfValue(DeviceWebPageDisplay, deviceWebPageDisplay)) debugger;\n  if (!checkEnumKeyOfValue(GraphicsZOrderType, graphicsZOrder)) debugger;\n  if (!checkEnumKeyOfValue(LanguageType, language)) debugger;\n  if (!checkEnumKeyOfValue(LanguageKeyType, languageKey)) debugger;\n  if (!checkEnumKeyOfValue(MonitorOrientationType, monitorOrientation)) debugger;\n\n  // TODO NoOverscan vs. noOverscan\n  // if (!checkEnumKeyOfValue(MonitorOverscanType, monitorOverscan)) debugger;\n  // if (!checkEnumKeyOfValue(TouchCursorDisplayModeType, touchCursorDisplayMode)) debugger;\n  if (!checkEnumKeyOfValue(UdpAddressType, udpDestinationAddressType)) debugger;\n  if (!checkEnumKeyOfValue(VideoConnectorType, videoConnector)) debugger;\n\n  const { a, r, g, b } = bpf.metadata.backgroundScreenColor;\n  const backgroundScreenColor : BsColor = { a, r, g, b };\n\n  signAction = dispatch(dmUpdateSignProperties(\n    {\n      id : signProperties.id,\n      alphabetizeVariableNames,\n      autoCreateMediaCounterVariables,\n      backgroundScreenColor,\n      delayScheduleChangeUntilMediaEndEvent,\n      deviceWebPageDisplay,\n      flipCoordinates,\n      forceResolution,\n      graphicsZOrder,\n      htmlEnableJavascriptConsole,\n      inactivityTime,\n      inactivityTimeout,\n      isMosaic,\n      language,\n      languageKey,\n      monitorOrientation,\n      monitorOverscan,\n      resetVariablesOnPresentationStart,\n      tenBitColorEnabled,\n      touchCursorDisplayMode,\n      udpDestinationAddress,\n      udpDestinationAddressType,\n      udpDestinationPort,\n      udpReceiverPort,\n      videoConnector,\n    }\n  ));\n}\n\nfunction setSignAudioProperties(bpf : any, dispatch : Function) {\n\n  const bpfAudioVolumeNames : Array<string> = [\n    'audio1',\n    'audio2',\n    'audio3',\n    'hdmi',\n    'spdif',\n    'usbA',\n    'usbB',\n    'usbC',\n    'usbD',\n  ];\n\n  const bpfxAudioOutputs: Array<string> = [\n    'analog1',\n    'analog2',\n    'analog3',\n    'hdmi',\n    'spdif',\n    'usbA',\n    'usbB',\n    'usbC',\n    'usbD',\n  ];\n\n  let audioSignPropertyMap : DmAudioSignPropertyMap = {};\n  let audioSignProperties : DmAudioSignProperties;\n\n  for (let i = 0; i < bpfAudioVolumeNames.length; i++) {\n    audioSignProperties = {\n      min: bpf.metadata[bpfAudioVolumeNames[i] + 'MinVolume'],\n      max: bpf.metadata[bpfAudioVolumeNames[i] + 'MaxVolume'],\n    };\n    audioSignPropertyMap[bpfxAudioOutputs[i]] = audioSignProperties;\n  }\n\n  const audioSignPropertyMapParams : AudioSignPropertyMapParams = {\n    params : audioSignPropertyMap\n  };\n\n  dispatch(dmUpdateSignAudioPropertyMap(audioSignPropertyMapParams));\n}\n\nfunction setSerialPortConfiguration(bpf : any, dispatch: Function) {\n\n  let serialPortList : DmSerialPortList = [];\n\n  bpf.metadata.SerialPortConfigurations.forEach( (serialPortConfiguration : any) => {\n    serialPortList.push(serialPortConfiguration);\n  });\n\n  let serialPortListParams : SerialPortListParams = {\n    params : serialPortList\n  };\n\n  dispatch(dmUpdateSignSerialPorts(serialPortListParams));\n}\n\nfunction buildAudioOutputAssignmentMap(zoneSpecificParameters : any) : DmAudioOutputAssignmentMap {\n\n  const bpfAudioOutputs : Array<string> = [\n    'analogOutput',\n    'analog2Output',\n    'analog3Output',\n    'hdmiOutput',\n    'spdifOutput',\n    'usbOutputA',\n    'usbOutputB',\n    'usbOutputC',\n    'usbOutputD',\n  ];\n\n  const bpfxAudioOutputs: Array<string> = [\n    'analog1',\n    'analog2',\n    'analog3',\n    'hdmi',\n    'spdif',\n    'usbA',\n    'usbB',\n    'usbC',\n    'usbD',\n  ];\n\n  let audioOutputAssignments: DmAudioOutputAssignmentMap = {};\n\n  for (let i = 0; i < bpfAudioOutputs.length; i++) {\n    audioOutputAssignments[bpfxAudioOutputs[i]] = zoneSpecificParameters[bpfAudioOutputs[i]];\n  }\n\n  return audioOutputAssignments;\n}\n\nfunction setZoneProperties(bpfZone : any, zoneId : BsDmId, zoneType : ZoneType, dispatch : Function) {\n  switch (zoneType) {\n    case ZoneType.VideoOrImages: {\n\n      const zoneSpecificParameters = bpfZone.zoneSpecificParameters;\n\n      let imageMode : ImageModeType;\n      const bpfImageMode : string = zoneSpecificParameters.imageMode;\n      switch (bpfImageMode) {\n        case 'Center Image':\n          imageMode = ImageModeType.CenterImage;\n          break;\n        case 'Scale to Fill and Crop':\n          imageMode = ImageModeType.FillAndCrop;\n          break;\n        case 'Scale to Fill':\n          imageMode = ImageModeType.ScaleToFill;\n          break;\n        case 'Scale to Fit':\n          imageMode = ImageModeType.ScaleToFit;\n          break;\n      }\n\n      let imageZonePropertyData : DmImageZonePropertyData = {\n        imageMode,\n      };\n      let imageZoneProperties : DmImageZoneProperties = imageZonePropertyData;\n\n      let audioOutputAssignmentMap : DmAudioOutputAssignmentMap = buildAudioOutputAssignmentMap(zoneSpecificParameters);\n\n      if (!checkEnumKeyOfValue(AudioMixModeType, zoneSpecificParameters.audioMixMode)) debugger;\n\n      let audioZonePropertyData : DmAudioZonePropertyData = {\n        audioOutput : Converters.getAudioOutput(zoneSpecificParameters.audioOutput),\n        audioMode : Converters.getAudioMode(zoneSpecificParameters.audioMode),\n        audioMapping : Converters.getAudioMapping(zoneSpecificParameters.audioMapping),\n        audioOutputAssignments : audioOutputAssignmentMap,\n        audioMixMode : zoneSpecificParameters.audioMixMode,\n        audioVolume : zoneSpecificParameters.audioVolume,\n        minimumVolume : zoneSpecificParameters.minimumVolume,\n        maximumVolume : zoneSpecificParameters.maximumVolume,\n      };\n\n      if (!checkEnumKeyOfValue(LiveVideoInputType, zoneSpecificParameters.liveVideoInput)) debugger;\n      if (!checkEnumKeyOfValue(LiveVideoStandardType, zoneSpecificParameters.liveVideoStandard)) debugger;\n      if (!checkEnumKeyOfValue(AudioMixModeType, zoneSpecificParameters.audioMixMode)) debugger;\n      // if (!checkEnumKeyOfValue(MosaicMaxContentResolutionType, zoneSpecificParameters.audioMixMode)) debugger;\n\n      let videoZonePropertyData : DmVideoZonePropertyData = {\n        viewMode : Converters.getViewMode(zoneSpecificParameters.viewMode),\n        liveVideoInput : zoneSpecificParameters.liveVideoInput,\n        liveVideoStandard : zoneSpecificParameters.liveVideoStandard,\n        videoVolume : zoneSpecificParameters.videoVolume,\n        brightness : zoneSpecificParameters.brightness,\n        contrast : zoneSpecificParameters.contrast,\n        saturation : zoneSpecificParameters.saturation,\n        hue : zoneSpecificParameters.hue,\n        zOrderFront : zoneSpecificParameters.zOrderFront,\n        mosaic : zoneSpecificParameters.mosaic,\n        maxContentResolution : MosaicMaxContentResolutionType.NotApplicable,\n        mosaicDecoderName: ''\n      };\n\n      let videoZoneProperties : DmVideoZoneProperties =\n        Object.assign({}, videoZonePropertyData, audioZonePropertyData);\n\n      let zonePropertyParams : VideoOrImagesZonePropertyParams =\n        Object.assign({}, videoZoneProperties, imageZoneProperties);\n\n      let zonePropertyUpdateParams : ZonePropertyUpdateParams = {\n        id: zoneId,\n        type: ZoneType.VideoOrImages,\n        properties : zonePropertyParams\n      }\n      let updateZonePropertyThunkAction : BsDmThunkAction<ZonePropertyUpdateParams> = dmUpdateZoneProperties(zonePropertyUpdateParams);\n      let updateZonePropertyAction : ZonePropertyUpdateAction = dispatch(updateZonePropertyThunkAction);\n\n      break;\n    }\n    case ZoneType.VideoOnly: {\n      break;\n    }\n    case ZoneType.Images: {\n      break;\n    }\n    case ZoneType.AudioOnly: {\n      break;\n    }\n    case ZoneType.EnhancedAudio: {\n      break;\n    }\n    case ZoneType.Ticker: {\n      break;\n    }\n    case ZoneType.Clock: {\n      break;\n    }\n    case ZoneType.BackgroundImage: {\n      break;\n    }\n    default: {\n      debugger;\n      break;\n    }\n  }\n}\n\nfunction buildZonePlaylist(bpfZone : any, zoneId : BsDmId, dispatch : Function) {\n  let mediaStateIds: BsDmId[] = [];\n  let eventIds: BsDmId[] = [];\n  let transitionTypes : TransitionType[] = [];\n  let transitionDurations : number[] = [];\n\n  bpfZone.playlist.states.forEach( (state : any, index : number) => {\n    let zone : DmMediaStateContainer = dmGetZoneMediaStateContainer(zoneId);\n    switch (state.type) {\n      case 'imageItem': {\n        const { file, fileIsLocal, slideDelayInterval, transitionDuration, videoPlayerRequired } = state;\n        // TODO - specify additional parameters\n\n        debugger;\n\n        // TODO\n        // windows folders that may be encountered during testing and hacks to convert to windows paths\n        if (file.path.startsWith(\"\\\\\\\\Mac\\\\Home\\\\Documents\\\\All Media\\\\\")) {\n          const bpfContentDirectoryPath = file.path;\n          const bpfPartialFilePath = file.path.substr(31);\n\n          const baconPartialFilePath = bpfPartialFilePath.replace(\"\\\\\", \"/\");\n          const baconPartialFolderPath = \"/Users/tedshaffer/Documents/All Media/\";\n          file.path = path.join(baconPartialFolderPath, baconPartialFilePath);\n        }\n        // also check desktop folders that I'm using\n\n        const bsAssetItem : BsAssetItem = getAssetItemFromFile(file.path);\n\n        // const bsAssetItem  : BsAssetItem = dmCreateAssetItemFromLocalFile(file.path, '', MediaType.Image);\n\n        // HACK - the following is NOT working!\n        // const folderPath = path.dirname(file.path);\n        // const folderPath = '/Users/tedshaffer/Documents/All Media/Images';\n        // const folderPath = \"/Users/tedshaffer/Pictures/BangPhotos\";\n        // const lastIndexSlash = file.path.lastIndexOf('\\\\');\n        // const folderPath = file.path.substring(0, lastIndexSlash);\n        //\n        // let bsAssetItem : BsAssetItem;\n        // const assetCollection = getBsAssetCollection(AssetLocation.Local, AssetType.Content, folderPath, { folders: true });\n        // assetCollection.update().then((assetNames) => {\n        //   const asset = assetCollection.getAsset(name);\n        //   bsAssetItem = asset.assetItem;\n        // });\n\n        let addMediaStateThunkAction : BsDmThunkAction<MediaStateParams> = dmAddMediaState(bsAssetItem.name, zone, bsAssetItem);\n        let mediaStateAction : MediaStateAction = dispatch(addMediaStateThunkAction);\n        let mediaStateParams : MediaStateParams = mediaStateAction.payload;\n\n        let eventAction : any = dispatch(dmAddEvent('timeout', EventType.Timer, mediaStateParams.id,\n          { interval : slideDelayInterval } ));\n        let eventParams : EventParams = eventAction.payload;\n\n        mediaStateIds.push(mediaStateParams.id);\n        eventIds.push(eventParams.id);\n        transitionTypes.push(TransitionType.NoEffect);\n        transitionDurations.push(transitionDuration);\n\n\n        break;\n      }\n      case 'videoItem': {\n        const { automaticallyLoop, file, fileIsLocal, videoDisplayMode, volume } = state;\n\n        debugger;\n        const bsAssetItem  : BsAssetItem = dmCreateAssetItemFromLocalFile(file.path, '', MediaType.Video);\n\n        let addMediaStateThunkAction : BsDmThunkAction<MediaStateParams> = dmAddMediaState(bsAssetItem.name, zone, bsAssetItem);\n        let mediaStateAction : MediaStateAction = dispatch(addMediaStateThunkAction);\n        let mediaStateParams : MediaStateParams = mediaStateAction.payload;\n\n        let eventAction : any = dispatch(dmAddEvent('mediaEnd', EventType.MediaEnd, mediaStateParams.id));\n        let eventParams : EventParams = eventAction.payload;\n\n        mediaStateIds.push(mediaStateParams.id);\n        eventIds.push(eventParams.id);\n        transitionTypes.push(null);\n        transitionDurations.push(0);\n\n        if (index === 0) {\n          dispatch(dmUpdateZone({\n            id: zoneId,\n            initialMediaStateId : mediaStateParams.id,\n          }));\n        }\n\n        break;\n      }\n      default:\n        break;\n    }\n  });\n\n  // add transitions to all media states\n  for (let i = 0; i < (mediaStateIds.length - 1); i++) {\n    const transitionAction : TransitionAction = dispatch(dmAddTransition('', eventIds[i],\n      mediaStateIds[i + 1], transitionTypes[i], transitionDurations[i]));\n  }\n  // TODO - best way to do this when some of the transitions don't have transitionTypes / transitionDurations?\n  const transitionAction : TransitionAction = dispatch(dmAddTransition('', eventIds[mediaStateIds.length - 1],\n    mediaStateIds[0], transitionTypes[mediaStateIds.length - 1], transitionDurations[mediaStateIds.length - 1]));\n\n}\n\nfunction addZones(bpf : any, dispatch : Function) {\n\n  bpf.zones.forEach( (bpfZone : any) => {\n\n    let { x, y, width, height } = bpfZone;\n\n    const zoneRect : BsRect = {\n      x,\n      y,\n      width,\n      height,\n      pct: false\n    };\n    const zoneAction : ZoneAction = dispatch(dmAddZone(bpfZone.name, bpfZone.type, bpfZone.id, zoneRect, true));\n\n    const zoneId : BsDmId = zoneAction.payload.id;\n    const zoneType : ZoneType = zoneAction.payload.type;\n\n    setZoneProperties(bpfZone, zoneId, zoneType, dispatch);\n\n    buildZonePlaylist(bpfZone, zoneId, dispatch);\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/signBuilder.ts","import {combineReducers} from 'redux';\nimport {\n  bsDmReducer,\n  DmState,\n} from '@brightsign/bsdatamodel';\n\ninterface ArState {\n  bsdm : DmState;\n}\n\nconst rootReducer = combineReducers<ArState>({\n  bsdm : bsDmReducer,\n});\n\nexport default rootReducer;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/reducers.ts"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 40);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap aef148c1a47d618d27ac\n\n\n// WEBPACK FOOTER //\n// webpack:/webpack/bootstrap aef148c1a47d618d27ac","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 0\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"path\"","/*jshint node:true*/\n'use strict';\n\nvar exec = require('child_process').exec;\nvar isWindows = require('os').platform().match(/win(32|64)/);\nvar which = require('which');\n\nvar nlRegexp = /\\r\\n|\\r|\\n/g;\nvar streamRegexp = /^\\[?(.*?)\\]?$/;\nvar filterEscapeRegexp = /[,]/;\nvar whichCache = {};\n\n/**\n * Parse progress line from ffmpeg stderr\n *\n * @param {String} line progress line\n * @return progress object\n * @private\n */\nfunction parseProgressLine(line) {\n  var progress = {};\n\n  // Remove all spaces after = and trim\n  line  = line.replace(/=\\s+/g, '=').trim();\n  var progressParts = line.split(' ');\n\n  // Split every progress part by \"=\" to get key and value\n  for(var i = 0; i < progressParts.length; i++) {\n    var progressSplit = progressParts[i].split('=', 2);\n    var key = progressSplit[0];\n    var value = progressSplit[1];\n\n    // This is not a progress line\n    if(typeof value === 'undefined')\n      return null;\n\n    progress[key] = value;\n  }\n\n  return progress;\n}\n\n\nvar utils = module.exports = {\n  isWindows: isWindows,\n  streamRegexp: streamRegexp,\n\n\n  /**\n   * Copy an object keys into another one\n   *\n   * @param {Object} source source object\n   * @param {Object} dest destination object\n   * @private\n   */\n  copy: function(source, dest) {\n    Object.keys(source).forEach(function(key) {\n      dest[key] = source[key];\n    });\n  },\n\n\n  /**\n   * Create an argument list\n   *\n   * Returns a function that adds new arguments to the list.\n   * It also has the following methods:\n   * - clear() empties the argument list\n   * - get() returns the argument list\n   * - find(arg, count) finds 'arg' in the list and return the following 'count' items, or undefined if not found\n   * - remove(arg, count) remove 'arg' in the list as well as the following 'count' items\n   *\n   * @private\n   */\n  args: function() {\n    var list = [];\n\n    // Append argument(s) to the list\n    var argfunc = function() {\n      if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        list = list.concat(arguments[0]);\n      } else {\n        list = list.concat([].slice.call(arguments));\n      }\n    };\n\n    // Clear argument list\n    argfunc.clear = function() {\n      list = [];\n    };\n\n    // Return argument list\n    argfunc.get = function() {\n      return list;\n    };\n\n    // Find argument 'arg' in list, and if found, return an array of the 'count' items that follow it\n    argfunc.find = function(arg, count) {\n      var index = list.indexOf(arg);\n      if (index !== -1) {\n        return list.slice(index + 1, index + 1 + (count || 0));\n      }\n    };\n\n    // Find argument 'arg' in list, and if found, remove it as well as the 'count' items that follow it\n    argfunc.remove = function(arg, count) {\n      var index = list.indexOf(arg);\n      if (index !== -1) {\n        list.splice(index, (count || 0) + 1);\n      }\n    };\n\n    // Clone argument list\n    argfunc.clone = function() {\n      var cloned = utils.args();\n      cloned(list);\n      return cloned;\n    };\n\n    return argfunc;\n  },\n\n\n  /**\n   * Generate filter strings\n   *\n   * @param {String[]|Object[]} filters filter specifications. When using objects,\n   *   each must have the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|Array} [filters.inputs] (array of) input stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically choosing the first unused matching streams\n   * @param {String|Array} [filters.outputs] (array of) output stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically assigning the output to the output file\n   * @param {Object|String|Array} [filters.options] filter options, can be omitted to not set any options\n   * @return String[]\n   * @private\n   */\n  makeFilterStrings: function(filters) {\n    return filters.map(function(filterSpec) {\n      if (typeof filterSpec === 'string') {\n        return filterSpec;\n      }\n\n      var filterString = '';\n\n      // Filter string format is:\n      // [input1][input2]...filter[output1][output2]...\n      // The 'filter' part can optionaly have arguments:\n      //   filter=arg1:arg2:arg3\n      //   filter=arg1=v1:arg2=v2:arg3=v3\n\n      // Add inputs\n      if (Array.isArray(filterSpec.inputs)) {\n        filterString += filterSpec.inputs.map(function(streamSpec) {\n          return streamSpec.replace(streamRegexp, '[$1]');\n        }).join('');\n      } else if (typeof filterSpec.inputs === 'string') {\n        filterString += filterSpec.inputs.replace(streamRegexp, '[$1]');\n      }\n\n      // Add filter\n      filterString += filterSpec.filter;\n\n      // Add options\n      if (filterSpec.options) {\n        if (typeof filterSpec.options === 'string' || typeof filterSpec.options === 'number') {\n          // Option string\n          filterString += '=' + filterSpec.options;\n        } else if (Array.isArray(filterSpec.options)) {\n          // Option array (unnamed options)\n          filterString += '=' + filterSpec.options.map(function(option) {\n            if (typeof option === 'string' && option.match(filterEscapeRegexp)) {\n              return '\\'' + option + '\\'';\n            } else {\n              return option;\n            }\n          }).join(':');\n        } else if (Object.keys(filterSpec.options).length) {\n          // Option object (named options)\n          filterString += '=' + Object.keys(filterSpec.options).map(function(option) {\n            var value = filterSpec.options[option];\n\n            if (typeof value === 'string' && value.match(filterEscapeRegexp)) {\n              value = '\\'' + value + '\\'';\n            }\n\n            return option + '=' + value;\n          }).join(':');\n        }\n      }\n\n      // Add outputs\n      if (Array.isArray(filterSpec.outputs)) {\n        filterString += filterSpec.outputs.map(function(streamSpec) {\n          return streamSpec.replace(streamRegexp, '[$1]');\n        }).join('');\n      } else if (typeof filterSpec.outputs === 'string') {\n        filterString += filterSpec.outputs.replace(streamRegexp, '[$1]');\n      }\n\n      return filterString;\n    });\n  },\n\n\n  /**\n   * Search for an executable\n   *\n   * Uses 'which' or 'where' depending on platform\n   *\n   * @param {String} name executable name\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  which: function(name, callback) {\n    if (name in whichCache) {\n      return callback(null, whichCache[name]);\n    }\n\n    which(name, function(err, result){\n      if (err) {\n        // Treat errors as not found\n        return callback(null, whichCache[name] = '');\n      }\n      callback(null, whichCache[name] = result);\n    });\n  },\n\n\n  /**\n   * Convert a [[hh:]mm:]ss[.xxx] timemark into seconds\n   *\n   * @param {String} timemark timemark string\n   * @return Number\n   * @private\n   */\n  timemarkToSeconds: function(timemark) {\n    if (typeof timemark === 'number') {\n      return timemark;\n    }\n\n    if (timemark.indexOf(':') === -1 && timemark.indexOf('.') >= 0) {\n      return Number(timemark);\n    }\n\n    var parts = timemark.split(':');\n\n    // add seconds\n    var secs = Number(parts.pop());\n\n    if (parts.length) {\n      // add minutes\n      secs += Number(parts.pop()) * 60;\n    }\n\n    if (parts.length) {\n      // add hours\n      secs += Number(parts.pop()) * 3600;\n    }\n\n    return secs;\n  },\n\n\n  /**\n   * Extract codec data from ffmpeg stderr and emit 'codecData' event if appropriate\n   * Call it with an initially empty codec object once with each line of stderr output until it returns true\n   *\n   * @param {FfmpegCommand} command event emitter\n   * @param {String} stderrLine ffmpeg stderr output line\n   * @param {Object} codecObject object used to accumulate codec data between calls\n   * @return {Boolean} true if codec data is complete (and event was emitted), false otherwise\n   * @private\n   */\n  extractCodecData: function(command, stderrLine, codecsObject) {\n    var inputPattern = /Input #[0-9]+, ([^ ]+),/;\n    var durPattern = /Duration\\: ([^,]+)/;\n    var audioPattern = /Audio\\: (.*)/;\n    var videoPattern = /Video\\: (.*)/;\n\n    if (!('inputStack' in codecsObject)) {\n      codecsObject.inputStack = [];\n      codecsObject.inputIndex = -1;\n      codecsObject.inInput = false;\n    }\n\n    var inputStack = codecsObject.inputStack;\n    var inputIndex = codecsObject.inputIndex;\n    var inInput = codecsObject.inInput;\n\n    var format, dur, audio, video;\n\n    if (format = stderrLine.match(inputPattern)) {\n      inInput = codecsObject.inInput = true;\n      inputIndex = codecsObject.inputIndex = codecsObject.inputIndex + 1;\n\n      inputStack[inputIndex] = { format: format[1], audio: '', video: '', duration: '' };\n    } else if (inInput && (dur = stderrLine.match(durPattern))) {\n      inputStack[inputIndex].duration = dur[1];\n    } else if (inInput && (audio = stderrLine.match(audioPattern))) {\n      audio = audio[1].split(', ');\n      inputStack[inputIndex].audio = audio[0];\n      inputStack[inputIndex].audio_details = audio;\n    } else if (inInput && (video = stderrLine.match(videoPattern))) {\n      video = video[1].split(', ');\n      inputStack[inputIndex].video = video[0];\n      inputStack[inputIndex].video_details = video;\n    } else if (/Output #\\d+/.test(stderrLine)) {\n      inInput = codecsObject.inInput = false;\n    } else if (/Stream mapping:|Press (\\[q\\]|ctrl-c) to stop/.test(stderrLine)) {\n      command.emit.apply(command, ['codecData'].concat(inputStack));\n      return true;\n    }\n\n    return false;\n  },\n\n\n  /**\n   * Extract progress data from ffmpeg stderr and emit 'progress' event if appropriate\n   *\n   * @param {FfmpegCommand} command event emitter\n   * @param {String} stderrLine ffmpeg stderr data\n   * @private\n   */\n  extractProgress: function(command, stderrLine) {\n    var progress = parseProgressLine(stderrLine);\n\n    if (progress) {\n      // build progress report object\n      var ret = {\n        frames: parseInt(progress.frame, 10),\n        currentFps: parseInt(progress.fps, 10),\n        currentKbps: progress.bitrate ? parseFloat(progress.bitrate.replace('kbits/s', '')) : 0,\n        targetSize: parseInt(progress.size || progress.Lsize, 10),\n        timemark: progress.time\n      };\n\n      // calculate percent progress using duration\n      if (command._ffprobeData && command._ffprobeData.format && command._ffprobeData.format.duration) {\n        var duration = Number(command._ffprobeData.format.duration);\n        if (!isNaN(duration))\n          ret.percent = (utils.timemarkToSeconds(ret.timemark) / duration) * 100;\n      }\n      command.emit('progress', ret);\n    }\n  },\n\n\n  /**\n   * Extract error message(s) from ffmpeg stderr\n   *\n   * @param {String} stderr ffmpeg stderr data\n   * @return {String}\n   * @private\n   */\n  extractError: function(stderr) {\n    // Only return the last stderr lines that don't start with a space or a square bracket\n    return stderr.split(nlRegexp).reduce(function(messages, message) {\n      if (message.charAt(0) === ' ' || message.charAt(0) === '[') {\n        return [];\n      } else {\n        messages.push(message);\n        return messages;\n      }\n    }, []).join('\\n');\n  },\n\n\n  /**\n   * Creates a line ring buffer object with the following methods:\n   * - append(str) : appends a string or buffer\n   * - get() : returns the whole string\n   * - close() : prevents further append() calls and does a last call to callbacks\n   * - callback(cb) : calls cb for each line (incl. those already in the ring)\n   *\n   * @param {Numebr} maxLines maximum number of lines to store (<= 0 for unlimited)\n   */\n  linesRing: function(maxLines) {\n    var cbs = [];\n    var lines = [];\n    var current = null;\n    var closed = false\n    var max = maxLines - 1;\n\n    function emit(line) {\n      cbs.forEach(function(cb) { cb(line); });\n    }\n\n    return {\n      callback: function(cb) {\n        lines.forEach(function(l) { cb(l); });\n        cbs.push(cb);\n      },\n\n      append: function(str) {\n        if (closed) return;\n        if (str instanceof Buffer) str = '' + str;\n        if (!str || str.length === 0) return;\n\n        var newLines = str.split(nlRegexp);\n\n        if (newLines.length === 1) {\n          if (current !== null) {\n            current = current + newLines.shift();\n          } else {\n            current = newLines.shift();\n          }\n        } else {\n          if (current !== null) {\n            current = current + newLines.shift();\n            emit(current);\n            lines.push(current);\n          }\n\n          current = newLines.pop();\n\n          newLines.forEach(function(l) {\n            emit(l);\n            lines.push(l);\n          });\n\n          if (max > -1 && lines.length > max) {\n            lines.splice(0, lines.length - max);\n          }\n        }\n      },\n\n      get: function() {\n        if (current !== null) {\n          return lines.concat([current]).join('\\n');\n        } else {\n          return lines.join('\\n');\n        }\n      },\n\n      close: function() {\n        if (closed) return;\n\n        if (current !== null) {\n          emit(current);\n          lines.push(current);\n\n          if (max > -1 && lines.length > max) {\n            lines.shift();\n          }\n\n          current = null;\n        }\n\n        closed = true;\n      }\n    };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/utils.js\n// module id = 1\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/utils.js","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 2\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"util\"","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 3\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"fs\"","'use strict';\n\n\nmodule.exports = {\n\n  PNG_SIGNATURE: [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a],\n\n  TYPE_IHDR: 0x49484452,\n  TYPE_IEND: 0x49454e44,\n  TYPE_IDAT: 0x49444154,\n  TYPE_PLTE: 0x504c5445,\n  TYPE_tRNS: 0x74524e53, // eslint-disable-line camelcase\n  TYPE_gAMA: 0x67414d41, // eslint-disable-line camelcase\n\n  // color-type bits\n  COLORTYPE_GRAYSCALE: 0,\n  COLORTYPE_PALETTE: 1,\n  COLORTYPE_COLOR: 2,\n  COLORTYPE_ALPHA: 4, // e.g. grayscale and alpha\n\n  // color-type combinations\n  COLORTYPE_PALETTE_COLOR: 3,\n  COLORTYPE_COLOR_ALPHA: 6,\n\n  COLORTYPE_TO_BPP_MAP: {\n    0: 1,\n    2: 3,\n    3: 1,\n    4: 2,\n    6: 4\n  },\n\n  GAMMA_DIVISION: 100000\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/constants.js\n// module id = 4\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/constants.js","module.exports = require(\"stream\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stream\"\n// module id = 5\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"stream\"","module.exports = require(\"zlib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"zlib\"\n// module id = 6\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"zlib\"","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 7\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"fs-extra\"","/**\n * Created by jimsugg on 7/3/17.\n */\n\nexport enum FsErrorType {\n  fsNotAvailableError,\n  fileNotFoundError,\n}\n\nconst fsErrorMessage: {[type: number]: string} = {\n  [FsErrorType.fsNotAvailableError]: 'Local file system is not accessible',\n  [FsErrorType.fileNotFoundError]: 'File not found',\n};\n\nexport class FsError extends Error {\n  name = 'FsError';\n  type: FsErrorType;\n\n  constructor(type: FsErrorType, reason?: string) {\n    super();\n    this.type = type;\n    if (reason) {\n      this.message = fsErrorMessage[type] + ': ' + reason;\n    } else {\n      this.message = fsErrorMessage[type];\n    }\n    Object.setPrototypeOf(this, FsError.prototype);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/error.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/error.ts","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.async = global.async || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction slice(arrayLike, start) {\n    start = start|0;\n    var newLen = Math.max(arrayLike.length - start, 0);\n    var newArr = Array(newLen);\n    for(var idx = 0; idx < newLen; idx++)  {\n        newArr[idx] = arrayLike[start + idx];\n    }\n    return newArr;\n}\n\nvar initialParams = function (fn) {\n    return function (/*...args, callback*/) {\n        var args = slice(arguments);\n        var callback = args.pop();\n        fn.call(this, args, callback);\n    };\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar hasSetImmediate = typeof setImmediate === 'function' && setImmediate;\nvar hasNextTick = typeof process === 'object' && typeof process.nextTick === 'function';\n\nfunction fallback(fn) {\n    setTimeout(fn, 0);\n}\n\nfunction wrap(defer) {\n    return function (fn/*, ...args*/) {\n        var args = slice(arguments, 1);\n        defer(function () {\n            fn.apply(null, args);\n        });\n    };\n}\n\nvar _defer;\n\nif (hasSetImmediate) {\n    _defer = setImmediate;\n} else if (hasNextTick) {\n    _defer = process.nextTick;\n} else {\n    _defer = fallback;\n}\n\nvar setImmediate$1 = wrap(_defer);\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous function, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return initialParams(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if (isObject(result) && typeof result.then === 'function') {\n            result.then(function(value) {\n                invokeCallback(callback, null, value);\n            }, function(err) {\n                invokeCallback(callback, err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nfunction invokeCallback(callback, error, value) {\n    try {\n        callback(error, value);\n    } catch (e) {\n        setImmediate$1(rethrow, e);\n    }\n}\n\nfunction rethrow(error) {\n    throw error;\n}\n\nvar supportsSymbol = typeof Symbol === 'function';\n\nfunction isAsync(fn) {\n    return supportsSymbol && fn[Symbol.toStringTag] === 'AsyncFunction';\n}\n\nfunction wrapAsync(asyncFn) {\n    return isAsync(asyncFn) ? asyncify(asyncFn) : asyncFn;\n}\n\nfunction applyEach$1(eachfn) {\n    return function(fns/*, ...args*/) {\n        var args = slice(arguments, 1);\n        var go = initialParams(function(args, callback) {\n            var that = this;\n            return eachfn(fns, function (fn, cb) {\n                wrapAsync(fn).apply(that, args.concat(cb));\n            }, callback);\n        });\n        if (args.length) {\n            return go.apply(this, args);\n        }\n        else {\n            return go;\n        }\n    };\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar Symbol$1 = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]';\nvar undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol$1 ? Symbol$1.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  value = Object(value);\n  return (symToStringTag && symToStringTag in value)\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]';\nvar funcTag = '[object Function]';\nvar genTag = '[object GeneratorFunction]';\nvar proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n// A temporary value used to identify if the loop should be broken.\n// See #1064, #1293\nvar breakLoop = {};\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nfunction once(fn) {\n    return function () {\n        if (fn === null) return;\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nvar iteratorSymbol = typeof Symbol === 'function' && Symbol.iterator;\n\nvar getIterator = function (coll) {\n    return iteratorSymbol && coll[iteratorSymbol] && coll[iteratorSymbol]();\n};\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$3.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty$2.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]';\nvar arrayTag = '[object Array]';\nvar boolTag = '[object Boolean]';\nvar dateTag = '[object Date]';\nvar errorTag = '[object Error]';\nvar funcTag$1 = '[object Function]';\nvar mapTag = '[object Map]';\nvar numberTag = '[object Number]';\nvar objectTag = '[object Object]';\nvar regexpTag = '[object RegExp]';\nvar setTag = '[object Set]';\nvar stringTag = '[object String]';\nvar weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]';\nvar dataViewTag = '[object DataView]';\nvar float32Tag = '[object Float32Array]';\nvar float64Tag = '[object Float64Array]';\nvar int8Tag = '[object Int8Array]';\nvar int16Tag = '[object Int16Array]';\nvar int32Tag = '[object Int32Array]';\nvar uint8Tag = '[object Uint8Array]';\nvar uint8ClampedTag = '[object Uint8ClampedArray]';\nvar uint16Tag = '[object Uint16Array]';\nvar uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag$1] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/** Detect free variable `exports`. */\nvar freeExports$1 = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule$1 = freeExports$1 && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports$1 && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/** Used for built-in method references. */\nvar objectProto$2 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$1.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$5;\n\n  return value === proto;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$3.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nfunction createArrayIterator(coll) {\n    var i = -1;\n    var len = coll.length;\n    return function next() {\n        return ++i < len ? {value: coll[i], key: i} : null;\n    }\n}\n\nfunction createES2015Iterator(iterator) {\n    var i = -1;\n    return function next() {\n        var item = iterator.next();\n        if (item.done)\n            return null;\n        i++;\n        return {value: item.value, key: i};\n    }\n}\n\nfunction createObjectIterator(obj) {\n    var okeys = keys(obj);\n    var i = -1;\n    var len = okeys.length;\n    return function next() {\n        var key = okeys[++i];\n        return i < len ? {value: obj[key], key: key} : null;\n    };\n}\n\nfunction iterator(coll) {\n    if (isArrayLike(coll)) {\n        return createArrayIterator(coll);\n    }\n\n    var iterator = getIterator(coll);\n    return iterator ? createES2015Iterator(iterator) : createObjectIterator(coll);\n}\n\nfunction onlyOnce(fn) {\n    return function() {\n        if (fn === null) throw new Error(\"Callback was already called.\");\n        var callFn = fn;\n        fn = null;\n        callFn.apply(this, arguments);\n    };\n}\n\nfunction _eachOfLimit(limit) {\n    return function (obj, iteratee, callback) {\n        callback = once(callback || noop);\n        if (limit <= 0 || !obj) {\n            return callback(null);\n        }\n        var nextElem = iterator(obj);\n        var done = false;\n        var running = 0;\n\n        function iterateeCallback(err, value) {\n            running -= 1;\n            if (err) {\n                done = true;\n                callback(err);\n            }\n            else if (value === breakLoop || (done && running <= 0)) {\n                done = true;\n                return callback(null);\n            }\n            else {\n                replenish();\n            }\n        }\n\n        function replenish () {\n            while (running < limit && !done) {\n                var elem = nextElem();\n                if (elem === null) {\n                    done = true;\n                    if (running <= 0) {\n                        callback(null);\n                    }\n                    return;\n                }\n                running += 1;\n                iteratee(elem.value, elem.key, onlyOnce(iterateeCallback));\n            }\n        }\n\n        replenish();\n    };\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name eachOfLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`. The `key` is the item's key, or index in the case of an\n * array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachOfLimit(coll, limit, iteratee, callback) {\n    _eachOfLimit(limit)(coll, wrapAsync(iteratee), callback);\n}\n\nfunction doLimit(fn, limit) {\n    return function (iterable, iteratee, callback) {\n        return fn(iterable, limit, iteratee, callback);\n    };\n}\n\n// eachOf implementation optimized for array-likes\nfunction eachOfArrayLike(coll, iteratee, callback) {\n    callback = once(callback || noop);\n    var index = 0,\n        completed = 0,\n        length = coll.length;\n    if (length === 0) {\n        callback(null);\n    }\n\n    function iteratorCallback(err, value) {\n        if (err) {\n            callback(err);\n        } else if ((++completed === length) || value === breakLoop) {\n            callback(null);\n        }\n    }\n\n    for (; index < length; index++) {\n        iteratee(coll[index], index, onlyOnce(iteratorCallback));\n    }\n}\n\n// a generic version of eachOf which can handle array, object, and iterator cases.\nvar eachOfGeneric = doLimit(eachOfLimit, Infinity);\n\n/**\n * Like [`each`]{@link module:Collections.each}, except that it passes the key (or index) as the second argument\n * to the iteratee.\n *\n * @name eachOf\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEachOf\n * @category Collection\n * @see [async.each]{@link module:Collections.each}\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each\n * item in `coll`.\n * The `key` is the item's key, or index in the case of an array.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * var obj = {dev: \"/dev.json\", test: \"/test.json\", prod: \"/prod.json\"};\n * var configs = {};\n *\n * async.forEachOf(obj, function (value, key, callback) {\n *     fs.readFile(__dirname + value, \"utf8\", function (err, data) {\n *         if (err) return callback(err);\n *         try {\n *             configs[key] = JSON.parse(data);\n *         } catch (e) {\n *             return callback(e);\n *         }\n *         callback();\n *     });\n * }, function (err) {\n *     if (err) console.error(err.message);\n *     // configs is now a map of JSON data\n *     doSomethingWith(configs);\n * });\n */\nvar eachOf = function(coll, iteratee, callback) {\n    var eachOfImplementation = isArrayLike(coll) ? eachOfArrayLike : eachOfGeneric;\n    eachOfImplementation(coll, wrapAsync(iteratee), callback);\n};\n\nfunction doParallel(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(eachOf, obj, wrapAsync(iteratee), callback);\n    };\n}\n\nfunction _asyncMap(eachfn, arr, iteratee, callback) {\n    callback = callback || noop;\n    arr = arr || [];\n    var results = [];\n    var counter = 0;\n    var _iteratee = wrapAsync(iteratee);\n\n    eachfn(arr, function (value, _, callback) {\n        var index = counter++;\n        _iteratee(value, function (err, v) {\n            results[index] = v;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Produces a new collection of values by mapping each value in `coll` through\n * the `iteratee` function. The `iteratee` is called with an item from `coll`\n * and a callback for when it has finished processing. Each of these callback\n * takes 2 arguments: an `error`, and the transformed item from `coll`. If\n * `iteratee` passes an error to its callback, the main `callback` (for the\n * `map` function) is immediately called with the error.\n *\n * Note, that since this function applies the `iteratee` to each item in\n * parallel, there is no guarantee that the `iteratee` functions will complete\n * in order. However, the results array will be in the same order as the\n * original `coll`.\n *\n * If `map` is passed an Object, the results will be an Array.  The results\n * will roughly be in the order of the original Objects' keys (but this can\n * vary across JavaScript engines).\n *\n * @name map\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an Array of the\n * transformed items from the `coll`. Invoked with (err, results).\n * @example\n *\n * async.map(['file1','file2','file3'], fs.stat, function(err, results) {\n *     // results is now an array of stats for each file\n * });\n */\nvar map = doParallel(_asyncMap);\n\n/**\n * Applies the provided arguments to each function in the array, calling\n * `callback` after all functions have completed. If you only provide the first\n * argument, `fns`, then it will return a function which lets you pass in the\n * arguments as if it were a single function call. If more arguments are\n * provided, `callback` is required while `args` is still optional.\n *\n * @name applyEach\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s\n * to all call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument, `fns`, is provided, it will\n * return a function which lets you pass in the arguments as if it were a single\n * function call. The signature is `(..args, callback)`. If invoked with any\n * arguments, `callback` is required.\n * @example\n *\n * async.applyEach([enableSearch, updateSchema], 'bucket', callback);\n *\n * // partial application example:\n * async.each(\n *     buckets,\n *     async.applyEach([enableSearch, updateSchema]),\n *     callback\n * );\n */\nvar applyEach = applyEach$1(map);\n\nfunction doParallelLimit(fn) {\n    return function (obj, limit, iteratee, callback) {\n        return fn(_eachOfLimit(limit), obj, wrapAsync(iteratee), callback);\n    };\n}\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs a maximum of `limit` async operations at a time.\n *\n * @name mapLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapLimit = doParallelLimit(_asyncMap);\n\n/**\n * The same as [`map`]{@link module:Collections.map} but runs only a single async operation at a time.\n *\n * @name mapSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with the transformed item.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Results is an array of the\n * transformed items from the `coll`. Invoked with (err, results).\n */\nvar mapSeries = doLimit(mapLimit, 1);\n\n/**\n * The same as [`applyEach`]{@link module:ControlFlow.applyEach} but runs only a single async operation at a time.\n *\n * @name applyEachSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.applyEach]{@link module:ControlFlow.applyEach}\n * @category Control Flow\n * @param {Array|Iterable|Object} fns - A collection of {@link AsyncFunction}s to all\n * call with the same arguments\n * @param {...*} [args] - any number of separate arguments to pass to the\n * function.\n * @param {Function} [callback] - the final argument should be the callback,\n * called when all functions have completed processing.\n * @returns {Function} - If only the first argument is provided, it will return\n * a function which lets you pass in the arguments as if it were a single\n * function call.\n */\nvar applyEachSeries = applyEach$1(mapSeries);\n\n/**\n * Creates a continuation function with some arguments already applied.\n *\n * Useful as a shorthand when combined with other control flow functions. Any\n * arguments passed to the returned function are added to the arguments\n * originally passed to apply.\n *\n * @name apply\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {Function} fn - The function you want to eventually apply all\n * arguments to. Invokes with (arguments...).\n * @param {...*} arguments... - Any number of arguments to automatically apply\n * when the continuation is called.\n * @returns {Function} the partially-applied function\n * @example\n *\n * // using apply\n * async.parallel([\n *     async.apply(fs.writeFile, 'testfile1', 'test1'),\n *     async.apply(fs.writeFile, 'testfile2', 'test2')\n * ]);\n *\n *\n * // the same process without using apply\n * async.parallel([\n *     function(callback) {\n *         fs.writeFile('testfile1', 'test1', callback);\n *     },\n *     function(callback) {\n *         fs.writeFile('testfile2', 'test2', callback);\n *     }\n * ]);\n *\n * // It's possible to pass any number of additional arguments when calling the\n * // continuation:\n *\n * node> var fn = async.apply(sys.puts, 'one');\n * node> fn('two', 'three');\n * one\n * two\n * three\n */\nvar apply = function(fn/*, ...args*/) {\n    var args = slice(arguments, 1);\n    return function(/*callArgs*/) {\n        var callArgs = slice(arguments);\n        return fn.apply(null, args.concat(callArgs));\n    };\n};\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\n/**\n * Determines the best order for running the {@link AsyncFunction}s in `tasks`, based on\n * their requirements. Each function can optionally depend on other functions\n * being completed first, and each function is run as soon as its requirements\n * are satisfied.\n *\n * If any of the {@link AsyncFunction}s pass an error to their callback, the `auto` sequence\n * will stop. Further tasks will not execute (so any other functions depending\n * on it will not run), and the main `callback` is immediately called with the\n * error.\n *\n * {@link AsyncFunction}s also receive an object containing the results of functions which\n * have completed so far as the first argument, if they have dependencies. If a\n * task function has no dependencies, it will only be passed a callback.\n *\n * @name auto\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Object} tasks - An object. Each of its properties is either a\n * function or an array of requirements, with the {@link AsyncFunction} itself the last item\n * in the array. The object's key of a property serves as the name of the task\n * defined by that property, i.e. can be used when specifying requirements for\n * other tasks. The function receives one or two arguments:\n * * a `results` object, containing the results of the previously executed\n *   functions, only passed if the task has any dependencies,\n * * a `callback(err, result)` function, which must be called when finished,\n *   passing an `error` (which can be `null`) and the result of the function's\n *   execution.\n * @param {number} [concurrency=Infinity] - An optional `integer` for\n * determining the maximum number of tasks that can be run in parallel. By\n * default, as many as possible.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback. Results are always returned; however, if an\n * error occurs, no further `tasks` will be performed, and the results object\n * will only contain partial results. Invoked with (err, results).\n * @returns undefined\n * @example\n *\n * async.auto({\n *     // this function will just be passed a callback\n *     readData: async.apply(fs.readFile, 'data.txt', 'utf-8'),\n *     showData: ['readData', function(results, cb) {\n *         // results.readData is the file's contents\n *         // ...\n *     }]\n * }, callback);\n *\n * async.auto({\n *     get_data: function(callback) {\n *         console.log('in get_data');\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         console.log('in make_folder');\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: ['get_data', 'make_folder', function(results, callback) {\n *         console.log('in write_file', JSON.stringify(results));\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(results, callback) {\n *         console.log('in email_link', JSON.stringify(results));\n *         // once the file is written let's email a link to it...\n *         // results.write_file contains the filename returned by write_file.\n *         callback(null, {'file':results.write_file, 'email':'user@example.com'});\n *     }]\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('results = ', results);\n * });\n */\nvar auto = function (tasks, concurrency, callback) {\n    if (typeof concurrency === 'function') {\n        // concurrency is optional, shift the args.\n        callback = concurrency;\n        concurrency = null;\n    }\n    callback = once(callback || noop);\n    var keys$$1 = keys(tasks);\n    var numTasks = keys$$1.length;\n    if (!numTasks) {\n        return callback(null);\n    }\n    if (!concurrency) {\n        concurrency = numTasks;\n    }\n\n    var results = {};\n    var runningTasks = 0;\n    var hasError = false;\n\n    var listeners = Object.create(null);\n\n    var readyTasks = [];\n\n    // for cycle detection:\n    var readyToCheck = []; // tasks that have been identified as reachable\n    // without the possibility of returning to an ancestor task\n    var uncheckedDependencies = {};\n\n    baseForOwn(tasks, function (task, key) {\n        if (!isArray(task)) {\n            // no dependencies\n            enqueueTask(key, [task]);\n            readyToCheck.push(key);\n            return;\n        }\n\n        var dependencies = task.slice(0, task.length - 1);\n        var remainingDependencies = dependencies.length;\n        if (remainingDependencies === 0) {\n            enqueueTask(key, task);\n            readyToCheck.push(key);\n            return;\n        }\n        uncheckedDependencies[key] = remainingDependencies;\n\n        arrayEach(dependencies, function (dependencyName) {\n            if (!tasks[dependencyName]) {\n                throw new Error('async.auto task `' + key +\n                    '` has a non-existent dependency `' +\n                    dependencyName + '` in ' +\n                    dependencies.join(', '));\n            }\n            addListener(dependencyName, function () {\n                remainingDependencies--;\n                if (remainingDependencies === 0) {\n                    enqueueTask(key, task);\n                }\n            });\n        });\n    });\n\n    checkForDeadlocks();\n    processQueue();\n\n    function enqueueTask(key, task) {\n        readyTasks.push(function () {\n            runTask(key, task);\n        });\n    }\n\n    function processQueue() {\n        if (readyTasks.length === 0 && runningTasks === 0) {\n            return callback(null, results);\n        }\n        while(readyTasks.length && runningTasks < concurrency) {\n            var run = readyTasks.shift();\n            run();\n        }\n\n    }\n\n    function addListener(taskName, fn) {\n        var taskListeners = listeners[taskName];\n        if (!taskListeners) {\n            taskListeners = listeners[taskName] = [];\n        }\n\n        taskListeners.push(fn);\n    }\n\n    function taskComplete(taskName) {\n        var taskListeners = listeners[taskName] || [];\n        arrayEach(taskListeners, function (fn) {\n            fn();\n        });\n        processQueue();\n    }\n\n\n    function runTask(key, task) {\n        if (hasError) return;\n\n        var taskCallback = onlyOnce(function(err, result) {\n            runningTasks--;\n            if (arguments.length > 2) {\n                result = slice(arguments, 1);\n            }\n            if (err) {\n                var safeResults = {};\n                baseForOwn(results, function(val, rkey) {\n                    safeResults[rkey] = val;\n                });\n                safeResults[key] = result;\n                hasError = true;\n                listeners = Object.create(null);\n\n                callback(err, safeResults);\n            } else {\n                results[key] = result;\n                taskComplete(key);\n            }\n        });\n\n        runningTasks++;\n        var taskFn = wrapAsync(task[task.length - 1]);\n        if (task.length > 1) {\n            taskFn(results, taskCallback);\n        } else {\n            taskFn(taskCallback);\n        }\n    }\n\n    function checkForDeadlocks() {\n        // Kahn's algorithm\n        // https://en.wikipedia.org/wiki/Topological_sorting#Kahn.27s_algorithm\n        // http://connalle.blogspot.com/2013/10/topological-sortingkahn-algorithm.html\n        var currentTask;\n        var counter = 0;\n        while (readyToCheck.length) {\n            currentTask = readyToCheck.pop();\n            counter++;\n            arrayEach(getDependents(currentTask), function (dependent) {\n                if (--uncheckedDependencies[dependent] === 0) {\n                    readyToCheck.push(dependent);\n                }\n            });\n        }\n\n        if (counter !== numTasks) {\n            throw new Error(\n                'async.auto cannot execute tasks due to a recursive dependency'\n            );\n        }\n    }\n\n    function getDependents(taskName) {\n        var result = [];\n        baseForOwn(tasks, function (task, key) {\n            if (isArray(task) && baseIndexOf(task, taskName, 0) >= 0) {\n                result.push(key);\n            }\n        });\n        return result;\n    }\n};\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol$1 ? Symbol$1.prototype : undefined;\nvar symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the last unmatched string symbol.\n */\nfunction charsEndIndex(strSymbols, chrSymbols) {\n  var index = strSymbols.length;\n\n  while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23';\nvar rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0';\nvar rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange$1 = '\\\\ud800-\\\\udfff';\nvar rsComboMarksRange$1 = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23';\nvar rsComboSymbolsRange$1 = '\\\\u20d0-\\\\u20f0';\nvar rsVarRange$1 = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange$1 + ']';\nvar rsCombo = '[' + rsComboMarksRange$1 + rsComboSymbolsRange$1 + ']';\nvar rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]';\nvar rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')';\nvar rsNonAstral = '[^' + rsAstralRange$1 + ']';\nvar rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}';\nvar rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]';\nvar rsZWJ$1 = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?';\nvar rsOptVar = '[' + rsVarRange$1 + ']?';\nvar rsOptJoin = '(?:' + rsZWJ$1 + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*';\nvar rsSeq = rsOptVar + reOptMod + rsOptJoin;\nvar rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/**\n * Removes leading and trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trim('  abc  ');\n * // => 'abc'\n *\n * _.trim('-_-abc-_-', '_-');\n * // => 'abc'\n *\n * _.map(['  foo  ', '  bar  '], _.trim);\n * // => ['foo', 'bar']\n */\nfunction trim(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrim, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      chrSymbols = stringToArray(chars),\n      start = charsStartIndex(strSymbols, chrSymbols),\n      end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n  return castSlice(strSymbols, start, end).join('');\n}\n\nvar FN_ARGS = /^(?:async\\s+)?(function)?\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m;\nvar FN_ARG_SPLIT = /,/;\nvar FN_ARG = /(=.+)?(\\s*)$/;\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\nfunction parseParams(func) {\n    func = func.toString().replace(STRIP_COMMENTS, '');\n    func = func.match(FN_ARGS)[2].replace(' ', '');\n    func = func ? func.split(FN_ARG_SPLIT) : [];\n    func = func.map(function (arg){\n        return trim(arg.replace(FN_ARG, ''));\n    });\n    return func;\n}\n\n/**\n * A dependency-injected version of the [async.auto]{@link module:ControlFlow.auto} function. Dependent\n * tasks are specified as parameters to the function, after the usual callback\n * parameter, with the parameter names matching the names of the tasks it\n * depends on. This can provide even more readable task graphs which can be\n * easier to maintain.\n *\n * If a final callback is specified, the task results are similarly injected,\n * specified as named parameters after the initial error parameter.\n *\n * The autoInject function is purely syntactic sugar and its semantics are\n * otherwise equivalent to [async.auto]{@link module:ControlFlow.auto}.\n *\n * @name autoInject\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.auto]{@link module:ControlFlow.auto}\n * @category Control Flow\n * @param {Object} tasks - An object, each of whose properties is an {@link AsyncFunction} of\n * the form 'func([dependencies...], callback). The object's key of a property\n * serves as the name of the task defined by that property, i.e. can be used\n * when specifying requirements for other tasks.\n * * The `callback` parameter is a `callback(err, result)` which must be called\n *   when finished, passing an `error` (which can be `null`) and the result of\n *   the function's execution. The remaining parameters name other tasks on\n *   which the task is dependent, and the results from those tasks are the\n *   arguments of those parameters.\n * @param {Function} [callback] - An optional callback which is called when all\n * the tasks have been completed. It receives the `err` argument if any `tasks`\n * pass an error to their callback, and a `results` object with any completed\n * task results, similar to `auto`.\n * @example\n *\n * //  The example from `auto` can be rewritten as follows:\n * async.autoInject({\n *     get_data: function(callback) {\n *         // async code to get some data\n *         callback(null, 'data', 'converted to array');\n *     },\n *     make_folder: function(callback) {\n *         // async code to create a directory to store a file in\n *         // this is run at the same time as getting the data\n *         callback(null, 'folder');\n *     },\n *     write_file: function(get_data, make_folder, callback) {\n *         // once there is some data and the directory exists,\n *         // write the data to a file in the directory\n *         callback(null, 'filename');\n *     },\n *     email_link: function(write_file, callback) {\n *         // once the file is written let's email a link to it...\n *         // write_file contains the filename returned by write_file.\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n *\n * // If you are using a JS minifier that mangles parameter names, `autoInject`\n * // will not work with plain functions, since the parameter names will be\n * // collapsed to a single letter identifier.  To work around this, you can\n * // explicitly specify the names of the parameters your task function needs\n * // in an array, similar to Angular.js dependency injection.\n *\n * // This still has an advantage over plain `auto`, since the results a task\n * // depends on are still spread into arguments.\n * async.autoInject({\n *     //...\n *     write_file: ['get_data', 'make_folder', function(get_data, make_folder, callback) {\n *         callback(null, 'filename');\n *     }],\n *     email_link: ['write_file', function(write_file, callback) {\n *         callback(null, {'file':write_file, 'email':'user@example.com'});\n *     }]\n *     //...\n * }, function(err, results) {\n *     console.log('err = ', err);\n *     console.log('email_link = ', results.email_link);\n * });\n */\nfunction autoInject(tasks, callback) {\n    var newTasks = {};\n\n    baseForOwn(tasks, function (taskFn, key) {\n        var params;\n        var fnIsAsync = isAsync(taskFn);\n        var hasNoDeps =\n            (!fnIsAsync && taskFn.length === 1) ||\n            (fnIsAsync && taskFn.length === 0);\n\n        if (isArray(taskFn)) {\n            params = taskFn.slice(0, -1);\n            taskFn = taskFn[taskFn.length - 1];\n\n            newTasks[key] = params.concat(params.length > 0 ? newTask : taskFn);\n        } else if (hasNoDeps) {\n            // no dependencies, use the function as-is\n            newTasks[key] = taskFn;\n        } else {\n            params = parseParams(taskFn);\n            if (taskFn.length === 0 && !fnIsAsync && params.length === 0) {\n                throw new Error(\"autoInject task functions require explicit parameters.\");\n            }\n\n            // remove callback param\n            if (!fnIsAsync) params.pop();\n\n            newTasks[key] = params.concat(newTask);\n        }\n\n        function newTask(results, taskCb) {\n            var newArgs = arrayMap(params, function (name) {\n                return results[name];\n            });\n            newArgs.push(taskCb);\n            wrapAsync(taskFn).apply(null, newArgs);\n        }\n    });\n\n    auto(newTasks, callback);\n}\n\n// Simple doubly linked list (https://en.wikipedia.org/wiki/Doubly_linked_list) implementation\n// used for queues. This implementation assumes that the node provided by the user can be modified\n// to adjust the next and last properties. We implement only the minimal functionality\n// for queue support.\nfunction DLL() {\n    this.head = this.tail = null;\n    this.length = 0;\n}\n\nfunction setInitial(dll, node) {\n    dll.length = 1;\n    dll.head = dll.tail = node;\n}\n\nDLL.prototype.removeLink = function(node) {\n    if (node.prev) node.prev.next = node.next;\n    else this.head = node.next;\n    if (node.next) node.next.prev = node.prev;\n    else this.tail = node.prev;\n\n    node.prev = node.next = null;\n    this.length -= 1;\n    return node;\n};\n\nDLL.prototype.empty = function () {\n    while(this.head) this.shift();\n    return this;\n};\n\nDLL.prototype.insertAfter = function(node, newNode) {\n    newNode.prev = node;\n    newNode.next = node.next;\n    if (node.next) node.next.prev = newNode;\n    else this.tail = newNode;\n    node.next = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.insertBefore = function(node, newNode) {\n    newNode.prev = node.prev;\n    newNode.next = node;\n    if (node.prev) node.prev.next = newNode;\n    else this.head = newNode;\n    node.prev = newNode;\n    this.length += 1;\n};\n\nDLL.prototype.unshift = function(node) {\n    if (this.head) this.insertBefore(this.head, node);\n    else setInitial(this, node);\n};\n\nDLL.prototype.push = function(node) {\n    if (this.tail) this.insertAfter(this.tail, node);\n    else setInitial(this, node);\n};\n\nDLL.prototype.shift = function() {\n    return this.head && this.removeLink(this.head);\n};\n\nDLL.prototype.pop = function() {\n    return this.tail && this.removeLink(this.tail);\n};\n\nDLL.prototype.toArray = function () {\n    var arr = Array(this.length);\n    var curr = this.head;\n    for(var idx = 0; idx < this.length; idx++) {\n        arr[idx] = curr.data;\n        curr = curr.next;\n    }\n    return arr;\n};\n\nDLL.prototype.remove = function (testFn) {\n    var curr = this.head;\n    while(!!curr) {\n        var next = curr.next;\n        if (testFn(curr)) {\n            this.removeLink(curr);\n        }\n        curr = next;\n    }\n    return this;\n};\n\nfunction queue(worker, concurrency, payload) {\n    if (concurrency == null) {\n        concurrency = 1;\n    }\n    else if(concurrency === 0) {\n        throw new Error('Concurrency must not be zero');\n    }\n\n    var _worker = wrapAsync(worker);\n    var numRunning = 0;\n    var workersList = [];\n\n    function _insert(data, insertAtFront, callback) {\n        if (callback != null && typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0 && q.idle()) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function() {\n                q.drain();\n            });\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                callback: callback || noop\n            };\n\n            if (insertAtFront) {\n                q._tasks.unshift(item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n        setImmediate$1(q.process);\n    }\n\n    function _next(tasks) {\n        return function(err){\n            numRunning -= 1;\n\n            for (var i = 0, l = tasks.length; i < l; i++) {\n                var task = tasks[i];\n                var index = baseIndexOf(workersList, task, 0);\n                if (index >= 0) {\n                    workersList.splice(index);\n                }\n\n                task.callback.apply(task, arguments);\n\n                if (err != null) {\n                    q.error(err, task.data);\n                }\n            }\n\n            if (numRunning <= (q.concurrency - q.buffer) ) {\n                q.unsaturated();\n            }\n\n            if (q.idle()) {\n                q.drain();\n            }\n            q.process();\n        };\n    }\n\n    var isProcessing = false;\n    var q = {\n        _tasks: new DLL(),\n        concurrency: concurrency,\n        payload: payload,\n        saturated: noop,\n        unsaturated:noop,\n        buffer: concurrency / 4,\n        empty: noop,\n        drain: noop,\n        error: noop,\n        started: false,\n        paused: false,\n        push: function (data, callback) {\n            _insert(data, false, callback);\n        },\n        kill: function () {\n            q.drain = noop;\n            q._tasks.empty();\n        },\n        unshift: function (data, callback) {\n            _insert(data, true, callback);\n        },\n        remove: function (testFn) {\n            q._tasks.remove(testFn);\n        },\n        process: function () {\n            // Avoid trying to start too many processing operations. This can occur\n            // when callbacks resolve synchronously (#1267).\n            if (isProcessing) {\n                return;\n            }\n            isProcessing = true;\n            while(!q.paused && numRunning < q.concurrency && q._tasks.length){\n                var tasks = [], data = [];\n                var l = q._tasks.length;\n                if (q.payload) l = Math.min(l, q.payload);\n                for (var i = 0; i < l; i++) {\n                    var node = q._tasks.shift();\n                    tasks.push(node);\n                    data.push(node.data);\n                }\n\n                numRunning += 1;\n                workersList.push(tasks[0]);\n\n                if (q._tasks.length === 0) {\n                    q.empty();\n                }\n\n                if (numRunning === q.concurrency) {\n                    q.saturated();\n                }\n\n                var cb = onlyOnce(_next(tasks));\n                _worker(data, cb);\n            }\n            isProcessing = false;\n        },\n        length: function () {\n            return q._tasks.length;\n        },\n        running: function () {\n            return numRunning;\n        },\n        workersList: function () {\n            return workersList;\n        },\n        idle: function() {\n            return q._tasks.length + numRunning === 0;\n        },\n        pause: function () {\n            q.paused = true;\n        },\n        resume: function () {\n            if (q.paused === false) { return; }\n            q.paused = false;\n            setImmediate$1(q.process);\n        }\n    };\n    return q;\n}\n\n/**\n * A cargo of tasks for the worker function to complete. Cargo inherits all of\n * the same methods and event callbacks as [`queue`]{@link module:ControlFlow.queue}.\n * @typedef {Object} CargoObject\n * @memberOf module:ControlFlow\n * @property {Function} length - A function returning the number of items\n * waiting to be processed. Invoke like `cargo.length()`.\n * @property {number} payload - An `integer` for determining how many tasks\n * should be process per round. This property can be changed after a `cargo` is\n * created to alter the payload on-the-fly.\n * @property {Function} push - Adds `task` to the `queue`. The callback is\n * called once the `worker` has finished processing the task. Instead of a\n * single task, an array of `tasks` can be submitted. The respective callback is\n * used for every task in the list. Invoke like `cargo.push(task, [callback])`.\n * @property {Function} saturated - A callback that is called when the\n * `queue.length()` hits the concurrency and further tasks will be queued.\n * @property {Function} empty - A callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - A callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke like `cargo.idle()`.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke like `cargo.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke like `cargo.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. Invoke like `cargo.kill()`.\n */\n\n/**\n * Creates a `cargo` object with the specified payload. Tasks added to the\n * cargo will be processed altogether (up to the `payload` limit). If the\n * `worker` is in progress, the task is queued until it becomes available. Once\n * the `worker` has completed some tasks, each callback of those tasks is\n * called. Check out [these](https://camo.githubusercontent.com/6bbd36f4cf5b35a0f11a96dcd2e97711ffc2fb37/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130382f62626330636662302d356632392d313165322d393734662d3333393763363464633835382e676966) [animations](https://camo.githubusercontent.com/f4810e00e1c5f5f8addbe3e9f49064fd5d102699/68747470733a2f2f662e636c6f75642e6769746875622e636f6d2f6173736574732f313637363837312f36383130312f38346339323036362d356632392d313165322d383134662d3964336430323431336266642e676966)\n * for how `cargo` and `queue` work.\n *\n * While [`queue`]{@link module:ControlFlow.queue} passes only one task to one of a group of workers\n * at a time, cargo passes an array of tasks to a single worker, repeating\n * when the worker is finished.\n *\n * @name cargo\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An asynchronous function for processing an array\n * of queued tasks. Invoked with `(tasks, callback)`.\n * @param {number} [payload=Infinity] - An optional `integer` for determining\n * how many tasks should be processed per round; if omitted, the default is\n * unlimited.\n * @returns {module:ControlFlow.CargoObject} A cargo object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the cargo and inner queue.\n * @example\n *\n * // create a cargo object with payload 2\n * var cargo = async.cargo(function(tasks, callback) {\n *     for (var i=0; i<tasks.length; i++) {\n *         console.log('hello ' + tasks[i].name);\n *     }\n *     callback();\n * }, 2);\n *\n * // add some items\n * cargo.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * cargo.push({name: 'bar'}, function(err) {\n *     console.log('finished processing bar');\n * });\n * cargo.push({name: 'baz'}, function(err) {\n *     console.log('finished processing baz');\n * });\n */\nfunction cargo(worker, payload) {\n    return queue(worker, 1, payload);\n}\n\n/**\n * The same as [`eachOf`]{@link module:Collections.eachOf} but runs only a single async operation at a time.\n *\n * @name eachOfSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.eachOf]{@link module:Collections.eachOf}\n * @alias forEachOfSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * Invoked with (item, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachOfSeries = doLimit(eachOfLimit, 1);\n\n/**\n * Reduces `coll` into a single value using an async `iteratee` to return each\n * successive step. `memo` is the initial state of the reduction. This function\n * only operates in series.\n *\n * For performance reasons, it may make sense to split a call to this function\n * into a parallel map, and then use the normal `Array.prototype.reduce` on the\n * results. This function is for situations where each step in the reduction\n * needs to be async; if you can get the data before reducing it, then it's\n * probably a good idea to do so.\n *\n * @name reduce\n * @static\n * @memberOf module:Collections\n * @method\n * @alias inject\n * @alias foldl\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n * @example\n *\n * async.reduce([1,2,3], 0, function(memo, item, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         callback(null, memo + item)\n *     });\n * }, function(err, result) {\n *     // result is now equal to the last value of memo, which is 6\n * });\n */\nfunction reduce(coll, memo, iteratee, callback) {\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync(iteratee);\n    eachOfSeries(coll, function(x, i, callback) {\n        _iteratee(memo, x, function(err, v) {\n            memo = v;\n            callback(err);\n        });\n    }, function(err) {\n        callback(err, memo);\n    });\n}\n\n/**\n * Version of the compose function that is more natural to read. Each function\n * consumes the return value of the previous function. It is the equivalent of\n * [compose]{@link module:ControlFlow.compose} with the arguments reversed.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name seq\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.compose]{@link module:ControlFlow.compose}\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} a function that composes the `functions` in order\n * @example\n *\n * // Requires lodash (or underscore), express3 and dresende's orm2.\n * // Part of an app, that fetches cats of the logged user.\n * // This example uses `seq` function to avoid overnesting and error\n * // handling clutter.\n * app.get('/cats', function(request, response) {\n *     var User = request.models.User;\n *     async.seq(\n *         _.bind(User.get, User),  // 'User.get' has signature (id, callback(err, data))\n *         function(user, fn) {\n *             user.getCats(fn);      // 'getCats' has signature (callback(err, data))\n *         }\n *     )(req.session.user_id, function (err, cats) {\n *         if (err) {\n *             console.error(err);\n *             response.json({ status: 'error', message: err.message });\n *         } else {\n *             response.json({ status: 'ok', message: 'Cats found', data: cats });\n *         }\n *     });\n * });\n */\nfunction seq(/*...functions*/) {\n    var _functions = arrayMap(arguments, wrapAsync);\n    return function(/*...args*/) {\n        var args = slice(arguments);\n        var that = this;\n\n        var cb = args[args.length - 1];\n        if (typeof cb == 'function') {\n            args.pop();\n        } else {\n            cb = noop;\n        }\n\n        reduce(_functions, args, function(newargs, fn, cb) {\n            fn.apply(that, newargs.concat(function(err/*, ...nextargs*/) {\n                var nextargs = slice(arguments, 1);\n                cb(err, nextargs);\n            }));\n        },\n        function(err, results) {\n            cb.apply(that, [err].concat(results));\n        });\n    };\n}\n\n/**\n * Creates a function which is a composition of the passed asynchronous\n * functions. Each function consumes the return value of the function that\n * follows. Composing functions `f()`, `g()`, and `h()` would produce the result\n * of `f(g(h()))`, only this version uses callbacks to obtain the return values.\n *\n * Each function is executed with the `this` binding of the composed function.\n *\n * @name compose\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {...AsyncFunction} functions - the asynchronous functions to compose\n * @returns {Function} an asynchronous function that is the composed\n * asynchronous `functions`\n * @example\n *\n * function add1(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n + 1);\n *     }, 10);\n * }\n *\n * function mul3(n, callback) {\n *     setTimeout(function () {\n *         callback(null, n * 3);\n *     }, 10);\n * }\n *\n * var add1mul3 = async.compose(mul3, add1);\n * add1mul3(4, function (err, result) {\n *     // result now equals 15\n * });\n */\nvar compose = function(/*...args*/) {\n    return seq.apply(null, slice(arguments).reverse());\n};\n\nfunction concat$1(eachfn, arr, fn, callback) {\n    var result = [];\n    eachfn(arr, function (x, index, cb) {\n        fn(x, function (err, y) {\n            result = result.concat(y || []);\n            cb(err);\n        });\n    }, function (err) {\n        callback(err, result);\n    });\n}\n\n/**\n * Applies `iteratee` to each item in `coll`, concatenating the results. Returns\n * the concatenated list. The `iteratee`s are called in parallel, and the\n * results are concatenated as they return. There is no guarantee that the\n * results array will be returned in the original order of `coll` passed to the\n * `iteratee` function.\n *\n * @name concat\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`,\n * which should use an array as its result. Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n * @example\n *\n * async.concat(['dir1','dir2','dir3'], fs.readdir, function(err, files) {\n *     // files is now a list of filenames that exist in the 3 directories\n * });\n */\nvar concat = doParallel(concat$1);\n\nfunction doSeries(fn) {\n    return function (obj, iteratee, callback) {\n        return fn(eachOfSeries, obj, wrapAsync(iteratee), callback);\n    };\n}\n\n/**\n * The same as [`concat`]{@link module:Collections.concat} but runs only a single async operation at a time.\n *\n * @name concatSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.concat]{@link module:Collections.concat}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each item in `coll`.\n * The iteratee should complete with an array an array of results.\n * Invoked with (item, callback).\n * @param {Function} [callback(err)] - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is an array\n * containing the concatenated results of the `iteratee` function. Invoked with\n * (err, results).\n */\nvar concatSeries = doSeries(concat$1);\n\n/**\n * Returns a function that when called, calls-back with the values provided.\n * Useful as the first function in a [`waterfall`]{@link module:ControlFlow.waterfall}, or for plugging values in to\n * [`auto`]{@link module:ControlFlow.auto}.\n *\n * @name constant\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {...*} arguments... - Any number of arguments to automatically invoke\n * callback with.\n * @returns {AsyncFunction} Returns a function that when invoked, automatically\n * invokes the callback with the previous given arguments.\n * @example\n *\n * async.waterfall([\n *     async.constant(42),\n *     function (value, next) {\n *         // value === 42\n *     },\n *     //...\n * ], callback);\n *\n * async.waterfall([\n *     async.constant(filename, \"utf8\"),\n *     fs.readFile,\n *     function (fileData, next) {\n *         //...\n *     }\n *     //...\n * ], callback);\n *\n * async.auto({\n *     hostname: async.constant(\"https://server.net/\"),\n *     port: findFreePort,\n *     launchServer: [\"hostname\", \"port\", function (options, cb) {\n *         startServer(options, cb);\n *     }],\n *     //...\n * }, callback);\n */\nvar constant = function(/*...values*/) {\n    var values = slice(arguments);\n    var args = [null].concat(values);\n    return function (/*...ignoredArgs, callback*/) {\n        var callback = arguments[arguments.length - 1];\n        return callback.apply(this, args);\n    };\n};\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nfunction _createTester(check, getResult) {\n    return function(eachfn, arr, iteratee, cb) {\n        cb = cb || noop;\n        var testPassed = false;\n        var testResult;\n        eachfn(arr, function(value, _, callback) {\n            iteratee(value, function(err, result) {\n                if (err) {\n                    callback(err);\n                } else if (check(result) && !testResult) {\n                    testPassed = true;\n                    testResult = getResult(true, value);\n                    callback(null, breakLoop);\n                } else {\n                    callback();\n                }\n            });\n        }, function(err) {\n            if (err) {\n                cb(err);\n            } else {\n                cb(null, testPassed ? testResult : getResult(false));\n            }\n        });\n    };\n}\n\nfunction _findGetResult(v, x) {\n    return x;\n}\n\n/**\n * Returns the first value in `coll` that passes an async truth test. The\n * `iteratee` is applied in parallel, meaning the first iteratee to return\n * `true` will fire the detect `callback` with that result. That means the\n * result might not be the first item in the original `coll` (in terms of order)\n * that passes the test.\n\n * If order within the original `coll` is important, then look at\n * [`detectSeries`]{@link module:Collections.detectSeries}.\n *\n * @name detect\n * @static\n * @memberOf module:Collections\n * @method\n * @alias find\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n * @example\n *\n * async.detect(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // result now equals the first file in the list that exists\n * });\n */\nvar detect = doParallel(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name detectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findLimit\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectLimit = doParallelLimit(_createTester(identity, _findGetResult));\n\n/**\n * The same as [`detect`]{@link module:Collections.detect} but runs only a single async operation at a time.\n *\n * @name detectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.detect]{@link module:Collections.detect}\n * @alias findSeries\n * @category Collections\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A truth test to apply to each item in `coll`.\n * The iteratee must complete with a boolean value as its result.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the `iteratee` functions have finished.\n * Result will be the first item in the array that passes the truth test\n * (iteratee) or the value `undefined` if none passed. Invoked with\n * (err, result).\n */\nvar detectSeries = doLimit(detectLimit, 1);\n\nfunction consoleFunc(name) {\n    return function (fn/*, ...args*/) {\n        var args = slice(arguments, 1);\n        args.push(function (err/*, ...args*/) {\n            var args = slice(arguments, 1);\n            if (typeof console === 'object') {\n                if (err) {\n                    if (console.error) {\n                        console.error(err);\n                    }\n                } else if (console[name]) {\n                    arrayEach(args, function (x) {\n                        console[name](x);\n                    });\n                }\n            }\n        });\n        wrapAsync(fn).apply(null, args);\n    };\n}\n\n/**\n * Logs the result of an [`async` function]{@link AsyncFunction} to the\n * `console` using `console.dir` to display the properties of the resulting object.\n * Only works in Node.js or in browsers that support `console.dir` and\n * `console.error` (such as FF and Chrome).\n * If multiple arguments are returned from the async function,\n * `console.dir` is called on each argument in order.\n *\n * @name dir\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, {hello: name});\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.dir(hello, 'world');\n * {hello: 'world'}\n */\nvar dir = consoleFunc('dir');\n\n/**\n * The post-check version of [`during`]{@link module:ControlFlow.during}. To reflect the difference in\n * the order of operations, the arguments `test` and `fn` are switched.\n *\n * Also a version of [`doWhilst`]{@link module:ControlFlow.doWhilst} with asynchronous `test` function.\n * @name doDuring\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.during]{@link module:ControlFlow.during}\n * @category Control Flow\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (...args, callback), where `...args` are the\n * non-error args from the previous callback of `fn`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error if one occurred, otherwise `null`.\n */\nfunction doDuring(fn, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync(fn);\n    var _test = wrapAsync(test);\n\n    function next(err/*, ...args*/) {\n        if (err) return callback(err);\n        var args = slice(arguments, 1);\n        args.push(check);\n        _test.apply(this, args);\n    }\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    check(null, true);\n\n}\n\n/**\n * The post-check version of [`whilst`]{@link module:ControlFlow.whilst}. To reflect the difference in\n * the order of operations, the arguments `test` and `iteratee` are switched.\n *\n * `doWhilst` is to `whilst` as `do while` is to `while` in plain JavaScript.\n *\n * @name doWhilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - A function which is called each time `test`\n * passes. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped.\n * `callback` will be passed an error and any arguments passed to the final\n * `iteratee`'s callback. Invoked with (err, [results]);\n */\nfunction doWhilst(iteratee, test, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync(iteratee);\n    var next = function(err/*, ...args*/) {\n        if (err) return callback(err);\n        var args = slice(arguments, 1);\n        if (test.apply(this, args)) return _iteratee(next);\n        callback.apply(null, [null].concat(args));\n    };\n    _iteratee(next);\n}\n\n/**\n * Like ['doWhilst']{@link module:ControlFlow.doWhilst}, except the `test` is inverted. Note the\n * argument ordering differs from `until`.\n *\n * @name doUntil\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.doWhilst]{@link module:ControlFlow.doWhilst}\n * @category Control Flow\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} test - synchronous truth test to perform after each\n * execution of `iteratee`. Invoked with any non-error callback results of\n * `iteratee`.\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction doUntil(iteratee, test, callback) {\n    doWhilst(iteratee, function() {\n        return !test.apply(this, arguments);\n    }, callback);\n}\n\n/**\n * Like [`whilst`]{@link module:ControlFlow.whilst}, except the `test` is an asynchronous function that\n * is passed a callback in the form of `function (err, truth)`. If error is\n * passed to `test` or `fn`, the main callback is immediately called with the\n * value of the error.\n *\n * @name during\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {AsyncFunction} test - asynchronous truth test to perform before each\n * execution of `fn`. Invoked with (callback).\n * @param {AsyncFunction} fn - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `fn` has stopped. `callback`\n * will be passed an error, if one occurred, otherwise `null`.\n * @example\n *\n * var count = 0;\n *\n * async.during(\n *     function (callback) {\n *         return callback(null, count < 5);\n *     },\n *     function (callback) {\n *         count++;\n *         setTimeout(callback, 1000);\n *     },\n *     function (err) {\n *         // 5 seconds have passed\n *     }\n * );\n */\nfunction during(test, fn, callback) {\n    callback = onlyOnce(callback || noop);\n    var _fn = wrapAsync(fn);\n    var _test = wrapAsync(test);\n\n    function next(err) {\n        if (err) return callback(err);\n        _test(check);\n    }\n\n    function check(err, truth) {\n        if (err) return callback(err);\n        if (!truth) return callback(null);\n        _fn(next);\n    }\n\n    _test(check);\n}\n\nfunction _withoutIndex(iteratee) {\n    return function (value, index, callback) {\n        return iteratee(value, callback);\n    };\n}\n\n/**\n * Applies the function `iteratee` to each item in `coll`, in parallel.\n * The `iteratee` is called with an item from the list, and a callback for when\n * it has finished. If the `iteratee` passes an error to its `callback`, the\n * main `callback` (for the `each` function) is immediately called with the\n * error.\n *\n * Note, that since this function applies `iteratee` to each item in parallel,\n * there is no guarantee that the iteratee functions will complete in order.\n *\n * @name each\n * @static\n * @memberOf module:Collections\n * @method\n * @alias forEach\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to\n * each item in `coll`. Invoked with (item, callback).\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOf`.\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n * @example\n *\n * // assuming openFiles is an array of file names and saveFile is a function\n * // to save the modified contents of that file:\n *\n * async.each(openFiles, saveFile, function(err){\n *   // if any of the saves produced an error, err would equal that error\n * });\n *\n * // assuming openFiles is an array of file names\n * async.each(openFiles, function(file, callback) {\n *\n *     // Perform operation on file here.\n *     console.log('Processing file ' + file);\n *\n *     if( file.length > 32 ) {\n *       console.log('This file name is too long');\n *       callback('File name too long');\n *     } else {\n *       // Do work to process file here\n *       console.log('File processed');\n *       callback();\n *     }\n * }, function(err) {\n *     // if any of the file processing produced an error, err would equal that error\n *     if( err ) {\n *       // One of the iterations produced an error.\n *       // All processing will now stop.\n *       console.log('A file failed to process');\n *     } else {\n *       console.log('All files have been processed successfully');\n *     }\n * });\n */\nfunction eachLimit(coll, iteratee, callback) {\n    eachOf(coll, _withoutIndex(wrapAsync(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs a maximum of `limit` async operations at a time.\n *\n * @name eachLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfLimit`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nfunction eachLimit$1(coll, limit, iteratee, callback) {\n    _eachOfLimit(limit)(coll, _withoutIndex(wrapAsync(iteratee)), callback);\n}\n\n/**\n * The same as [`each`]{@link module:Collections.each} but runs only a single async operation at a time.\n *\n * @name eachSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.each]{@link module:Collections.each}\n * @alias forEachSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each\n * item in `coll`.\n * The array index is not passed to the iteratee.\n * If you need the index, use `eachOfSeries`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called when all\n * `iteratee` functions have finished, or an error occurs. Invoked with (err).\n */\nvar eachSeries = doLimit(eachLimit$1, 1);\n\n/**\n * Wrap an async function and ensure it calls its callback on a later tick of\n * the event loop.  If the function already calls its callback on a next tick,\n * no extra deferral is added. This is useful for preventing stack overflows\n * (`RangeError: Maximum call stack size exceeded`) and generally keeping\n * [Zalgo](http://blog.izs.me/post/59142742143/designing-apis-for-asynchrony)\n * contained. ES2017 `async` functions are returned as-is -- they are immune\n * to Zalgo's corrupting influences, as they always resolve on a later tick.\n *\n * @name ensureAsync\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - an async function, one that expects a node-style\n * callback as its last argument.\n * @returns {AsyncFunction} Returns a wrapped function with the exact same call\n * signature as the function passed in.\n * @example\n *\n * function sometimesAsync(arg, callback) {\n *     if (cache[arg]) {\n *         return callback(null, cache[arg]); // this would be synchronous!!\n *     } else {\n *         doSomeIO(arg, callback); // this IO would be asynchronous\n *     }\n * }\n *\n * // this has a risk of stack overflows if many results are cached in a row\n * async.mapSeries(args, sometimesAsync, done);\n *\n * // this will defer sometimesAsync's callback if necessary,\n * // preventing stack overflows\n * async.mapSeries(args, async.ensureAsync(sometimesAsync), done);\n */\nfunction ensureAsync(fn) {\n    if (isAsync(fn)) return fn;\n    return initialParams(function (args, callback) {\n        var sync = true;\n        args.push(function () {\n            var innerArgs = arguments;\n            if (sync) {\n                setImmediate$1(function () {\n                    callback.apply(null, innerArgs);\n                });\n            } else {\n                callback.apply(null, innerArgs);\n            }\n        });\n        fn.apply(this, args);\n        sync = false;\n    });\n}\n\nfunction notId(v) {\n    return !v;\n}\n\n/**\n * Returns `true` if every element in `coll` satisfies an async test. If any\n * iteratee call returns `false`, the main `callback` is immediately called.\n *\n * @name every\n * @static\n * @memberOf module:Collections\n * @method\n * @alias all\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n * @example\n *\n * async.every(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then every file exists\n * });\n */\nvar every = doParallel(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs a maximum of `limit` async operations at a time.\n *\n * @name everyLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in parallel.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everyLimit = doParallelLimit(_createTester(notId, notId));\n\n/**\n * The same as [`every`]{@link module:Collections.every} but runs only a single async operation at a time.\n *\n * @name everySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.every]{@link module:Collections.every}\n * @alias allSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collection in series.\n * The iteratee must complete with a boolean result value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result will be either `true` or `false`\n * depending on the values of the async tests. Invoked with (err, result).\n */\nvar everySeries = doLimit(everyLimit, 1);\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nfunction filterArray(eachfn, arr, iteratee, callback) {\n    var truthValues = new Array(arr.length);\n    eachfn(arr, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            truthValues[index] = !!v;\n            callback(err);\n        });\n    }, function (err) {\n        if (err) return callback(err);\n        var results = [];\n        for (var i = 0; i < arr.length; i++) {\n            if (truthValues[i]) results.push(arr[i]);\n        }\n        callback(null, results);\n    });\n}\n\nfunction filterGeneric(eachfn, coll, iteratee, callback) {\n    var results = [];\n    eachfn(coll, function (x, index, callback) {\n        iteratee(x, function (err, v) {\n            if (err) {\n                callback(err);\n            } else {\n                if (v) {\n                    results.push({index: index, value: x});\n                }\n                callback();\n            }\n        });\n    }, function (err) {\n        if (err) {\n            callback(err);\n        } else {\n            callback(null, arrayMap(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), baseProperty('value')));\n        }\n    });\n}\n\nfunction _filter(eachfn, coll, iteratee, callback) {\n    var filter = isArrayLike(coll) ? filterArray : filterGeneric;\n    filter(eachfn, coll, wrapAsync(iteratee), callback || noop);\n}\n\n/**\n * Returns a new array of all the values in `coll` which pass an async truth\n * test. This operation is performed in parallel, but the results array will be\n * in the same order as the original.\n *\n * @name filter\n * @static\n * @memberOf module:Collections\n * @method\n * @alias select\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.filter(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of the existing files\n * });\n */\nvar filter = doParallel(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name filterLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar filterLimit = doParallelLimit(_filter);\n\n/**\n * The same as [`filter`]{@link module:Collections.filter} but runs only a single async operation at a time.\n *\n * @name filterSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @alias selectSeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - A truth test to apply to each item in `coll`.\n * The `iteratee` is passed a `callback(err, truthValue)`, which must be called\n * with a boolean argument once it has completed. Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results)\n */\nvar filterSeries = doLimit(filterLimit, 1);\n\n/**\n * Calls the asynchronous function `fn` with a callback parameter that allows it\n * to call itself again, in series, indefinitely.\n\n * If an error is passed to the callback then `errback` is called with the\n * error, and execution stops, otherwise it will never be called.\n *\n * @name forever\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} fn - an async function to call repeatedly.\n * Invoked with (next).\n * @param {Function} [errback] - when `fn` passes an error to it's callback,\n * this function will be called, and execution stops. Invoked with (err).\n * @example\n *\n * async.forever(\n *     function(next) {\n *         // next is suitable for passing to things that need a callback(err [, whatever]);\n *         // it will result in this function being called again.\n *     },\n *     function(err) {\n *         // if next is called with a value in its first parameter, it will appear\n *         // in here as 'err', and execution will stop.\n *     }\n * );\n */\nfunction forever(fn, errback) {\n    var done = onlyOnce(errback || noop);\n    var task = wrapAsync(ensureAsync(fn));\n\n    function next(err) {\n        if (err) return done(err);\n        task(next);\n    }\n    next();\n}\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs a maximum of `limit` async operations at a time.\n *\n * @name groupByLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupByLimit = function(coll, limit, iteratee, callback) {\n    callback = callback || noop;\n    var _iteratee = wrapAsync(iteratee);\n    mapLimit(coll, limit, function(val, callback) {\n        _iteratee(val, function(err, key) {\n            if (err) return callback(err);\n            return callback(null, {key: key, val: val});\n        });\n    }, function(err, mapResults) {\n        var result = {};\n        // from MDN, handle object having an `hasOwnProperty` prop\n        var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n        for (var i = 0; i < mapResults.length; i++) {\n            if (mapResults[i]) {\n                var key = mapResults[i].key;\n                var val = mapResults[i].val;\n\n                if (hasOwnProperty.call(result, key)) {\n                    result[key].push(val);\n                } else {\n                    result[key] = [val];\n                }\n            }\n        }\n\n        return callback(err, result);\n    });\n};\n\n/**\n * Returns a new object, where each value corresponds to an array of items, from\n * `coll`, that returned the corresponding key. That is, the keys of the object\n * correspond to the values passed to the `iteratee` callback.\n *\n * Note: Since this function applies the `iteratee` to each item in parallel,\n * there is no guarantee that the `iteratee` functions will complete in order.\n * However, the values for each key in the `result` will be in the same order as\n * the original `coll`. For Objects, the values will roughly be in the order of\n * the original Objects' keys (but this can vary across JavaScript engines).\n *\n * @name groupBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n * @example\n *\n * async.groupBy(['userId1', 'userId2', 'userId3'], function(userId, callback) {\n *     db.findById(userId, function(err, user) {\n *         if (err) return callback(err);\n *         return callback(null, user.age);\n *     });\n * }, function(err, result) {\n *     // result is object containing the userIds grouped by age\n *     // e.g. { 30: ['userId1', 'userId3'], 42: ['userId2']};\n * });\n */\nvar groupBy = doLimit(groupByLimit, Infinity);\n\n/**\n * The same as [`groupBy`]{@link module:Collections.groupBy} but runs only a single async operation at a time.\n *\n * @name groupBySeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.groupBy]{@link module:Collections.groupBy}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a `key` to group the value under.\n * Invoked with (value, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. Result is an `Object` whoses\n * properties are arrays of values which returned the corresponding key.\n */\nvar groupBySeries = doLimit(groupByLimit, 1);\n\n/**\n * Logs the result of an `async` function to the `console`. Only works in\n * Node.js or in browsers that support `console.log` and `console.error` (such\n * as FF and Chrome). If multiple arguments are returned from the async\n * function, `console.log` is called on each argument in order.\n *\n * @name log\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} function - The function you want to eventually apply\n * all arguments to.\n * @param {...*} arguments... - Any number of arguments to apply to the function.\n * @example\n *\n * // in a module\n * var hello = function(name, callback) {\n *     setTimeout(function() {\n *         callback(null, 'hello ' + name);\n *     }, 1000);\n * };\n *\n * // in the node repl\n * node> async.log(hello, 'world');\n * 'hello world'\n */\nvar log = consoleFunc('log');\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name mapValuesLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nfunction mapValuesLimit(obj, limit, iteratee, callback) {\n    callback = once(callback || noop);\n    var newObj = {};\n    var _iteratee = wrapAsync(iteratee);\n    eachOfLimit(obj, limit, function(val, key, next) {\n        _iteratee(val, key, function (err, result) {\n            if (err) return next(err);\n            newObj[key] = result;\n            next();\n        });\n    }, function (err) {\n        callback(err, newObj);\n    });\n}\n\n/**\n * A relative of [`map`]{@link module:Collections.map}, designed for use with objects.\n *\n * Produces a new Object by mapping each value of `obj` through the `iteratee`\n * function. The `iteratee` is called each `value` and `key` from `obj` and a\n * callback for when it has finished processing. Each of these callbacks takes\n * two arguments: an `error`, and the transformed item from `obj`. If `iteratee`\n * passes an error to its callback, the main `callback` (for the `mapValues`\n * function) is immediately called with the error.\n *\n * Note, the order of the keys in the result is not guaranteed.  The keys will\n * be roughly in the order they complete, (but this is very engine-specific)\n *\n * @name mapValues\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n * @example\n *\n * async.mapValues({\n *     f1: 'file1',\n *     f2: 'file2',\n *     f3: 'file3'\n * }, function (file, key, callback) {\n *   fs.stat(file, callback);\n * }, function(err, result) {\n *     // result is now a map of stats for each file, e.g.\n *     // {\n *     //     f1: [stats for file1],\n *     //     f2: [stats for file2],\n *     //     f3: [stats for file3]\n *     // }\n * });\n */\n\nvar mapValues = doLimit(mapValuesLimit, Infinity);\n\n/**\n * The same as [`mapValues`]{@link module:Collections.mapValues} but runs only a single async operation at a time.\n *\n * @name mapValuesSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.mapValues]{@link module:Collections.mapValues}\n * @category Collection\n * @param {Object} obj - A collection to iterate over.\n * @param {AsyncFunction} iteratee - A function to apply to each value and key\n * in `coll`.\n * The iteratee should complete with the transformed value as its result.\n * Invoked with (value, key, callback).\n * @param {Function} [callback] - A callback which is called when all `iteratee`\n * functions have finished, or an error occurs. `result` is a new object consisting\n * of each key from `obj`, with each transformed value on the right-hand side.\n * Invoked with (err, result).\n */\nvar mapValuesSeries = doLimit(mapValuesLimit, 1);\n\nfunction has(obj, key) {\n    return key in obj;\n}\n\n/**\n * Caches the results of an async function. When creating a hash to store\n * function results against, the callback is omitted from the hash and an\n * optional hash function can be used.\n *\n * If no hash function is specified, the first argument is used as a hash key,\n * which may work reasonably if it is a string or a data type that converts to a\n * distinct string. Note that objects and arrays will not behave reasonably.\n * Neither will cases where the other arguments are significant. In such cases,\n * specify your own hash function.\n *\n * The cache of results is exposed as the `memo` property of the function\n * returned by `memoize`.\n *\n * @name memoize\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function to proxy and cache results from.\n * @param {Function} hasher - An optional function for generating a custom hash\n * for storing results. It has all the arguments applied to it apart from the\n * callback, and must be synchronous.\n * @returns {AsyncFunction} a memoized version of `fn`\n * @example\n *\n * var slow_fn = function(name, callback) {\n *     // do something\n *     callback(null, result);\n * };\n * var fn = async.memoize(slow_fn);\n *\n * // fn can now be used as if it were slow_fn\n * fn('some name', function() {\n *     // callback\n * });\n */\nfunction memoize(fn, hasher) {\n    var memo = Object.create(null);\n    var queues = Object.create(null);\n    hasher = hasher || identity;\n    var _fn = wrapAsync(fn);\n    var memoized = initialParams(function memoized(args, callback) {\n        var key = hasher.apply(null, args);\n        if (has(memo, key)) {\n            setImmediate$1(function() {\n                callback.apply(null, memo[key]);\n            });\n        } else if (has(queues, key)) {\n            queues[key].push(callback);\n        } else {\n            queues[key] = [callback];\n            _fn.apply(null, args.concat(function(/*args*/) {\n                var args = slice(arguments);\n                memo[key] = args;\n                var q = queues[key];\n                delete queues[key];\n                for (var i = 0, l = q.length; i < l; i++) {\n                    q[i].apply(null, args);\n                }\n            }));\n        }\n    });\n    memoized.memo = memo;\n    memoized.unmemoized = fn;\n    return memoized;\n}\n\n/**\n * Calls `callback` on a later loop around the event loop. In Node.js this just\n * calls `setImmediate`.  In the browser it will use `setImmediate` if\n * available, otherwise `setTimeout(callback, 0)`, which means other higher\n * priority events may precede the execution of `callback`.\n *\n * This is used internally for browser-compatibility purposes.\n *\n * @name nextTick\n * @static\n * @memberOf module:Utils\n * @method\n * @alias setImmediate\n * @category Util\n * @param {Function} callback - The function to call on a later loop around\n * the event loop. Invoked with (args...).\n * @param {...*} args... - any number of additional arguments to pass to the\n * callback on the next tick.\n * @example\n *\n * var call_order = [];\n * async.nextTick(function() {\n *     call_order.push('two');\n *     // call_order now equals ['one','two']\n * });\n * call_order.push('one');\n *\n * async.setImmediate(function (a, b, c) {\n *     // a, b, and c equal 1, 2, and 3\n * }, 1, 2, 3);\n */\nvar _defer$1;\n\nif (hasNextTick) {\n    _defer$1 = process.nextTick;\n} else if (hasSetImmediate) {\n    _defer$1 = setImmediate;\n} else {\n    _defer$1 = fallback;\n}\n\nvar nextTick = wrap(_defer$1);\n\nfunction _parallel(eachfn, tasks, callback) {\n    callback = callback || noop;\n    var results = isArrayLike(tasks) ? [] : {};\n\n    eachfn(tasks, function (task, key, callback) {\n        wrapAsync(task)(function (err, result) {\n            if (arguments.length > 2) {\n                result = slice(arguments, 1);\n            }\n            results[key] = result;\n            callback(err);\n        });\n    }, function (err) {\n        callback(err, results);\n    });\n}\n\n/**\n * Run the `tasks` collection of functions in parallel, without waiting until\n * the previous function has completed. If any of the functions pass an error to\n * its callback, the main `callback` is immediately called with the value of the\n * error. Once the `tasks` have completed, the results are passed to the final\n * `callback` as an array.\n *\n * **Note:** `parallel` is about kicking-off I/O tasks in parallel, not about\n * parallel execution of code.  If your tasks do not use any timers or perform\n * any I/O, they will actually be executed in series.  Any synchronous setup\n * sections for each task will happen one after the other.  JavaScript remains\n * single-threaded.\n *\n * **Hint:** Use [`reflect`]{@link module:Utils.reflect} to continue the\n * execution of other tasks when a task fails.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n * results from {@link async.parallel}.\n *\n * @name parallel\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n *\n * @example\n * async.parallel([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // the results array will equal ['one','two'] even though\n *     // the second function had a shorter timeout.\n * });\n *\n * // an example using an object instead of an array\n * async.parallel({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equals to: {one: 1, two: 2}\n * });\n */\nfunction parallelLimit(tasks, callback) {\n    _parallel(eachOf, tasks, callback);\n}\n\n/**\n * The same as [`parallel`]{@link module:ControlFlow.parallel} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name parallelLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.parallel]{@link module:ControlFlow.parallel}\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection of\n * [async functions]{@link AsyncFunction} to run.\n * Each async function can complete with any number of optional `result` values.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed successfully. This function gets a results array\n * (or object) containing all the result arguments passed to the task callbacks.\n * Invoked with (err, results).\n */\nfunction parallelLimit$1(tasks, limit, callback) {\n    _parallel(_eachOfLimit(limit), tasks, callback);\n}\n\n/**\n * A queue of tasks for the worker function to complete.\n * @typedef {Object} QueueObject\n * @memberOf module:ControlFlow\n * @property {Function} length - a function returning the number of items\n * waiting to be processed. Invoke with `queue.length()`.\n * @property {boolean} started - a boolean indicating whether or not any\n * items have been pushed and processed by the queue.\n * @property {Function} running - a function returning the number of items\n * currently being processed. Invoke with `queue.running()`.\n * @property {Function} workersList - a function returning the array of items\n * currently being processed. Invoke with `queue.workersList()`.\n * @property {Function} idle - a function returning false if there are items\n * waiting or being processed, or true if not. Invoke with `queue.idle()`.\n * @property {number} concurrency - an integer for determining how many `worker`\n * functions should be run in parallel. This property can be changed after a\n * `queue` is created to alter the concurrency on-the-fly.\n * @property {Function} push - add a new task to the `queue`. Calls `callback`\n * once the `worker` has finished processing the task. Instead of a single task,\n * a `tasks` array can be submitted. The respective callback is used for every\n * task in the list. Invoke with `queue.push(task, [callback])`,\n * @property {Function} unshift - add a new task to the front of the `queue`.\n * Invoke with `queue.unshift(task, [callback])`.\n * @property {Function} remove - remove items from the queue that match a test\n * function.  The test function will be passed an object with a `data` property,\n * and a `priority` property, if this is a\n * [priorityQueue]{@link module:ControlFlow.priorityQueue} object.\n * Invoked with `queue.remove(testFn)`, where `testFn` is of the form\n * `function ({data, priority}) {}` and returns a Boolean.\n * @property {Function} saturated - a callback that is called when the number of\n * running workers hits the `concurrency` limit, and further tasks will be\n * queued.\n * @property {Function} unsaturated - a callback that is called when the number\n * of running workers is less than the `concurrency` & `buffer` limits, and\n * further tasks will not be queued.\n * @property {number} buffer - A minimum threshold buffer in order to say that\n * the `queue` is `unsaturated`.\n * @property {Function} empty - a callback that is called when the last item\n * from the `queue` is given to a `worker`.\n * @property {Function} drain - a callback that is called when the last item\n * from the `queue` has returned from the `worker`.\n * @property {Function} error - a callback that is called when a task errors.\n * Has the signature `function(error, task)`.\n * @property {boolean} paused - a boolean for determining whether the queue is\n * in a paused state.\n * @property {Function} pause - a function that pauses the processing of tasks\n * until `resume()` is called. Invoke with `queue.pause()`.\n * @property {Function} resume - a function that resumes the processing of\n * queued tasks when the queue is paused. Invoke with `queue.resume()`.\n * @property {Function} kill - a function that removes the `drain` callback and\n * empties remaining tasks from the queue forcing it to go idle. Invoke with `queue.kill()`.\n */\n\n/**\n * Creates a `queue` object with the specified `concurrency`. Tasks added to the\n * `queue` are processed in parallel (up to the `concurrency` limit). If all\n * `worker`s are in progress, the task is queued until one becomes available.\n * Once a `worker` completes a `task`, that `task`'s callback is called.\n *\n * @name queue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`. Invoked with (task, callback).\n * @param {number} [concurrency=1] - An `integer` for determining how many\n * `worker` functions should be run in parallel.  If omitted, the concurrency\n * defaults to `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A queue object to manage the tasks. Callbacks can\n * attached as certain properties to listen for specific events during the\n * lifecycle of the queue.\n * @example\n *\n * // create a queue object with concurrency 2\n * var q = async.queue(function(task, callback) {\n *     console.log('hello ' + task.name);\n *     callback();\n * }, 2);\n *\n * // assign a callback\n * q.drain = function() {\n *     console.log('all items have been processed');\n * };\n *\n * // add some items to the queue\n * q.push({name: 'foo'}, function(err) {\n *     console.log('finished processing foo');\n * });\n * q.push({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n *\n * // add some items to the queue (batch-wise)\n * q.push([{name: 'baz'},{name: 'bay'},{name: 'bax'}], function(err) {\n *     console.log('finished processing item');\n * });\n *\n * // add some items to the front of the queue\n * q.unshift({name: 'bar'}, function (err) {\n *     console.log('finished processing bar');\n * });\n */\nvar queue$1 = function (worker, concurrency) {\n    var _worker = wrapAsync(worker);\n    return queue(function (items, cb) {\n        _worker(items[0], cb);\n    }, concurrency, 1);\n};\n\n/**\n * The same as [async.queue]{@link module:ControlFlow.queue} only tasks are assigned a priority and\n * completed in ascending priority order.\n *\n * @name priorityQueue\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.queue]{@link module:ControlFlow.queue}\n * @category Control Flow\n * @param {AsyncFunction} worker - An async function for processing a queued task.\n * If you want to handle errors from an individual task, pass a callback to\n * `q.push()`.\n * Invoked with (task, callback).\n * @param {number} concurrency - An `integer` for determining how many `worker`\n * functions should be run in parallel.  If omitted, the concurrency defaults to\n * `1`.  If the concurrency is `0`, an error is thrown.\n * @returns {module:ControlFlow.QueueObject} A priorityQueue object to manage the tasks. There are two\n * differences between `queue` and `priorityQueue` objects:\n * * `push(task, priority, [callback])` - `priority` should be a number. If an\n *   array of `tasks` is given, all tasks will be assigned the same priority.\n * * The `unshift` method was removed.\n */\nvar priorityQueue = function(worker, concurrency) {\n    // Start with a normal queue\n    var q = queue$1(worker, concurrency);\n\n    // Override push to accept second parameter representing priority\n    q.push = function(data, priority, callback) {\n        if (callback == null) callback = noop;\n        if (typeof callback !== 'function') {\n            throw new Error('task callback must be a function');\n        }\n        q.started = true;\n        if (!isArray(data)) {\n            data = [data];\n        }\n        if (data.length === 0) {\n            // call drain immediately if there are no tasks\n            return setImmediate$1(function() {\n                q.drain();\n            });\n        }\n\n        priority = priority || 0;\n        var nextNode = q._tasks.head;\n        while (nextNode && priority >= nextNode.priority) {\n            nextNode = nextNode.next;\n        }\n\n        for (var i = 0, l = data.length; i < l; i++) {\n            var item = {\n                data: data[i],\n                priority: priority,\n                callback: callback\n            };\n\n            if (nextNode) {\n                q._tasks.insertBefore(nextNode, item);\n            } else {\n                q._tasks.push(item);\n            }\n        }\n        setImmediate$1(q.process);\n    };\n\n    // Remove unshift function\n    delete q.unshift;\n\n    return q;\n};\n\n/**\n * Runs the `tasks` array of functions in parallel, without waiting until the\n * previous function has completed. Once any of the `tasks` complete or pass an\n * error to its callback, the main `callback` is immediately called. It's\n * equivalent to `Promise.race()`.\n *\n * @name race\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array containing [async functions]{@link AsyncFunction}\n * to run. Each function can complete with an optional `result` value.\n * @param {Function} callback - A callback to run once any of the functions have\n * completed. This function gets an error or result from the first function that\n * completed. Invoked with (err, result).\n * @returns undefined\n * @example\n *\n * async.race([\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ],\n * // main callback\n * function(err, result) {\n *     // the result will be equal to 'two' as it finishes earlier\n * });\n */\nfunction race(tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new TypeError('First argument to race must be an array of functions'));\n    if (!tasks.length) return callback();\n    for (var i = 0, l = tasks.length; i < l; i++) {\n        wrapAsync(tasks[i])(callback);\n    }\n}\n\n/**\n * Same as [`reduce`]{@link module:Collections.reduce}, only operates on `array` in reverse order.\n *\n * @name reduceRight\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reduce]{@link module:Collections.reduce}\n * @alias foldr\n * @category Collection\n * @param {Array} array - A collection to iterate over.\n * @param {*} memo - The initial state of the reduction.\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * array to produce the next step in the reduction.\n * The `iteratee` should complete with the next state of the reduction.\n * If the iteratee complete with an error, the reduction is stopped and the\n * main `callback` is immediately called with the error.\n * Invoked with (memo, item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the reduced value. Invoked with\n * (err, result).\n */\nfunction reduceRight (array, memo, iteratee, callback) {\n    var reversed = slice(array).reverse();\n    reduce(reversed, memo, iteratee, callback);\n}\n\n/**\n * Wraps the async function in another function that always completes with a\n * result object, even when it errors.\n *\n * The result object has either the property `error` or `value`.\n *\n * @name reflect\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function you want to wrap\n * @returns {Function} - A function that always passes null to it's callback as\n * the error. The second argument to the callback will be an `object` with\n * either an `error` or a `value` property.\n * @example\n *\n * async.parallel([\n *     async.reflect(function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff but error ...\n *         callback('bad stuff happened');\n *     }),\n *     async.reflect(function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     })\n * ],\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = 'bad stuff happened'\n *     // results[2].value = 'two'\n * });\n */\nfunction reflect(fn) {\n    var _fn = wrapAsync(fn);\n    return initialParams(function reflectOn(args, reflectCallback) {\n        args.push(function callback(error, cbArg) {\n            if (error) {\n                reflectCallback(null, { error: error });\n            } else {\n                var value;\n                if (arguments.length <= 2) {\n                    value = cbArg;\n                } else {\n                    value = slice(arguments, 1);\n                }\n                reflectCallback(null, { value: value });\n            }\n        });\n\n        return _fn.apply(this, args);\n    });\n}\n\nfunction reject$1(eachfn, arr, iteratee, callback) {\n    _filter(eachfn, arr, function(value, cb) {\n        iteratee(value, function(err, v) {\n            cb(err, !v);\n        });\n    }, callback);\n}\n\n/**\n * The opposite of [`filter`]{@link module:Collections.filter}. Removes values that pass an `async` truth test.\n *\n * @name reject\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.filter]{@link module:Collections.filter}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n * @example\n *\n * async.reject(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, results) {\n *     // results now equals an array of missing files\n *     createFiles(results);\n * });\n */\nvar reject = doParallel(reject$1);\n\n/**\n * A helper function that wraps an array or an object of functions with `reflect`.\n *\n * @name reflectAll\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.reflect]{@link module:Utils.reflect}\n * @category Util\n * @param {Array|Object|Iterable} tasks - The collection of\n * [async functions]{@link AsyncFunction} to wrap in `async.reflect`.\n * @returns {Array} Returns an array of async functions, each wrapped in\n * `async.reflect`\n * @example\n *\n * let tasks = [\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     function(callback) {\n *         // do some more stuff but error ...\n *         callback(new Error('bad stuff happened'));\n *     },\n *     function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'two');\n *         }, 100);\n *     }\n * ];\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results[0].value = 'one'\n *     // results[1].error = Error('bad stuff happened')\n *     // results[2].value = 'two'\n * });\n *\n * // an example using an object instead of an array\n * let tasks = {\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'one');\n *         }, 200);\n *     },\n *     two: function(callback) {\n *         callback('two');\n *     },\n *     three: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 'three');\n *         }, 100);\n *     }\n * };\n *\n * async.parallel(async.reflectAll(tasks),\n * // optional callback\n * function(err, results) {\n *     // values\n *     // results.one.value = 'one'\n *     // results.two.error = 'two'\n *     // results.three.value = 'three'\n * });\n */\nfunction reflectAll(tasks) {\n    var results;\n    if (isArray(tasks)) {\n        results = arrayMap(tasks, reflect);\n    } else {\n        results = {};\n        baseForOwn(tasks, function(task, key) {\n            results[key] = reflect.call(this, task);\n        });\n    }\n    return results;\n}\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name rejectLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectLimit = doParallelLimit(reject$1);\n\n/**\n * The same as [`reject`]{@link module:Collections.reject} but runs only a single async operation at a time.\n *\n * @name rejectSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.reject]{@link module:Collections.reject}\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {Function} iteratee - An async truth test to apply to each item in\n * `coll`.\n * The should complete with a boolean value as its `result`.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Invoked with (err, results).\n */\nvar rejectSeries = doLimit(rejectLimit, 1);\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant$1(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * Attempts to get a successful response from `task` no more than `times` times\n * before returning an error. If the task is successful, the `callback` will be\n * passed the result of the successful task. If all attempts fail, the callback\n * will be passed the error and result (if any) of the final attempt.\n *\n * @name retry\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @see [async.retryable]{@link module:ControlFlow.retryable}\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - Can be either an\n * object with `times` and `interval` or a number.\n * * `times` - The number of attempts to make before giving up.  The default\n *   is `5`.\n * * `interval` - The time to wait between retries, in milliseconds.  The\n *   default is `0`. The interval may also be specified as a function of the\n *   retry count (see example).\n * * `errorFilter` - An optional synchronous function that is invoked on\n *   erroneous result. If it returns `true` the retry attempts will continue;\n *   if the function returns `false` the retry flow is aborted with the current\n *   attempt's error and result being returned to the final callback.\n *   Invoked with (err).\n * * If `opts` is a number, the number specifies the number of times to retry,\n *   with the default interval of `0`.\n * @param {AsyncFunction} task - An async function to retry.\n * Invoked with (callback).\n * @param {Function} [callback] - An optional callback which is called when the\n * task has succeeded, or after the final failed attempt. It receives the `err`\n * and `result` arguments of the last attempt at completing the `task`. Invoked\n * with (err, results).\n *\n * @example\n *\n * // The `retry` function can be used as a stand-alone control flow by passing\n * // a callback, as shown below:\n *\n * // try calling apiMethod 3 times\n * async.retry(3, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 3 times, waiting 200 ms between each retry\n * async.retry({times: 3, interval: 200}, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod 10 times with exponential backoff\n * // (i.e. intervals of 100, 200, 400, 800, 1600, ... milliseconds)\n * async.retry({\n *   times: 10,\n *   interval: function(retryCount) {\n *     return 50 * Math.pow(2, retryCount);\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod the default 5 times no delay between each retry\n * async.retry(apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // try calling apiMethod only when error condition satisfies, all other\n * // errors will abort the retry control flow and return to final callback\n * async.retry({\n *   errorFilter: function(err) {\n *     return err.message === 'Temporary error'; // only retry on a specific error\n *   }\n * }, apiMethod, function(err, result) {\n *     // do something with the result\n * });\n *\n * // It can also be embedded within other control flow functions to retry\n * // individual methods that are not as reliable, like this:\n * async.auto({\n *     users: api.getUsers.bind(api),\n *     payments: async.retryable(3, api.getPayments.bind(api))\n * }, function(err, results) {\n *     // do something with the results\n * });\n *\n */\nfunction retry(opts, task, callback) {\n    var DEFAULT_TIMES = 5;\n    var DEFAULT_INTERVAL = 0;\n\n    var options = {\n        times: DEFAULT_TIMES,\n        intervalFunc: constant$1(DEFAULT_INTERVAL)\n    };\n\n    function parseTimes(acc, t) {\n        if (typeof t === 'object') {\n            acc.times = +t.times || DEFAULT_TIMES;\n\n            acc.intervalFunc = typeof t.interval === 'function' ?\n                t.interval :\n                constant$1(+t.interval || DEFAULT_INTERVAL);\n\n            acc.errorFilter = t.errorFilter;\n        } else if (typeof t === 'number' || typeof t === 'string') {\n            acc.times = +t || DEFAULT_TIMES;\n        } else {\n            throw new Error(\"Invalid arguments for async.retry\");\n        }\n    }\n\n    if (arguments.length < 3 && typeof opts === 'function') {\n        callback = task || noop;\n        task = opts;\n    } else {\n        parseTimes(options, opts);\n        callback = callback || noop;\n    }\n\n    if (typeof task !== 'function') {\n        throw new Error(\"Invalid arguments for async.retry\");\n    }\n\n    var _task = wrapAsync(task);\n\n    var attempt = 1;\n    function retryAttempt() {\n        _task(function(err) {\n            if (err && attempt++ < options.times &&\n                (typeof options.errorFilter != 'function' ||\n                    options.errorFilter(err))) {\n                setTimeout(retryAttempt, options.intervalFunc(attempt));\n            } else {\n                callback.apply(null, arguments);\n            }\n        });\n    }\n\n    retryAttempt();\n}\n\n/**\n * A close relative of [`retry`]{@link module:ControlFlow.retry}.  This method\n * wraps a task and makes it retryable, rather than immediately calling it\n * with retries.\n *\n * @name retryable\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.retry]{@link module:ControlFlow.retry}\n * @category Control Flow\n * @param {Object|number} [opts = {times: 5, interval: 0}| 5] - optional\n * options, exactly the same as from `retry`\n * @param {AsyncFunction} task - the asynchronous function to wrap.\n * This function will be passed any arguments passed to the returned wrapper.\n * Invoked with (...args, callback).\n * @returns {AsyncFunction} The wrapped function, which when invoked, will\n * retry on an error, based on the parameters specified in `opts`.\n * This function will accept the same parameters as `task`.\n * @example\n *\n * async.auto({\n *     dep1: async.retryable(3, getFromFlakyService),\n *     process: [\"dep1\", async.retryable(3, function (results, cb) {\n *         maybeProcessData(results.dep1, cb);\n *     })]\n * }, callback);\n */\nvar retryable = function (opts, task) {\n    if (!task) {\n        task = opts;\n        opts = null;\n    }\n    var _task = wrapAsync(task);\n    return initialParams(function (args, callback) {\n        function taskFn(cb) {\n            _task.apply(null, args.concat(cb));\n        }\n\n        if (opts) retry(opts, taskFn, callback);\n        else retry(taskFn, callback);\n\n    });\n};\n\n/**\n * Run the functions in the `tasks` collection in series, each one running once\n * the previous function has completed. If any functions in the series pass an\n * error to its callback, no more functions are run, and `callback` is\n * immediately called with the value of the error. Otherwise, `callback`\n * receives an array of results when `tasks` have completed.\n *\n * It is also possible to use an object instead of an array. Each property will\n * be run as a function, and the results will be passed to the final `callback`\n * as an object instead of an array. This can be a more readable way of handling\n *  results from {@link async.series}.\n *\n * **Note** that while many implementations preserve the order of object\n * properties, the [ECMAScript Language Specification](http://www.ecma-international.org/ecma-262/5.1/#sec-8.6)\n * explicitly states that\n *\n * > The mechanics and order of enumerating the properties is not specified.\n *\n * So if you rely on the order in which your series of functions are executed,\n * and want this to work on all platforms, consider using an array.\n *\n * @name series\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection containing\n * [async functions]{@link AsyncFunction} to run in series.\n * Each function can complete with any number of optional `result` values.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This function gets a results array (or object)\n * containing all the result arguments passed to the `task` callbacks. Invoked\n * with (err, result).\n * @example\n * async.series([\n *     function(callback) {\n *         // do some stuff ...\n *         callback(null, 'one');\n *     },\n *     function(callback) {\n *         // do some more stuff ...\n *         callback(null, 'two');\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     // results is now equal to ['one', 'two']\n * });\n *\n * async.series({\n *     one: function(callback) {\n *         setTimeout(function() {\n *             callback(null, 1);\n *         }, 200);\n *     },\n *     two: function(callback){\n *         setTimeout(function() {\n *             callback(null, 2);\n *         }, 100);\n *     }\n * }, function(err, results) {\n *     // results is now equal to: {one: 1, two: 2}\n * });\n */\nfunction series(tasks, callback) {\n    _parallel(eachOfSeries, tasks, callback);\n}\n\n/**\n * Returns `true` if at least one element in the `coll` satisfies an async test.\n * If any iteratee call returns `true`, the main `callback` is immediately\n * called.\n *\n * @name some\n * @static\n * @memberOf module:Collections\n * @method\n * @alias any\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n * @example\n *\n * async.some(['file1','file2','file3'], function(filePath, callback) {\n *     fs.access(filePath, function(err) {\n *         callback(null, !err)\n *     });\n * }, function(err, result) {\n *     // if result is true then at least one of the files exists\n * });\n */\nvar some = doParallel(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs a maximum of `limit` async operations at a time.\n *\n * @name someLimit\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anyLimit\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in parallel.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someLimit = doParallelLimit(_createTester(Boolean, identity));\n\n/**\n * The same as [`some`]{@link module:Collections.some} but runs only a single async operation at a time.\n *\n * @name someSeries\n * @static\n * @memberOf module:Collections\n * @method\n * @see [async.some]{@link module:Collections.some}\n * @alias anySeries\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async truth test to apply to each item\n * in the collections in series.\n * The iteratee should complete with a boolean `result` value.\n * Invoked with (item, callback).\n * @param {Function} [callback] - A callback which is called as soon as any\n * iteratee returns `true`, or after all the iteratee functions have finished.\n * Result will be either `true` or `false` depending on the values of the async\n * tests. Invoked with (err, result).\n */\nvar someSeries = doLimit(someLimit, 1);\n\n/**\n * Sorts a list by the results of running each `coll` value through an async\n * `iteratee`.\n *\n * @name sortBy\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {AsyncFunction} iteratee - An async function to apply to each item in\n * `coll`.\n * The iteratee should complete with a value to use as the sort criteria as\n * its `result`.\n * Invoked with (item, callback).\n * @param {Function} callback - A callback which is called after all the\n * `iteratee` functions have finished, or an error occurs. Results is the items\n * from the original `coll` sorted by the values returned by the `iteratee`\n * calls. Invoked with (err, results).\n * @example\n *\n * async.sortBy(['file1','file2','file3'], function(file, callback) {\n *     fs.stat(file, function(err, stats) {\n *         callback(err, stats.mtime);\n *     });\n * }, function(err, results) {\n *     // results is now the original array of files sorted by\n *     // modified date\n * });\n *\n * // By modifying the callback parameter the\n * // sorting order can be influenced:\n *\n * // ascending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x);\n * }, function(err,result) {\n *     // result callback\n * });\n *\n * // descending order\n * async.sortBy([1,9,3,5], function(x, callback) {\n *     callback(null, x*-1);    //<- x*-1 instead of x, turns the order around\n * }, function(err,result) {\n *     // result callback\n * });\n */\nfunction sortBy (coll, iteratee, callback) {\n    var _iteratee = wrapAsync(iteratee);\n    map(coll, function (x, callback) {\n        _iteratee(x, function (err, criteria) {\n            if (err) return callback(err);\n            callback(null, {value: x, criteria: criteria});\n        });\n    }, function (err, results) {\n        if (err) return callback(err);\n        callback(null, arrayMap(results.sort(comparator), baseProperty('value')));\n    });\n\n    function comparator(left, right) {\n        var a = left.criteria, b = right.criteria;\n        return a < b ? -1 : a > b ? 1 : 0;\n    }\n}\n\n/**\n * Sets a time limit on an asynchronous function. If the function does not call\n * its callback within the specified milliseconds, it will be called with a\n * timeout error. The code property for the error object will be `'ETIMEDOUT'`.\n *\n * @name timeout\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} asyncFn - The async function to limit in time.\n * @param {number} milliseconds - The specified time limit.\n * @param {*} [info] - Any variable you want attached (`string`, `object`, etc)\n * to timeout Error for more information..\n * @returns {AsyncFunction} Returns a wrapped function that can be used with any\n * of the control flow functions.\n * Invoke this function with the same parameters as you would `asyncFunc`.\n * @example\n *\n * function myFunction(foo, callback) {\n *     doAsyncTask(foo, function(err, data) {\n *         // handle errors\n *         if (err) return callback(err);\n *\n *         // do some stuff ...\n *\n *         // return processed data\n *         return callback(null, data);\n *     });\n * }\n *\n * var wrapped = async.timeout(myFunction, 1000);\n *\n * // call `wrapped` as you would `myFunction`\n * wrapped({ bar: 'bar' }, function(err, data) {\n *     // if `myFunction` takes < 1000 ms to execute, `err`\n *     // and `data` will have their expected values\n *\n *     // else `err` will be an Error with the code 'ETIMEDOUT'\n * });\n */\nfunction timeout(asyncFn, milliseconds, info) {\n    var fn = wrapAsync(asyncFn);\n\n    return initialParams(function (args, callback) {\n        var timedOut = false;\n        var timer;\n\n        function timeoutCallback() {\n            var name = asyncFn.name || 'anonymous';\n            var error  = new Error('Callback function \"' + name + '\" timed out.');\n            error.code = 'ETIMEDOUT';\n            if (info) {\n                error.info = info;\n            }\n            timedOut = true;\n            callback(error);\n        }\n\n        args.push(function () {\n            if (!timedOut) {\n                callback.apply(null, arguments);\n                clearTimeout(timer);\n            }\n        });\n\n        // setup timer and call original function\n        timer = setTimeout(timeoutCallback, milliseconds);\n        fn.apply(null, args);\n    });\n}\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\nvar nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs a maximum of `limit` async operations at a\n * time.\n *\n * @name timesLimit\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} count - The number of times to run the function.\n * @param {number} limit - The maximum number of async operations at a time.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see [async.map]{@link module:Collections.map}.\n */\nfunction timeLimit(count, limit, iteratee, callback) {\n    var _iteratee = wrapAsync(iteratee);\n    mapLimit(baseRange(0, count, 1), limit, _iteratee, callback);\n}\n\n/**\n * Calls the `iteratee` function `n` times, and accumulates results in the same\n * manner you would use with [map]{@link module:Collections.map}.\n *\n * @name times\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.map]{@link module:Collections.map}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n * @example\n *\n * // Pretend this is some complicated async factory\n * var createUser = function(id, callback) {\n *     callback(null, {\n *         id: 'user' + id\n *     });\n * };\n *\n * // generate 5 users\n * async.times(5, function(n, next) {\n *     createUser(n, function(err, user) {\n *         next(err, user);\n *     });\n * }, function(err, users) {\n *     // we should now have 5 users\n * });\n */\nvar times = doLimit(timeLimit, Infinity);\n\n/**\n * The same as [times]{@link module:ControlFlow.times} but runs only a single async operation at a time.\n *\n * @name timesSeries\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.times]{@link module:ControlFlow.times}\n * @category Control Flow\n * @param {number} n - The number of times to run the function.\n * @param {AsyncFunction} iteratee - The async function to call `n` times.\n * Invoked with the iteration index and a callback: (n, next).\n * @param {Function} callback - see {@link module:Collections.map}.\n */\nvar timesSeries = doLimit(timeLimit, 1);\n\n/**\n * A relative of `reduce`.  Takes an Object or Array, and iterates over each\n * element in series, each step potentially mutating an `accumulator` value.\n * The type of the accumulator defaults to the type of collection passed in.\n *\n * @name transform\n * @static\n * @memberOf module:Collections\n * @method\n * @category Collection\n * @param {Array|Iterable|Object} coll - A collection to iterate over.\n * @param {*} [accumulator] - The initial state of the transform.  If omitted,\n * it will default to an empty Object or Array, depending on the type of `coll`\n * @param {AsyncFunction} iteratee - A function applied to each item in the\n * collection that potentially modifies the accumulator.\n * Invoked with (accumulator, item, key, callback).\n * @param {Function} [callback] - A callback which is called after all the\n * `iteratee` functions have finished. Result is the transformed accumulator.\n * Invoked with (err, result).\n * @example\n *\n * async.transform([1,2,3], function(acc, item, index, callback) {\n *     // pointless async:\n *     process.nextTick(function() {\n *         acc.push(item * 2)\n *         callback(null)\n *     });\n * }, function(err, result) {\n *     // result is now equal to [2, 4, 6]\n * });\n *\n * @example\n *\n * async.transform({a: 1, b: 2, c: 3}, function (obj, val, key, callback) {\n *     setImmediate(function () {\n *         obj[key] = val * 2;\n *         callback();\n *     })\n * }, function (err, result) {\n *     // result is equal to {a: 2, b: 4, c: 6}\n * })\n */\nfunction transform (coll, accumulator, iteratee, callback) {\n    if (arguments.length <= 3) {\n        callback = iteratee;\n        iteratee = accumulator;\n        accumulator = isArray(coll) ? [] : {};\n    }\n    callback = once(callback || noop);\n    var _iteratee = wrapAsync(iteratee);\n\n    eachOf(coll, function(v, k, cb) {\n        _iteratee(accumulator, v, k, cb);\n    }, function(err) {\n        callback(err, accumulator);\n    });\n}\n\n/**\n * It runs each task in series but stops whenever any of the functions were\n * successful. If one of the tasks were successful, the `callback` will be\n * passed the result of the successful task. If all tasks fail, the callback\n * will be passed the error and result (if any) of the final attempt.\n *\n * @name tryEach\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array|Iterable|Object} tasks - A collection containing functions to\n * run, each function is passed a `callback(err, result)` it must call on\n * completion with an error `err` (which can be `null`) and an optional `result`\n * value.\n * @param {Function} [callback] - An optional callback which is called when one\n * of the tasks has succeeded, or all have failed. It receives the `err` and\n * `result` arguments of the last attempt at completing the `task`. Invoked with\n * (err, results).\n * @example\n * async.try([\n *     function getDataFromFirstWebsite(callback) {\n *         // Try getting the data from the first website\n *         callback(err, data);\n *     },\n *     function getDataFromSecondWebsite(callback) {\n *         // First website failed,\n *         // Try getting the data from the backup website\n *         callback(err, data);\n *     }\n * ],\n * // optional callback\n * function(err, results) {\n *     Now do something with the data.\n * });\n *\n */\nfunction tryEach(tasks, callback) {\n    var error = null;\n    var result;\n    callback = callback || noop;\n    eachSeries(tasks, function(task, callback) {\n        wrapAsync(task)(function (err, res/*, ...args*/) {\n            if (arguments.length > 2) {\n                result = slice(arguments, 1);\n            } else {\n                result = res;\n            }\n            error = err;\n            callback(!err);\n        });\n    }, function () {\n        callback(error, result);\n    });\n}\n\n/**\n * Undoes a [memoize]{@link module:Utils.memoize}d function, reverting it to the original,\n * unmemoized form. Handy for testing.\n *\n * @name unmemoize\n * @static\n * @memberOf module:Utils\n * @method\n * @see [async.memoize]{@link module:Utils.memoize}\n * @category Util\n * @param {AsyncFunction} fn - the memoized function\n * @returns {AsyncFunction} a function that calls the original unmemoized function\n */\nfunction unmemoize(fn) {\n    return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n    };\n}\n\n/**\n * Repeatedly call `iteratee`, while `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs.\n *\n * @name whilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n * @returns undefined\n * @example\n *\n * var count = 0;\n * async.whilst(\n *     function() { return count < 5; },\n *     function(callback) {\n *         count++;\n *         setTimeout(function() {\n *             callback(null, count);\n *         }, 1000);\n *     },\n *     function (err, n) {\n *         // 5 seconds have passed, n = 5\n *     }\n * );\n */\nfunction whilst(test, iteratee, callback) {\n    callback = onlyOnce(callback || noop);\n    var _iteratee = wrapAsync(iteratee);\n    if (!test()) return callback(null);\n    var next = function(err/*, ...args*/) {\n        if (err) return callback(err);\n        if (test()) return _iteratee(next);\n        var args = slice(arguments, 1);\n        callback.apply(null, [null].concat(args));\n    };\n    _iteratee(next);\n}\n\n/**\n * Repeatedly call `iteratee` until `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs. `callback` will be passed an error and any\n * arguments passed to the final `iteratee`'s callback.\n *\n * The inverse of [whilst]{@link module:ControlFlow.whilst}.\n *\n * @name until\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @see [async.whilst]{@link module:ControlFlow.whilst}\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` fails. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has passed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n */\nfunction until(test, iteratee, callback) {\n    whilst(function() {\n        return !test.apply(this, arguments);\n    }, iteratee, callback);\n}\n\n/**\n * Runs the `tasks` array of functions in series, each passing their results to\n * the next in the array. However, if any of the `tasks` pass an error to their\n * own callback, the next function is not executed, and the main `callback` is\n * immediately called with the error.\n *\n * @name waterfall\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Array} tasks - An array of [async functions]{@link AsyncFunction}\n * to run.\n * Each function should complete with any number of `result` values.\n * The `result` values will be passed as arguments, in order, to the next task.\n * @param {Function} [callback] - An optional callback to run once all the\n * functions have completed. This will be passed the results of the last task's\n * callback. Invoked with (err, [results]).\n * @returns undefined\n * @example\n *\n * async.waterfall([\n *     function(callback) {\n *         callback(null, 'one', 'two');\n *     },\n *     function(arg1, arg2, callback) {\n *         // arg1 now equals 'one' and arg2 now equals 'two'\n *         callback(null, 'three');\n *     },\n *     function(arg1, callback) {\n *         // arg1 now equals 'three'\n *         callback(null, 'done');\n *     }\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n *\n * // Or, with named functions:\n * async.waterfall([\n *     myFirstFunction,\n *     mySecondFunction,\n *     myLastFunction,\n * ], function (err, result) {\n *     // result now equals 'done'\n * });\n * function myFirstFunction(callback) {\n *     callback(null, 'one', 'two');\n * }\n * function mySecondFunction(arg1, arg2, callback) {\n *     // arg1 now equals 'one' and arg2 now equals 'two'\n *     callback(null, 'three');\n * }\n * function myLastFunction(arg1, callback) {\n *     // arg1 now equals 'three'\n *     callback(null, 'done');\n * }\n */\nvar waterfall = function(tasks, callback) {\n    callback = once(callback || noop);\n    if (!isArray(tasks)) return callback(new Error('First argument to waterfall must be an array of functions'));\n    if (!tasks.length) return callback();\n    var taskIndex = 0;\n\n    function nextTask(args) {\n        var task = wrapAsync(tasks[taskIndex++]);\n        args.push(onlyOnce(next));\n        task.apply(null, args);\n    }\n\n    function next(err/*, ...args*/) {\n        if (err || taskIndex === tasks.length) {\n            return callback.apply(null, arguments);\n        }\n        nextTask(slice(arguments, 1));\n    }\n\n    nextTask([]);\n};\n\n/**\n * An \"async function\" in the context of Async is an asynchronous function with\n * a variable number of parameters, with the final parameter being a callback.\n * (`function (arg1, arg2, ..., callback) {}`)\n * The final callback is of the form `callback(err, results...)`, which must be\n * called once the function is completed.  The callback should be called with a\n * Error as its first argument to signal that an error occurred.\n * Otherwise, if no error occurred, it should be called with `null` as the first\n * argument, and any additional `result` arguments that may apply, to signal\n * successful completion.\n * The callback must be called exactly once, ideally on a later tick of the\n * JavaScript event loop.\n *\n * This type of function is also referred to as a \"Node-style async function\",\n * or a \"continuation passing-style function\" (CPS). Most of the methods of this\n * library are themselves CPS/Node-style async functions, or functions that\n * return CPS/Node-style async functions.\n *\n * Wherever we accept a Node-style async function, we also directly accept an\n * [ES2017 `async` function]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function}.\n * In this case, the `async` function will not be passed a final callback\n * argument, and any thrown error will be used as the `err` argument of the\n * implicit callback, and the return value will be used as the `result` value.\n * (i.e. a `rejected` of the returned Promise becomes the `err` callback\n * argument, and a `resolved` value becomes the `result`.)\n *\n * Note, due to JavaScript limitations, we can only detect native `async`\n * functions and not transpilied implementations.\n * Your environment must have `async`/`await` support for this to work.\n * (e.g. Node > v7.6, or a recent version of a modern browser).\n * If you are using `async` functions through a transpiler (e.g. Babel), you\n * must still wrap the function with [asyncify]{@link module:Utils.asyncify},\n * because the `async function` will be compiled to an ordinary function that\n * returns a promise.\n *\n * @typedef {Function} AsyncFunction\n * @static\n */\n\n/**\n * Async is a utility module which provides straight-forward, powerful functions\n * for working with asynchronous JavaScript. Although originally designed for\n * use with [Node.js](http://nodejs.org) and installable via\n * `npm install --save async`, it can also be used directly in the browser.\n * @module async\n * @see AsyncFunction\n */\n\n\n/**\n * A collection of `async` functions for manipulating collections, such as\n * arrays and objects.\n * @module Collections\n */\n\n/**\n * A collection of `async` functions for controlling the flow through a script.\n * @module ControlFlow\n */\n\n/**\n * A collection of `async` utility functions.\n * @module Utils\n */\n\nvar index = {\n    applyEach: applyEach,\n    applyEachSeries: applyEachSeries,\n    apply: apply,\n    asyncify: asyncify,\n    auto: auto,\n    autoInject: autoInject,\n    cargo: cargo,\n    compose: compose,\n    concat: concat,\n    concatSeries: concatSeries,\n    constant: constant,\n    detect: detect,\n    detectLimit: detectLimit,\n    detectSeries: detectSeries,\n    dir: dir,\n    doDuring: doDuring,\n    doUntil: doUntil,\n    doWhilst: doWhilst,\n    during: during,\n    each: eachLimit,\n    eachLimit: eachLimit$1,\n    eachOf: eachOf,\n    eachOfLimit: eachOfLimit,\n    eachOfSeries: eachOfSeries,\n    eachSeries: eachSeries,\n    ensureAsync: ensureAsync,\n    every: every,\n    everyLimit: everyLimit,\n    everySeries: everySeries,\n    filter: filter,\n    filterLimit: filterLimit,\n    filterSeries: filterSeries,\n    forever: forever,\n    groupBy: groupBy,\n    groupByLimit: groupByLimit,\n    groupBySeries: groupBySeries,\n    log: log,\n    map: map,\n    mapLimit: mapLimit,\n    mapSeries: mapSeries,\n    mapValues: mapValues,\n    mapValuesLimit: mapValuesLimit,\n    mapValuesSeries: mapValuesSeries,\n    memoize: memoize,\n    nextTick: nextTick,\n    parallel: parallelLimit,\n    parallelLimit: parallelLimit$1,\n    priorityQueue: priorityQueue,\n    queue: queue$1,\n    race: race,\n    reduce: reduce,\n    reduceRight: reduceRight,\n    reflect: reflect,\n    reflectAll: reflectAll,\n    reject: reject,\n    rejectLimit: rejectLimit,\n    rejectSeries: rejectSeries,\n    retry: retry,\n    retryable: retryable,\n    seq: seq,\n    series: series,\n    setImmediate: setImmediate$1,\n    some: some,\n    someLimit: someLimit,\n    someSeries: someSeries,\n    sortBy: sortBy,\n    timeout: timeout,\n    times: times,\n    timesLimit: timeLimit,\n    timesSeries: timesSeries,\n    transform: transform,\n    tryEach: tryEach,\n    unmemoize: unmemoize,\n    until: until,\n    waterfall: waterfall,\n    whilst: whilst,\n\n    // aliases\n    all: every,\n    any: some,\n    forEach: eachLimit,\n    forEachSeries: eachSeries,\n    forEachLimit: eachLimit$1,\n    forEachOf: eachOf,\n    forEachOfSeries: eachOfSeries,\n    forEachOfLimit: eachOfLimit,\n    inject: reduce,\n    foldl: reduce,\n    foldr: reduceRight,\n    select: filter,\n    selectLimit: filterLimit,\n    selectSeries: filterSeries,\n    wrapSync: asyncify\n};\n\nexports['default'] = index;\nexports.applyEach = applyEach;\nexports.applyEachSeries = applyEachSeries;\nexports.apply = apply;\nexports.asyncify = asyncify;\nexports.auto = auto;\nexports.autoInject = autoInject;\nexports.cargo = cargo;\nexports.compose = compose;\nexports.concat = concat;\nexports.concatSeries = concatSeries;\nexports.constant = constant;\nexports.detect = detect;\nexports.detectLimit = detectLimit;\nexports.detectSeries = detectSeries;\nexports.dir = dir;\nexports.doDuring = doDuring;\nexports.doUntil = doUntil;\nexports.doWhilst = doWhilst;\nexports.during = during;\nexports.each = eachLimit;\nexports.eachLimit = eachLimit$1;\nexports.eachOf = eachOf;\nexports.eachOfLimit = eachOfLimit;\nexports.eachOfSeries = eachOfSeries;\nexports.eachSeries = eachSeries;\nexports.ensureAsync = ensureAsync;\nexports.every = every;\nexports.everyLimit = everyLimit;\nexports.everySeries = everySeries;\nexports.filter = filter;\nexports.filterLimit = filterLimit;\nexports.filterSeries = filterSeries;\nexports.forever = forever;\nexports.groupBy = groupBy;\nexports.groupByLimit = groupByLimit;\nexports.groupBySeries = groupBySeries;\nexports.log = log;\nexports.map = map;\nexports.mapLimit = mapLimit;\nexports.mapSeries = mapSeries;\nexports.mapValues = mapValues;\nexports.mapValuesLimit = mapValuesLimit;\nexports.mapValuesSeries = mapValuesSeries;\nexports.memoize = memoize;\nexports.nextTick = nextTick;\nexports.parallel = parallelLimit;\nexports.parallelLimit = parallelLimit$1;\nexports.priorityQueue = priorityQueue;\nexports.queue = queue$1;\nexports.race = race;\nexports.reduce = reduce;\nexports.reduceRight = reduceRight;\nexports.reflect = reflect;\nexports.reflectAll = reflectAll;\nexports.reject = reject;\nexports.rejectLimit = rejectLimit;\nexports.rejectSeries = rejectSeries;\nexports.retry = retry;\nexports.retryable = retryable;\nexports.seq = seq;\nexports.series = series;\nexports.setImmediate = setImmediate$1;\nexports.some = some;\nexports.someLimit = someLimit;\nexports.someSeries = someSeries;\nexports.sortBy = sortBy;\nexports.timeout = timeout;\nexports.times = times;\nexports.timesLimit = timeLimit;\nexports.timesSeries = timesSeries;\nexports.transform = transform;\nexports.tryEach = tryEach;\nexports.unmemoize = unmemoize;\nexports.until = until;\nexports.waterfall = waterfall;\nexports.whilst = whilst;\nexports.all = every;\nexports.allLimit = everyLimit;\nexports.allSeries = everySeries;\nexports.any = some;\nexports.anyLimit = someLimit;\nexports.anySeries = someSeries;\nexports.find = detect;\nexports.findLimit = detectLimit;\nexports.findSeries = detectSeries;\nexports.forEach = eachLimit;\nexports.forEachSeries = eachSeries;\nexports.forEachLimit = eachLimit$1;\nexports.forEachOf = eachOf;\nexports.forEachOfSeries = eachOfSeries;\nexports.forEachOfLimit = eachOfLimit;\nexports.inject = reduce;\nexports.foldl = reduce;\nexports.foldr = reduceRight;\nexports.select = filter;\nexports.selectLimit = filterLimit;\nexports.selectSeries = filterSeries;\nexports.wrapSync = asyncify;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/async/dist/async.js\n// module id = 9\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/async/dist/async.js","module.exports = require(\"child_process\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"child_process\"\n// module id = 11\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"child_process\"","/**\n * Created by jimsugg on 7/3/17.\n */\n\nimport * as fse from 'fs-extra';\nimport * as path from 'path';\nimport {\n  BsAssetItem, AssetLocation, AssetType, BscFileTypeInfo,\n  bscGenerateAssetLocator, bscGetBscFileTypeInfo,\n} from '@brightsign/bscore';\nimport {FsErrorType, FsError} from './error';\n\nexport function getLocalJsonFileAsObject(fullPath: string): Promise<object> {\n  if (!fse.existsSync(fullPath)) {\n    return Promise.reject(new FsError(FsErrorType.fileNotFoundError, fullPath));\n  }\n  return fse.readFile(fullPath, 'utf8')\n    .then((str) => JSON.parse(str));\n}\n\nexport function saveObjectAsLocalJsonFile(data: object, fullPath: string): Promise<void> {\n  const jsonString = JSON.stringify(data, null, 2);\n  return fse.writeFile(fullPath, jsonString);\n}\n\nexport function localFileExists(fullPath: string): boolean {\n  return fse.existsSync(fullPath);\n}\n\nexport function deleteFile(fullPath: string): Promise<void> {\n  return fse.unlink(fullPath);\n}\n\nexport function joinPath(dirPath: string, fileName: string) {\n  return path.join(dirPath, fileName);\n}\n\n/** @internal */\n/** @private */\nexport function getBscFileTypeInfo(name: string, stats: fse.Stats): BscFileTypeInfo {\n  return stats.isDirectory() ?\n    {assetType: AssetType.Folder} : bscGetBscFileTypeInfo(name);\n}\n\n/** @internal */\n/** @private */\nexport function getAssetItemFromFileStats(name: string, dirPath: string, stats: fse.Stats): BsAssetItem {\n  // Make sure path has trailing separator\n  if (dirPath.charAt(dirPath.length - 1) !== path.sep) {\n    dirPath = dirPath + path.sep;\n  }\n  const typeInfo = getBscFileTypeInfo(name, stats);\n  const assetItem: BsAssetItem = {\n    id: '',\n    name,\n    path: dirPath,\n    networkId: 0,\n    location: AssetLocation.Local,\n    locator: '',\n    assetType: typeInfo.assetType,\n    fileSize: stats.size,\n    lastModifiedDate: stats.mtime,\n    creationDate: stats.birthtime,\n  };\n  if (assetItem.assetType === AssetType.Content) {\n    assetItem.mediaType = typeInfo.mediaType;\n  }\n  assetItem.locator = bscGenerateAssetLocator(assetItem);\n  return assetItem;\n}\n\nexport function getAssetItemFromFile(fullPath: string): BsAssetItem | null {\n  try {\n    const stats = fse.statSync(fullPath);\n    return getAssetItemFromFileStats(path.basename(fullPath), path.dirname(fullPath), stats);\n  } catch (error) {\n    return null;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/fileOperations.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/fileOperations.ts","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/debug.js\n// module id = 13\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/debug/src/debug.js","/**\r\n * Extracts Agfa flavored Makernotes which are equal to those of Olympus.\r\n */\r\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\r\n\r\n  // List of vendor specific Makernote tags found on\r\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/Olympus.html\r\n  var tags = {\r\n\r\n    0x0000 : \"MakerNoteVersion\",\r\n    0x0001 : \"MinoltaCameraSettingsOld\",\r\n    0x0003 : \"MinoltaCameraSettings\",\r\n    0x0040 : \"CompressedImageSize\",\r\n    0x0081 : \"PreviewImageData\",\r\n    0x0088 : \"PreviewImageStart\",\r\n    0x0089 : \"PreviewImageLength\",\r\n    0x0100 : \"ThumbnailImage\",\r\n    0x0104 : \"BodyFirmwareVersion\",\r\n    0x0200 : \"SpecialMode\",\r\n    0x0201 : \"Quality\",\r\n    0x0202 : \"Macro\",\r\n    0x0203 : \"BWMode\",\r\n    0x0204 : \"DigitalZoom\",\r\n    0x0205 : \"FocalPlaneDiagonal\",\r\n    0x0206 : \"LensDistortionParams\",\r\n    0x0207 : \"CameraType\",\r\n    0x0208 : \"TextInfo\",\r\n    0x0209 : \"CameraID\",\r\n    0x020B : \"EpsonImageWidth\",\r\n    0x020C : \"EpsonImageHeight\",\r\n    0x020D : \"EpsonSoftware\",\r\n    0x0280 : \"PreviewImage\",\r\n    0x0300 : \"PreCaptureFrames\",\r\n    0x0301 : \"WhiteBoard\",\r\n    0x0302 : \"OneTouchWB\",\r\n    0x0303 : \"WhiteBalanceBracket\",\r\n    0x0304 : \"WhiteBalanceBias\",\r\n    0x0403 : \"SceneMode\",\r\n    0x0404 : \"SerialNumber\",\r\n    0x0405 : \"Firmware\",\r\n    0x0E00 : \"PrintIM\",\r\n    0x0F00 : \"DataDump\",\r\n    0x0F01 : \"DataDump2\",\r\n    0x0F04 : \"ZoomedPreviewStart\",\r\n    0x0F05 : \"ZoomedPreviewLength\",\r\n    0x0F06 : \"ZoomedPreviewSize\",\r\n    0x1000 : \"ShutterSpeedValue\",\r\n    0x1001 : \"ISOValue\",\r\n    0x1002 : \"ApertureValue\",\r\n    0x1003 : \"BrightnessValue\",\r\n    0x1004 : \"FlashMode\",\r\n    0x1005 : \"FlashDevice\",\r\n    0x1006 : \"ExposureCompensation\",\r\n    0x1007 : \"SensorTemperature\",\r\n    0x1008 : \"LensTemperature\",\r\n    0x1009 : \"LightCondition\",\r\n    0x100A : \"FocusRange\",\r\n    0x100B : \"FocusMode\",\r\n    0x100C : \"ManualFocusDistance\",\r\n    0x100D : \"ZoomStepCount\",\r\n    0x100E : \"FocusStepCount\",\r\n    0x100F : \"Sharpness\",\r\n    0x1010 : \"FlashChargeLevel\",\r\n    0x1011 : \"ColorMatrix\",\r\n    0x1012 : \"BlackLevel\",\r\n    0x1013 : \"ColorTemperatureBG?\",\r\n    0x1014 : \"ColorTemperatureRG?\",\r\n    0x1015 : \"WBMode\",\r\n    0x1017 : \"RedBalance\",\r\n    0x1018 : \"BlueBalance\",\r\n    0x1019 : \"ColorMatrixNumber\",\r\n    0x101A : \"SerialNumber\",\r\n    0x101B : \"ExternalFlashAE1_0?\",\r\n    0x101C : \"ExternalFlashAE2_0?\",\r\n    0x101D : \"InternalFlashAE1_0?\",\r\n    0x101E : \"InternalFlashAE2_0?\",\r\n    0x101F : \"ExternalFlashAE1?\",\r\n    0x1020 : \"ExternalFlashAE2?\",\r\n    0x1021 : \"InternalFlashAE1?\",\r\n    0x1022 : \"InternalFlashAE2?\",\r\n    0x1023 : \"FlashExposureComp\",\r\n    0x1024 : \"InternalFlashTable\",\r\n    0x1025 : \"ExternalFlashGValue\",\r\n    0x1026 : \"ExternalFlashBounce\",\r\n    0x1027 : \"ExternalFlashZoom\",\r\n    0x1028 : \"ExternalFlashMode\",\r\n    0x1029 : \"Contrast\",\r\n    0x102A : \"SharpnessFactor\",\r\n    0x102B : \"ColorControl\",\r\n    0x102C : \"ValidBits\",\r\n    0x102D : \"CoringFilter\",\r\n    0x102E : \"OlympusImageWidth\",\r\n    0x102F : \"OlympusImageHeight\",\r\n    0x1030 : \"SceneDetect\",\r\n    0x1031 : \"SceneArea?\",\r\n    0x1033 : \"SceneDetectData?\",\r\n    0x1034 : \"CompressionRatio\",\r\n    0x1035 : \"PreviewImageValid\",\r\n    0x1036 : \"PreviewImageStart\",\r\n    0x1037 : \"PreviewImageLength\",\r\n    0x1038 : \"AFResult\",\r\n    0x1039 : \"CCDScanMode\",\r\n    0x103A : \"NoiseReduction\",\r\n    0x103B : \"FocusStepInfinity\",\r\n    0x103C : \"FocusStepNear\",\r\n    0x103D : \"LightValueCenter\",\r\n    0x103E : \"LightValuePeriphery\",\r\n    0x103F : \"FieldCount?\",\r\n    0x2010 : \"Equipment\",\r\n    0x2020 : \"CameraSettings\",\r\n    0x2030 : \"RawDevelopment\",\r\n    0x2031 : \"RawDev2\",\r\n    0x2040 : \"ImageProcessing\",\r\n    0x2050 : \"FocusInfo\",\r\n    0x2100 : \"Olympus2100\",\r\n    0x2200 : \"Olympus2200\",\r\n    0x2300 : \"Olympus2300\",\r\n    0x2400 : \"Olympus2400\",\r\n    0x2500 : \"Olympus2500\",\r\n    0x2600 : \"Olympus2600\",\r\n    0x2700 : \"Olympus2700\",\r\n    0x2800 : \"Olympus2800\",\r\n    0x2900 : \"Olympus2900\",\r\n    0x3000 : \"RawInfo\",\r\n    0x4000 : \"MainInfo\",\r\n    0x5000 : \"UnknownInfo\"\r\n\r\n  };\r\n\r\n  // Agfa flavored Makernote data starts after eight bytes\r\n  var ifdOffset = makernoteOffset + 8;\r\n\r\n  // Get the number of entries and extract them\r\n  var numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n  if (this.options.agfaMaxEntries) {\r\n    numberOfEntries=Math.min(numberOfEntries, this.options.agfaMaxEntries);\r\n  }\r\n\r\n  var makernoteData = {};\r\n\r\n  for (var i = 0; i < numberOfEntries; i++) {\r\n    var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, tags);\r\n    if (exifEntry && exifEntry.tagName !== null) {\r\n      makernoteData[exifEntry.tagName] = exifEntry.value;\r\n    }\r\n  }\r\n\r\n  return makernoteData;\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/makernotes/agfa.js\n// module id = 14\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/exif/lib/exif/makernotes/agfa.js","/**\r\n * Extracts Epson flavored Makernotes which are equal to those of Olympus.\r\n */\r\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\r\n\r\n  // List of vendor specific Makernote tags found on\r\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/Olympus.html\r\n  var tags = {\r\n\r\n    0x0000 : \"MakerNoteVersion\",\r\n    0x0001 : \"MinoltaCameraSettingsOld\",\r\n    0x0003 : \"MinoltaCameraSettings\",\r\n    0x0040 : \"CompressedImageSize\",\r\n    0x0081 : \"PreviewImageData\",\r\n    0x0088 : \"PreviewImageStart\",\r\n    0x0089 : \"PreviewImageLength\",\r\n    0x0100 : \"ThumbnailImage\",\r\n    0x0104 : \"BodyFirmwareVersion\",\r\n    0x0200 : \"SpecialMode\",\r\n    0x0201 : \"Quality\",\r\n    0x0202 : \"Macro\",\r\n    0x0203 : \"BWMode\",\r\n    0x0204 : \"DigitalZoom\",\r\n    0x0205 : \"FocalPlaneDiagonal\",\r\n    0x0206 : \"LensDistortionParams\",\r\n    0x0207 : \"CameraType\",\r\n    0x0208 : \"TextInfo\",\r\n    0x0209 : \"CameraID\",\r\n    0x020B : \"EpsonImageWidth\",\r\n    0x020C : \"EpsonImageHeight\",\r\n    0x020D : \"EpsonSoftware\",\r\n    0x0280 : \"PreviewImage\",\r\n    0x0300 : \"PreCaptureFrames\",\r\n    0x0301 : \"WhiteBoard\",\r\n    0x0302 : \"OneTouchWB\",\r\n    0x0303 : \"WhiteBalanceBracket\",\r\n    0x0304 : \"WhiteBalanceBias\",\r\n    0x0403 : \"SceneMode\",\r\n    0x0404 : \"SerialNumber\",\r\n    0x0405 : \"Firmware\",\r\n    0x0E00 : \"PrintIM\",\r\n    0x0F00 : \"DataDump\",\r\n    0x0F01 : \"DataDump2\",\r\n    0x0F04 : \"ZoomedPreviewStart\",\r\n    0x0F05 : \"ZoomedPreviewLength\",\r\n    0x0F06 : \"ZoomedPreviewSize\",\r\n    0x1000 : \"ShutterSpeedValue\",\r\n    0x1001 : \"ISOValue\",\r\n    0x1002 : \"ApertureValue\",\r\n    0x1003 : \"BrightnessValue\",\r\n    0x1004 : \"FlashMode\",\r\n    0x1005 : \"FlashDevice\",\r\n    0x1006 : \"ExposureCompensation\",\r\n    0x1007 : \"SensorTemperature\",\r\n    0x1008 : \"LensTemperature\",\r\n    0x1009 : \"LightCondition\",\r\n    0x100A : \"FocusRange\",\r\n    0x100B : \"FocusMode\",\r\n    0x100C : \"ManualFocusDistance\",\r\n    0x100D : \"ZoomStepCount\",\r\n    0x100E : \"FocusStepCount\",\r\n    0x100F : \"Sharpness\",\r\n    0x1010 : \"FlashChargeLevel\",\r\n    0x1011 : \"ColorMatrix\",\r\n    0x1012 : \"BlackLevel\",\r\n    0x1013 : \"ColorTemperatureBG?\",\r\n    0x1014 : \"ColorTemperatureRG?\",\r\n    0x1015 : \"WBMode\",\r\n    0x1017 : \"RedBalance\",\r\n    0x1018 : \"BlueBalance\",\r\n    0x1019 : \"ColorMatrixNumber\",\r\n    0x101A : \"SerialNumber\",\r\n    0x101B : \"ExternalFlashAE1_0?\",\r\n    0x101C : \"ExternalFlashAE2_0?\",\r\n    0x101D : \"InternalFlashAE1_0?\",\r\n    0x101E : \"InternalFlashAE2_0?\",\r\n    0x101F : \"ExternalFlashAE1?\",\r\n    0x1020 : \"ExternalFlashAE2?\",\r\n    0x1021 : \"InternalFlashAE1?\",\r\n    0x1022 : \"InternalFlashAE2?\",\r\n    0x1023 : \"FlashExposureComp\",\r\n    0x1024 : \"InternalFlashTable\",\r\n    0x1025 : \"ExternalFlashGValue\",\r\n    0x1026 : \"ExternalFlashBounce\",\r\n    0x1027 : \"ExternalFlashZoom\",\r\n    0x1028 : \"ExternalFlashMode\",\r\n    0x1029 : \"Contrast\",\r\n    0x102A : \"SharpnessFactor\",\r\n    0x102B : \"ColorControl\",\r\n    0x102C : \"ValidBits\",\r\n    0x102D : \"CoringFilter\",\r\n    0x102E : \"OlympusImageWidth\",\r\n    0x102F : \"OlympusImageHeight\",\r\n    0x1030 : \"SceneDetect\",\r\n    0x1031 : \"SceneArea?\",\r\n    0x1033 : \"SceneDetectData?\",\r\n    0x1034 : \"CompressionRatio\",\r\n    0x1035 : \"PreviewImageValid\",\r\n    0x1036 : \"PreviewImageStart\",\r\n    0x1037 : \"PreviewImageLength\",\r\n    0x1038 : \"AFResult\",\r\n    0x1039 : \"CCDScanMode\",\r\n    0x103A : \"NoiseReduction\",\r\n    0x103B : \"FocusStepInfinity\",\r\n    0x103C : \"FocusStepNear\",\r\n    0x103D : \"LightValueCenter\",\r\n    0x103E : \"LightValuePeriphery\",\r\n    0x103F : \"FieldCount?\",\r\n    0x2010 : \"Equipment\",\r\n    0x2020 : \"CameraSettings\",\r\n    0x2030 : \"RawDevelopment\",\r\n    0x2031 : \"RawDev2\",\r\n    0x2040 : \"ImageProcessing\",\r\n    0x2050 : \"FocusInfo\",\r\n    0x2100 : \"Olympus2100\",\r\n    0x2200 : \"Olympus2200\",\r\n    0x2300 : \"Olympus2300\",\r\n    0x2400 : \"Olympus2400\",\r\n    0x2500 : \"Olympus2500\",\r\n    0x2600 : \"Olympus2600\",\r\n    0x2700 : \"Olympus2700\",\r\n    0x2800 : \"Olympus2800\",\r\n    0x2900 : \"Olympus2900\",\r\n    0x3000 : \"RawInfo\",\r\n    0x4000 : \"MainInfo\",\r\n    0x5000 : \"UnknownInfo\"\r\n\r\n  };\r\n\r\n  // Epson flavored Makernote data starts after eight bytes\r\n  var ifdOffset = makernoteOffset + 8;\r\n\r\n  // Get the number of entries and extract them\r\n  var numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n  if (this.options.epsonMaxEntries) {\r\n    numberOfEntries=Math.min(numberOfEntries, this.options.epsonMaxEntries);\r\n  }\r\n\r\n  var makernoteData = {};\r\n\r\n  for (var i = 0; i < numberOfEntries; i++) {\r\n    var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, tags);\r\n    if (exifEntry && exifEntry.tagName !== null) {\r\n      makernoteData[exifEntry.tagName] = exifEntry.value;\r\n    }\r\n  }\r\n\r\n  return makernoteData;\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/makernotes/epson.js\n// module id = 15\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/exif/lib/exif/makernotes/epson.js","/**\r\n * Extracts Fujifilm flavored Makernotes which are always stored in little\r\n * endian, no matter what the rest of the file is. Additionally the offsets\r\n * are relative to the start of the Makernote instead of the start of the\r\n * TIFF header.\r\n */\r\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\r\n\r\n  // List of vendor specific Makernote tags found on\r\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/FujiFilm.html\r\n  var tags = {\r\n    0x0000 : \"Version\",\r\n    0x0010 : \"InternalSerialNumber\",\r\n    0x1000 : \"Quality\",\r\n    0x1001 : \"Sharpness\",\r\n    0x1002 : \"WhiteBalance\",\r\n    0x1003 : \"Saturation\",\r\n    0x1004 : \"Contrast\",\r\n    0x1005 : \"ColorTemperature\",\r\n    0x1006 : \"Contrast\",\r\n    0x100a : \"WhiteBalanceFineTune\",\r\n    0x100b : \"NoiseReduction\",\r\n    0x100e : \"HighISONoiseReduction\",\r\n    0x1010 : \"FujiFlashMode\",\r\n    0x1011 : \"FlashExposureComp\",\r\n    0x1020 : \"Macro\",\r\n    0x1021 : \"FocusMode\",\r\n    0x1023 : \"FocusPixel\",\r\n    0x1030 : \"SlowSync\",\r\n    0x1033 : \"EXRAuto\",\r\n    0x1034 : \"EXRMode\",\r\n    0x1100 : \"AutoBracketing\",\r\n    0x1101 : \"SequenceNumber\",\r\n    0x1210 : \"ColorMode\",\r\n    0x1300 : \"BlurWarning\",\r\n    0x1301 : \"FocusWarning\",\r\n    0x1302 : \"ExposureWarning\",\r\n    0x1304 : \"GEImageSize\",\r\n    0x1400 : \"DynamicRange\",\r\n    0x1401 : \"FilmMode\",\r\n    0x1402 : \"DynamicRangeSetting\",\r\n    0x1403 : \"DevelopmentDynamicRange\",\r\n    0x1404 : \"MinFocalLength\",\r\n    0x1405 : \"MaxFocalLength\",\r\n    0x1406 : \"MaxApertureAtMinFocal\",\r\n    0x1407 : \"MaxApertureAtMaxFocal\",\r\n    0x140b : \"AutoDynamicRange\",\r\n    0x4100 : \"FacesDetected\",\r\n    0x4103 : \"FacePositions\",\r\n    0x4282 : \"FaceRecInfo\",\r\n    0x8000 : \"FileSource\",\r\n    0x8002 : \"OrderNumber\",\r\n    0x8003 : \"FrameNumber\",\r\n    0xb211 : \"Parallax\"\r\n\r\n  };\r\n\r\n  // Start of the Fujifilm flavored Makernote data is determined by the four\r\n  // bytes following the Makernote vendor name\r\n  var ifdOffset = makernoteOffset + data.getLong(makernoteOffset + 8, false, tiffOffset);\r\n\r\n  // Get the number of entries and extract them\r\n  var numberOfEntries = data.getShort(ifdOffset, false);\r\n  if (this.options.fujifilmMaxEntries) {\r\n    numberOfEntries=Math.min(numberOfEntries, this.options.fujifilmMaxEntries);\r\n  }\r\n\r\n  var makernoteData = {};\r\n\r\n  for (var i = 0; i < numberOfEntries; i++) {\r\n    var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), makernoteOffset, false, tags);\r\n    if (exifEntry && exifEntry.tagName !== null) makernoteData[exifEntry.tagName] = exifEntry.value;\r\n  }\r\n\r\n  return makernoteData;\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/makernotes/fujifilm.js\n// module id = 16\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/exif/lib/exif/makernotes/fujifilm.js","/**\r\n * Extracts Olympus flavored Makernotes.\r\n */\r\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\r\n\r\n  // List of vendor specific Makernote tags found on\r\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/Olympus.html\r\n  var tags = {\r\n\r\n    0x0000 : \"MakerNoteVersion\",\r\n    0x0001 : \"MinoltaCameraSettingsOld\",\r\n    0x0003 : \"MinoltaCameraSettings\",\r\n    0x0040 : \"CompressedImageSize\",\r\n    0x0081 : \"PreviewImageData\",\r\n    0x0088 : \"PreviewImageStart\",\r\n    0x0089 : \"PreviewImageLength\",\r\n    0x0100 : \"ThumbnailImage\",\r\n    0x0104 : \"BodyFirmwareVersion\",\r\n    0x0200 : \"SpecialMode\",\r\n    0x0201 : \"Quality\",\r\n    0x0202 : \"Macro\",\r\n    0x0203 : \"BWMode\",\r\n    0x0204 : \"DigitalZoom\",\r\n    0x0205 : \"FocalPlaneDiagonal\",\r\n    0x0206 : \"LensDistortionParams\",\r\n    0x0207 : \"CameraType\",\r\n    0x0208 : \"TextInfo\",\r\n    0x0209 : \"CameraID\",\r\n    0x020B : \"EpsonImageWidth\",\r\n    0x020C : \"EpsonImageHeight\",\r\n    0x020D : \"EpsonSoftware\",\r\n    0x0280 : \"PreviewImage\",\r\n    0x0300 : \"PreCaptureFrames\",\r\n    0x0301 : \"WhiteBoard\",\r\n    0x0302 : \"OneTouchWB\",\r\n    0x0303 : \"WhiteBalanceBracket\",\r\n    0x0304 : \"WhiteBalanceBias\",\r\n    0x0403 : \"SceneMode\",\r\n    0x0404 : \"SerialNumber\",\r\n    0x0405 : \"Firmware\",\r\n    0x0E00 : \"PrintIM\",\r\n    0x0F00 : \"DataDump\",\r\n    0x0F01 : \"DataDump2\",\r\n    0x0F04 : \"ZoomedPreviewStart\",\r\n    0x0F05 : \"ZoomedPreviewLength\",\r\n    0x0F06 : \"ZoomedPreviewSize\",\r\n    0x1000 : \"ShutterSpeedValue\",\r\n    0x1001 : \"ISOValue\",\r\n    0x1002 : \"ApertureValue\",\r\n    0x1003 : \"BrightnessValue\",\r\n    0x1004 : \"FlashMode\",\r\n    0x1005 : \"FlashDevice\",\r\n    0x1006 : \"ExposureCompensation\",\r\n    0x1007 : \"SensorTemperature\",\r\n    0x1008 : \"LensTemperature\",\r\n    0x1009 : \"LightCondition\",\r\n    0x100A : \"FocusRange\",\r\n    0x100B : \"FocusMode\",\r\n    0x100C : \"ManualFocusDistance\",\r\n    0x100D : \"ZoomStepCount\",\r\n    0x100E : \"FocusStepCount\",\r\n    0x100F : \"Sharpness\",\r\n    0x1010 : \"FlashChargeLevel\",\r\n    0x1011 : \"ColorMatrix\",\r\n    0x1012 : \"BlackLevel\",\r\n    0x1013 : \"ColorTemperatureBG?\",\r\n    0x1014 : \"ColorTemperatureRG?\",\r\n    0x1015 : \"WBMode\",\r\n    0x1017 : \"RedBalance\",\r\n    0x1018 : \"BlueBalance\",\r\n    0x1019 : \"ColorMatrixNumber\",\r\n    0x101A : \"SerialNumber\",\r\n    0x101B : \"ExternalFlashAE1_0?\",\r\n    0x101C : \"ExternalFlashAE2_0?\",\r\n    0x101D : \"InternalFlashAE1_0?\",\r\n    0x101E : \"InternalFlashAE2_0?\",\r\n    0x101F : \"ExternalFlashAE1?\",\r\n    0x1020 : \"ExternalFlashAE2?\",\r\n    0x1021 : \"InternalFlashAE1?\",\r\n    0x1022 : \"InternalFlashAE2?\",\r\n    0x1023 : \"FlashExposureComp\",\r\n    0x1024 : \"InternalFlashTable\",\r\n    0x1025 : \"ExternalFlashGValue\",\r\n    0x1026 : \"ExternalFlashBounce\",\r\n    0x1027 : \"ExternalFlashZoom\",\r\n    0x1028 : \"ExternalFlashMode\",\r\n    0x1029 : \"Contrast\",\r\n    0x102A : \"SharpnessFactor\",\r\n    0x102B : \"ColorControl\",\r\n    0x102C : \"ValidBits\",\r\n    0x102D : \"CoringFilter\",\r\n    0x102E : \"OlympusImageWidth\",\r\n    0x102F : \"OlympusImageHeight\",\r\n    0x1030 : \"SceneDetect\",\r\n    0x1031 : \"SceneArea?\",\r\n    0x1033 : \"SceneDetectData?\",\r\n    0x1034 : \"CompressionRatio\",\r\n    0x1035 : \"PreviewImageValid\",\r\n    0x1036 : \"PreviewImageStart\",\r\n    0x1037 : \"PreviewImageLength\",\r\n    0x1038 : \"AFResult\",\r\n    0x1039 : \"CCDScanMode\",\r\n    0x103A : \"NoiseReduction\",\r\n    0x103B : \"FocusStepInfinity\",\r\n    0x103C : \"FocusStepNear\",\r\n    0x103D : \"LightValueCenter\",\r\n    0x103E : \"LightValuePeriphery\",\r\n    0x103F : \"FieldCount?\",\r\n    0x2010 : \"Equipment\",\r\n    0x2020 : \"CameraSettings\",\r\n    0x2030 : \"RawDevelopment\",\r\n    0x2031 : \"RawDev2\",\r\n    0x2040 : \"ImageProcessing\",\r\n    0x2050 : \"FocusInfo\",\r\n    0x2100 : \"Olympus2100\",\r\n    0x2200 : \"Olympus2200\",\r\n    0x2300 : \"Olympus2300\",\r\n    0x2400 : \"Olympus2400\",\r\n    0x2500 : \"Olympus2500\",\r\n    0x2600 : \"Olympus2600\",\r\n    0x2700 : \"Olympus2700\",\r\n    0x2800 : \"Olympus2800\",\r\n    0x2900 : \"Olympus2900\",\r\n    0x3000 : \"RawInfo\",\r\n    0x4000 : \"MainInfo\",\r\n    0x5000 : \"UnknownInfo\"\r\n\r\n  };\r\n\r\n  // Olympus flavored Makernote data starts after eight bytes\r\n  var ifdOffset = makernoteOffset + 8;\r\n\r\n  // Get the number of entries and extract them\r\n  var numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n  if (this.options.olympusMaxEntries) {\r\n    numberOfEntries=Math.min(numberOfEntries, this.options.olympusMaxEntries);\r\n  }\r\n\r\n  var makernoteData = {};\r\n\r\n  for (var i = 0; i < numberOfEntries; i++) {\r\n    var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, tags);\r\n    if (exifEntry && exifEntry.tagName !== null) makernoteData[exifEntry.tagName] = exifEntry.value;\r\n  }\r\n\r\n  return makernoteData;\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/makernotes/olympus.js\n// module id = 17\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/exif/lib/exif/makernotes/olympus.js","/**\r\n * Extracts Panasonic flavored Makernotes.\r\n */\r\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\r\n\r\n  // List of vendor specific Makernote tags found on\r\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/Panasonic.html\r\n  var tags = {\r\n\r\n    0x0001 : \"ImageQuality\",\r\n    0x0002 : \"FirmwareVersion\",\r\n    0x0003 : \"WhiteBalance\",\r\n    0x0007 : \"FocusMode\",\r\n    0x000f : \"AFAreaMode\",\r\n    0x001a : \"ImageStabilization\",\r\n    0x001c : \"MacroMode\",\r\n    0x001f : \"ShootingMode\",\r\n    0x0020 : \"Audio\",\r\n    0x0021 : \"DataDump\",\r\n    0x0023 : \"WhiteBalanceBias\",\r\n    0x0024 : \"FlashBias\",\r\n    0x0025 : \"InternalSerialNumber\",\r\n    0x0026 : \"PanasonicExifVersion\",\r\n    0x0028 : \"ColorEffect\",\r\n    0x0029 : \"TimeSincePowerOn\",\r\n    0x002a : \"BurstMode\",\r\n    0x002b : \"SequenceNumber\",\r\n    0x002c : \"ContrastMode\",\r\n    0x002d : \"NoiseReduction\",\r\n    0x002e : \"SelfTimer\",\r\n    0x0030 : \"Rotation\",\r\n    0x0031 : \"AFAssistLamp\",\r\n    0x0032 : \"ColorMode\",\r\n    0x0033 : \"BabyAge\",\r\n    0x0034 : \"OpticalZoomMode\",\r\n    0x0035 : \"ConversionLens\",\r\n    0x0036 : \"TravelDay\",\r\n    0x0039 : \"Contrast\",\r\n    0x003a : \"WorldTimeLocation\",\r\n    0x003b : \"TextStamp\",\r\n    0x003c : \"ProgramISO\",\r\n    0x003d : \"AdvancedSceneType\",\r\n    0x003e : \"TextStamp\",\r\n    0x003f : \"FacesDetected\",\r\n    0x0040 : \"Saturation\",\r\n    0x0041 : \"Sharpness\",\r\n    0x0042 : \"FilmMode\",\r\n    0x0044 : \"ColorTempKelvin\",\r\n    0x0045 : \"BracketSettings\",\r\n    0x0046 : \"WBShiftAB\",\r\n    0x0047 : \"WBShiftGM\",\r\n    0x0048 : \"FlashCurtain\",\r\n    0x0049 : \"LongExposureNoiseReduction\",\r\n    0x004b : \"PanasonicImageWidth\",\r\n    0x004c : \"PanasonicImageHeight\",\r\n    0x004d : \"AFPointPosition\",\r\n    0x004e : \"FaceDetInfo\",\r\n    0x0051 : \"LensType\",\r\n    0x0052 : \"LensSerialNumber\",\r\n    0x0053 : \"AccessoryType\",\r\n    0x0054 : \"AccessorySerialNumber\",\r\n    0x0059 : \"Transform\",\r\n    0x005d : \"IntelligentExposure\",\r\n    0x0060 : \"LensFirmwareVersion\",\r\n    0x0061 : \"FaceRecInfo\",\r\n    0x0062 : \"FlashWarning\",\r\n    0x0063 : \"RecognizedFaceFlags?\",\r\n    0x0065 : \"Title\",\r\n    0x0066 : \"BabyName\",\r\n    0x0067 : \"Location\",\r\n    0x0069 : \"Country\",\r\n    0x006b : \"State\",\r\n    0x006d : \"City\",\r\n    0x006f : \"Landmark\",\r\n    0x0070 : \"IntelligentResolution\",\r\n    0x0077 : \"BurstSpeed\",\r\n    0x0079 : \"IntelligentD-Range\",\r\n    0x007c : \"ClearRetouch\",\r\n    0x0086 : \"ManometerPressure\",\r\n    0x0089 : \"PhotoStyle\",\r\n    0x008a : \"ShadingCompensation\",\r\n    0x008c : \"AccelerometerZ\",\r\n    0x008d : \"AccelerometerX\",\r\n    0x008e : \"AccelerometerY\",\r\n    0x008f : \"CameraOrientation\",\r\n    0x0090 : \"RollAngle\",\r\n    0x0091 : \"PitchAngle\",\r\n    0x0093 : \"SweepPanoramaDirection\",\r\n    0x0094 : \"SweepPanoramaFieldOfView\",\r\n    0x0096 : \"TimerRecording\",\r\n    0x009d : \"InternalNDFilter\",\r\n    0x009e : \"HDR\",\r\n    0x009f : \"ShutterType\",\r\n    0x00a3 : \"ClearRetouchValue\",\r\n    0x00ab : \"TouchAE\",\r\n    0x0e00 : \"PrintIM\",\r\n    0x8000 : \"MakerNoteVersion\",\r\n    0x8001 : \"SceneMode\",\r\n    0x8004 : \"WBRedLevel\",\r\n    0x8005 : \"WBGreenLevel\",\r\n    0x8006 : \"WBBlueLevel\",\r\n    0x8007 : \"FlashFired\",\r\n    0x8008 : \"TextStamp\",\r\n    0x8009 : \"TextStamp\",\r\n    0x8010 : \"BabyAge\",\r\n    0x8012 : \"Transform\"\r\n\r\n  };\r\n\r\n  // Panasonic flavored Makernote data starts after twelve bytes\r\n  var ifdOffset = makernoteOffset + 12;\r\n\r\n  // Get the number of entries and extract them\r\n  var numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n  if (this.options.panasonicMaxEntries) {\r\n    numberOfEntries=Math.min(numberOfEntries, this.options.panasonicMaxEntries);\r\n  }\r\n\r\n  var makernoteData = {};\r\n\r\n  for (var i = 0; i < numberOfEntries; i++) {\r\n    var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), makernoteOffset, false, tags);\r\n    if( ! exifEntry ) break; // stop if exifEntry starts to return false, prevents a process out of memory\r\n    if (exifEntry && exifEntry.tagName) {\r\n      makernoteData[exifEntry.tagName] = exifEntry.value;\r\n    }\r\n  }\r\n\r\n  return makernoteData;\r\n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/makernotes/panasonic.js\n// module id = 18\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/exif/lib/exif/makernotes/panasonic.js","/**\r\n * Extracts Sanyo flavored Makernotes.\r\n */\r\nexports.extractMakernotes = function (data, makernoteOffset, tiffOffset) {\r\n\r\n  // List of vendor specific Makernote tags found on\r\n  // http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/Sanyo.html\r\n  var tags = {\r\n\r\n    0x00FF : \"MakerNoteOffset\",\r\n    0x0100 : \"SanyoThumbnail\",\r\n    0x0200 : \"SpecialMode\",\r\n    0x0201 : \"SanyoQuality\",\r\n    0x0202 : \"Macro\",\r\n    0x0204 : \"DigitalZoom\",\r\n    0x0207 : \"SoftwareVersion\",\r\n    0x0208 : \"PictInfo\",\r\n    0x0209 : \"CameraID\",\r\n    0x020E : \"SequentialShot\",\r\n    0x020F : \"WideRange\",\r\n    0x0210 : \"ColorAdjustmentMode\",\r\n    0x0213 : \"QuickShot\",\r\n    0x0214 : \"SelfTimer\",\r\n    0x0216 : \"VoiceMemo\",\r\n    0x0217 : \"RecordShutterRelease\",\r\n    0x0218 : \"FlickerReduce\",\r\n    0x0219 : \"OpticalZoomOn\",\r\n    0x021B : \"DigitalZoomOn\",\r\n    0x021D : \"LightSourceSpecial\",\r\n    0x021E : \"Resaved\",\r\n    0x021F : \"SceneSelect\",\r\n    0x0223 : function (entry) {\r\n\r\n      switch (entry.format) {\r\n        case 0x0005:\r\n          return \"ManualFocusDistance\";\r\n        case 0x0007:\r\n          return \"FaceInfo\";\r\n        default:\r\n          return false;\r\n      }\r\n\r\n    },\r\n    0x0224 : \"SequenceShotInterval\",\r\n    0x0225 : \"FlashMode\",\r\n    0x0E00 : \"PrintIM\",\r\n    0x0F00 : \"DataDump\"\r\n\r\n  };\r\n\r\n  // Sanyo flavored Makernote data starts after eight bytes\r\n  var ifdOffset = makernoteOffset + 8;\r\n\r\n  // Get the number of entries and extract them\r\n  var numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n  if (this.options.sanyoMaxEntries) {\r\n    numberOfEntries=Math.min(numberOfEntries, this.options.sanyoMaxEntries);\r\n  }\r\n\r\n  var makernoteData = {};\r\n\r\n  for (var i = 0; i < numberOfEntries; i++) {\r\n    var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, tags);\r\n    if (exifEntry && exifEntry.tagName) {\r\n      makernoteData[exifEntry.tagName] = exifEntry.value;\r\n    }\r\n  }\r\n\r\n  return makernoteData;\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/makernotes/sanyo.js\n// module id = 19\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/exif/lib/exif/makernotes/sanyo.js","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/get-stream/~/object-assign/index.js\n// module id = 20\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/get-stream/~/object-assign/index.js","var encode = require('./lib/encoder'),\n    decode = require('./lib/decoder');\n\nmodule.exports = {\n  encode: encode,\n  decode: decode\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jpeg-js/index.js\n// module id = 21\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/jpeg-js/index.js","'use strict';\nconst PNG = require('pngjs').PNG;\n\nmodule.exports = (buf, opts) => {\n\tif (!Buffer.isBuffer(buf)) {\n\t\treturn Promise.reject(new TypeError('Expected a buffer'));\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet png = new PNG(opts);\n\n\t\tpng.on('metadata', data => {\n\t\t\tpng = Object.assign(png, data);\n\t\t});\n\n\t\tpng.on('error', reject);\n\t\tpng.on('parsed', () => resolve(png));\n\n\t\tpng.end(buf);\n\t});\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/parse-png/index.js\n// module id = 22\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/parse-png/index.js","'use strict';\n\nvar interlaceUtils = require('./interlace');\n\nvar pixelBppMap = {\n  1: { // L\n    0: 0,\n    1: 0,\n    2: 0,\n    3: 0xff\n  },\n  2: { // LA\n    0: 0,\n    1: 0,\n    2: 0,\n    3: 1\n  },\n  3: { // RGB\n    0: 0,\n    1: 1,\n    2: 2,\n    3: 0xff\n  },\n  4: { // RGBA\n    0: 0,\n    1: 1,\n    2: 2,\n    3: 3\n  }\n};\n\nfunction bitRetriever(data, depth) {\n\n  var leftOver = [];\n  var i = 0;\n\n  function split() {\n    if (i === data.length) {\n      throw new Error('Ran out of data');\n    }\n    var byte = data[i];\n    i++;\n    var byte8, byte7, byte6, byte5, byte4, byte3, byte2, byte1;\n    switch (depth) {\n      default:\n        throw new Error('unrecognised depth');\n      case 16:\n        byte2 = data[i];\n        i++;\n        leftOver.push(((byte << 8) + byte2));\n        break;\n      case 4:\n        byte2 = byte & 0x0f;\n        byte1 = byte >> 4;\n        leftOver.push(byte1, byte2);\n        break;\n      case 2:\n        byte4 = byte & 3;\n        byte3 = byte >> 2 & 3;\n        byte2 = byte >> 4 & 3;\n        byte1 = byte >> 6 & 3;\n        leftOver.push(byte1, byte2, byte3, byte4);\n        break;\n      case 1:\n        byte8 = byte & 1;\n        byte7 = byte >> 1 & 1;\n        byte6 = byte >> 2 & 1;\n        byte5 = byte >> 3 & 1;\n        byte4 = byte >> 4 & 1;\n        byte3 = byte >> 5 & 1;\n        byte2 = byte >> 6 & 1;\n        byte1 = byte >> 7 & 1;\n        leftOver.push(byte1, byte2, byte3, byte4, byte5, byte6, byte7, byte8);\n        break;\n    }\n  }\n\n  return {\n    get: function(count) {\n      while (leftOver.length < count) {\n        split();\n      }\n      var returner = leftOver.slice(0, count);\n      leftOver = leftOver.slice(count);\n      return returner;\n    },\n    resetAfterLine: function() {\n      leftOver.length = 0;\n    },\n    end: function() {\n      if (i !== data.length) {\n        throw new Error('extra data found');\n      }\n    }\n  };\n}\n\nfunction mapImage8Bit(image, pxData, getPxPos, bpp, data, rawPos) { // eslint-disable-line max-params\n  var imageWidth = image.width;\n  var imageHeight = image.height;\n  var imagePass = image.index;\n  for (var y = 0; y < imageHeight; y++) {\n    for (var x = 0; x < imageWidth; x++) {\n      var pxPos = getPxPos(x, y, imagePass);\n\n      for (var i = 0; i < 4; i++) {\n        var idx = pixelBppMap[bpp][i];\n        if (idx === 0xff) {\n          pxData[pxPos + i] = 0xff;\n        } else {\n          var dataPos = idx + rawPos;\n          if (dataPos === data.length) {\n            throw new Error('Ran out of data');\n          }\n          pxData[pxPos + i] = data[dataPos];\n        }\n      }\n      rawPos += bpp; //eslint-disable-line no-param-reassign\n    }\n  }\n  return rawPos;\n}\n\nfunction mapImageCustomBit(image, pxData, getPxPos, bpp, bits, maxBit) { // eslint-disable-line max-params\n  var imageWidth = image.width;\n  var imageHeight = image.height;\n  var imagePass = image.index;\n  for (var y = 0; y < imageHeight; y++) {\n    for (var x = 0; x < imageWidth; x++) {\n      var pixelData = bits.get(bpp);\n      var pxPos = getPxPos(x, y, imagePass);\n\n      for (var i = 0; i < 4; i++) {\n        var idx = pixelBppMap[bpp][i];\n        pxData[pxPos + i] = idx !== 0xff ? pixelData[idx] : maxBit;\n      }\n    }\n    bits.resetAfterLine();\n  }\n}\n\nexports.dataToBitMap = function(data, bitmapInfo) {\n\n  var width = bitmapInfo.width;\n  var height = bitmapInfo.height;\n  var depth = bitmapInfo.depth;\n  var bpp = bitmapInfo.bpp;\n  var interlace = bitmapInfo.interlace;\n\n  if (depth !== 8) {\n    var bits = bitRetriever(data, depth);\n  }\n  var pxData;\n  if (depth <= 8) {\n    pxData = new Buffer(width * height * 4);\n  }\n  else {\n    pxData = new Uint16Array(width * height * 4);\n  }\n  var maxBit = Math.pow(2, depth) - 1;\n  var rawPos = 0;\n  var images;\n  var getPxPos;\n\n  if (interlace) {\n    images = interlaceUtils.getImagePasses(width, height);\n    getPxPos = interlaceUtils.getInterlaceIterator(width, height);\n  }\n  else {\n    var nonInterlacedPxPos = 0;\n    getPxPos = function() {\n      var returner = nonInterlacedPxPos;\n      nonInterlacedPxPos += 4;\n      return returner;\n    };\n    images = [{ width: width, height: height }];\n  }\n\n  for (var imageIndex = 0; imageIndex < images.length; imageIndex++) {\n    if (depth === 8) {\n      rawPos = mapImage8Bit(images[imageIndex], pxData, getPxPos, bpp, data, rawPos);\n    }\n    else {\n      mapImageCustomBit(images[imageIndex], pxData, getPxPos, bpp, bits, maxBit);\n    }\n  }\n  if (depth === 8) {\n    if (rawPos !== data.length) {\n      throw new Error('extra data found');\n    }\n  }\n  else {\n    bits.end();\n  }\n\n  return pxData;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/bitmapper.js\n// module id = 23\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/bitmapper.js","'use strict';\n\n\nvar util = require('util');\nvar Stream = require('stream');\n\n\nvar ChunkStream = module.exports = function() {\n  Stream.call(this);\n\n  this._buffers = [];\n  this._buffered = 0;\n\n  this._reads = [];\n  this._paused = false;\n\n  this._encoding = 'utf8';\n  this.writable = true;\n};\nutil.inherits(ChunkStream, Stream);\n\n\nChunkStream.prototype.read = function(length, callback) {\n\n  this._reads.push({\n    length: Math.abs(length),  // if length < 0 then at most this length\n    allowLess: length < 0,\n    func: callback\n  });\n\n  process.nextTick(function() {\n    this._process();\n\n    // its paused and there is not enought data then ask for more\n    if (this._paused && this._reads.length > 0) {\n      this._paused = false;\n\n      this.emit('drain');\n    }\n  }.bind(this));\n};\n\nChunkStream.prototype.write = function(data, encoding) {\n\n  if (!this.writable) {\n    this.emit('error', new Error('Stream not writable'));\n    return false;\n  }\n\n  var dataBuffer;\n  if (Buffer.isBuffer(data)) {\n    dataBuffer = data;\n  }\n  else {\n    dataBuffer = new Buffer(data, encoding || this._encoding);\n  }\n\n  this._buffers.push(dataBuffer);\n  this._buffered += dataBuffer.length;\n\n  this._process();\n\n  // ok if there are no more read requests\n  if (this._reads && this._reads.length === 0) {\n    this._paused = true;\n  }\n\n  return this.writable && !this._paused;\n};\n\nChunkStream.prototype.end = function(data, encoding) {\n\n  if (data) {\n    this.write(data, encoding);\n  }\n\n  this.writable = false;\n\n  // already destroyed\n  if (!this._buffers) {\n    return;\n  }\n\n  // enqueue or handle end\n  if (this._buffers.length === 0) {\n    this._end();\n  }\n  else {\n    this._buffers.push(null);\n    this._process();\n  }\n};\n\nChunkStream.prototype.destroySoon = ChunkStream.prototype.end;\n\nChunkStream.prototype._end = function() {\n\n  if (this._reads.length > 0) {\n    this.emit('error',\n      new Error('There are some read requests waiting on finished stream')\n    );\n  }\n\n  this.destroy();\n};\n\nChunkStream.prototype.destroy = function() {\n\n  if (!this._buffers) {\n    return;\n  }\n\n  this.writable = false;\n  this._reads = null;\n  this._buffers = null;\n\n  this.emit('close');\n};\n\nChunkStream.prototype._processReadAllowingLess = function(read) {\n  // ok there is any data so that we can satisfy this request\n  this._reads.shift(); // == read\n\n  // first we need to peek into first buffer\n  var smallerBuf = this._buffers[0];\n\n  // ok there is more data than we need\n  if (smallerBuf.length > read.length) {\n\n    this._buffered -= read.length;\n    this._buffers[0] = smallerBuf.slice(read.length);\n\n    read.func.call(this, smallerBuf.slice(0, read.length));\n\n  }\n  else {\n    // ok this is less than maximum length so use it all\n    this._buffered -= smallerBuf.length;\n    this._buffers.shift(); // == smallerBuf\n\n    read.func.call(this, smallerBuf);\n  }\n};\n\nChunkStream.prototype._processRead = function(read) {\n  this._reads.shift(); // == read\n\n  var pos = 0;\n  var count = 0;\n  var data = new Buffer(read.length);\n\n  // create buffer for all data\n  while (pos < read.length) {\n\n    var buf = this._buffers[count++];\n    var len = Math.min(buf.length, read.length - pos);\n\n    buf.copy(data, pos, 0, len);\n    pos += len;\n\n    // last buffer wasn't used all so just slice it and leave\n    if (len !== buf.length) {\n      this._buffers[--count] = buf.slice(len);\n    }\n  }\n\n  // remove all used buffers\n  if (count > 0) {\n    this._buffers.splice(0, count);\n  }\n\n  this._buffered -= read.length;\n\n  read.func.call(this, data);\n};\n\nChunkStream.prototype._process = function() {\n\n  try {\n    // as long as there is any data and read requests\n    while (this._buffered > 0 && this._reads && this._reads.length > 0) {\n\n      var read = this._reads[0];\n\n      // read any data (but no more than length)\n      if (read.allowLess) {\n        this._processReadAllowingLess(read);\n\n      }\n      else if (this._buffered >= read.length) {\n        // ok we can meet some expectations\n\n        this._processRead(read);\n      }\n      else {\n        // not enought data to satisfy first request in queue\n        // so we need to wait for more\n        break;\n      }\n    }\n\n    if (this._buffers && this._buffers.length > 0 && this._buffers[0] === null) {\n      this._end();\n    }\n  }\n  catch (ex) {\n    this.emit('error', ex);\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/chunkstream.js\n// module id = 24\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/chunkstream.js","'use strict';\n\nvar crcTable = [];\n\n(function() {\n  for (var i = 0; i < 256; i++) {\n    var currentCrc = i;\n    for (var j = 0; j < 8; j++) {\n      if (currentCrc & 1) {\n        currentCrc = 0xedb88320 ^ (currentCrc >>> 1);\n      }\n      else {\n        currentCrc = currentCrc >>> 1;\n      }\n    }\n    crcTable[i] = currentCrc;\n  }\n}());\n\nvar CrcCalculator = module.exports = function() {\n  this._crc = -1;\n};\n\nCrcCalculator.prototype.write = function(data) {\n\n  for (var i = 0; i < data.length; i++) {\n    this._crc = crcTable[(this._crc ^ data[i]) & 0xff] ^ (this._crc >>> 8);\n  }\n  return true;\n};\n\nCrcCalculator.prototype.crc32 = function() {\n  return this._crc ^ -1;\n};\n\n\nCrcCalculator.crc32 = function(buf) {\n\n  var crc = -1;\n  for (var i = 0; i < buf.length; i++) {\n    crc = crcTable[(crc ^ buf[i]) & 0xff] ^ (crc >>> 8);\n  }\n  return crc ^ -1;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/crc.js\n// module id = 25\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/crc.js","'use strict';\n\nvar interlaceUtils = require('./interlace');\nvar paethPredictor = require('./paeth-predictor');\n\nfunction getByteWidth(width, bpp, depth) {\n  var byteWidth = width * bpp;\n  if (depth !== 8) {\n    byteWidth = Math.ceil(byteWidth / (8 / depth));\n  }\n  return byteWidth;\n}\n\nvar Filter = module.exports = function(bitmapInfo, dependencies) {\n\n  var width = bitmapInfo.width;\n  var height = bitmapInfo.height;\n  var interlace = bitmapInfo.interlace;\n  var bpp = bitmapInfo.bpp;\n  var depth = bitmapInfo.depth;\n\n  this.read = dependencies.read;\n  this.write = dependencies.write;\n  this.complete = dependencies.complete;\n\n  this._imageIndex = 0;\n  this._images = [];\n  if (interlace) {\n    var passes = interlaceUtils.getImagePasses(width, height);\n    for (var i = 0; i < passes.length; i++) {\n      this._images.push({\n        byteWidth: getByteWidth(passes[i].width, bpp, depth),\n        height: passes[i].height,\n        lineIndex: 0\n      });\n    }\n  }\n  else {\n    this._images.push({\n      byteWidth: getByteWidth(width, bpp, depth),\n      height: height,\n      lineIndex: 0\n    });\n  }\n\n  // when filtering the line we look at the pixel to the left\n  // the spec also says it is done on a byte level regardless of the number of pixels\n  // so if the depth is byte compatible (8 or 16) we subtract the bpp in order to compare back\n  // a pixel rather than just a different byte part. However if we are sub byte, we ignore.\n  if (depth === 8) {\n    this._xComparison = bpp;\n  }\n  else if (depth === 16) {\n    this._xComparison = bpp * 2;\n  }\n  else {\n    this._xComparison = 1;\n  }\n};\n\nFilter.prototype.start = function() {\n  this.read(this._images[this._imageIndex].byteWidth + 1, this._reverseFilterLine.bind(this));\n};\n\nFilter.prototype._unFilterType1 = function(rawData, unfilteredLine, byteWidth) {\n\n  var xComparison = this._xComparison;\n  var xBiggerThan = xComparison - 1;\n\n  for (var x = 0; x < byteWidth; x++) {\n    var rawByte = rawData[1 + x];\n    var f1Left = x > xBiggerThan ? unfilteredLine[x - xComparison] : 0;\n    unfilteredLine[x] = rawByte + f1Left;\n  }\n};\n\nFilter.prototype._unFilterType2 = function(rawData, unfilteredLine, byteWidth) {\n\n  var lastLine = this._lastLine;\n\n  for (var x = 0; x < byteWidth; x++) {\n    var rawByte = rawData[1 + x];\n    var f2Up = lastLine ? lastLine[x] : 0;\n    unfilteredLine[x] = rawByte + f2Up;\n  }\n};\n\nFilter.prototype._unFilterType3 = function(rawData, unfilteredLine, byteWidth) {\n\n  var xComparison = this._xComparison;\n  var xBiggerThan = xComparison - 1;\n  var lastLine = this._lastLine;\n\n  for (var x = 0; x < byteWidth; x++) {\n    var rawByte = rawData[1 + x];\n    var f3Up = lastLine ? lastLine[x] : 0;\n    var f3Left = x > xBiggerThan ? unfilteredLine[x - xComparison] : 0;\n    var f3Add = Math.floor((f3Left + f3Up) / 2);\n    unfilteredLine[x] = rawByte + f3Add;\n  }\n};\n\nFilter.prototype._unFilterType4 = function(rawData, unfilteredLine, byteWidth) {\n\n  var xComparison = this._xComparison;\n  var xBiggerThan = xComparison - 1;\n  var lastLine = this._lastLine;\n\n  for (var x = 0; x < byteWidth; x++) {\n    var rawByte = rawData[1 + x];\n    var f4Up = lastLine ? lastLine[x] : 0;\n    var f4Left = x > xBiggerThan ? unfilteredLine[x - xComparison] : 0;\n    var f4UpLeft = x > xBiggerThan && lastLine ? lastLine[x - xComparison] : 0;\n    var f4Add = paethPredictor(f4Left, f4Up, f4UpLeft);\n    unfilteredLine[x] = rawByte + f4Add;\n  }\n};\n\nFilter.prototype._reverseFilterLine = function(rawData) {\n\n  var filter = rawData[0];\n  var unfilteredLine;\n  var currentImage = this._images[this._imageIndex];\n  var byteWidth = currentImage.byteWidth;\n\n  if (filter === 0) {\n    unfilteredLine = rawData.slice(1, byteWidth + 1);\n  }\n  else {\n\n    unfilteredLine = new Buffer(byteWidth);\n\n    switch (filter) {\n      case 1:\n        this._unFilterType1(rawData, unfilteredLine, byteWidth);\n        break;\n      case 2:\n        this._unFilterType2(rawData, unfilteredLine, byteWidth);\n        break;\n      case 3:\n        this._unFilterType3(rawData, unfilteredLine, byteWidth);\n        break;\n      case 4:\n        this._unFilterType4(rawData, unfilteredLine, byteWidth);\n        break;\n      default:\n        throw new Error('Unrecognised filter type - ' + filter);\n    }\n  }\n\n  this.write(unfilteredLine);\n\n  currentImage.lineIndex++;\n  if (currentImage.lineIndex >= currentImage.height) {\n    this._lastLine = null;\n    this._imageIndex++;\n    currentImage = this._images[this._imageIndex];\n  }\n  else {\n    this._lastLine = unfilteredLine;\n  }\n\n  if (currentImage) {\n    // read, using the byte width that may be from the new current image\n    this.read(currentImage.byteWidth + 1, this._reverseFilterLine.bind(this));\n  }\n  else {\n    this._lastLine = null;\n    this.complete();\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/filter-parse.js\n// module id = 26\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/filter-parse.js","'use strict';\n\nfunction dePalette(indata, outdata, width, height, palette) {\n  var pxPos = 0;\n  // use values from palette\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      var color = palette[indata[pxPos]];\n\n      if (!color) {\n        throw new Error('index ' + indata[pxPos] + ' not in palette');\n      }\n\n      for (var i = 0; i < 4; i++) {\n        outdata[pxPos + i] = color[i];\n      }\n      pxPos += 4;\n    }\n  }\n}\n\nfunction replaceTransparentColor(indata, outdata, width, height, transColor) {\n  var pxPos = 0;\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      var makeTrans = false;\n\n      if (transColor.length === 1) {\n        if (transColor[0] === indata[pxPos]) {\n          makeTrans = true;\n        }\n      }\n      else if (transColor[0] === indata[pxPos] && transColor[1] === indata[pxPos + 1] && transColor[2] === indata[pxPos + 2]) {\n        makeTrans = true;\n      }\n      if (makeTrans) {\n        for (var i = 0; i < 4; i++) {\n          outdata[pxPos + i] = 0;\n        }\n      }\n      pxPos += 4;\n    }\n  }\n}\n\nfunction scaleDepth(indata, outdata, width, height, depth) {\n  var maxOutSample = 255;\n  var maxInSample = Math.pow(2, depth) - 1;\n  var pxPos = 0;\n\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      for (var i = 0; i < 4; i++) {\n        outdata[pxPos + i] = Math.floor((indata[pxPos + i] * maxOutSample) / maxInSample + 0.5);\n      }\n      pxPos += 4;\n    }\n  }\n}\n\nmodule.exports = function(indata, imageData) {\n\n  var depth = imageData.depth;\n  var width = imageData.width;\n  var height = imageData.height;\n  var colorType = imageData.colorType;\n  var transColor = imageData.transColor;\n  var palette = imageData.palette;\n\n  var outdata = indata; // only different for 16 bits\n\n  if (colorType === 3) { // paletted\n    dePalette(indata, outdata, width, height, palette);\n  }\n  else {\n    if (transColor) {\n      replaceTransparentColor(indata, outdata, width, height, transColor);\n    }\n    // if it needs scaling\n    if (depth !== 8) {\n      // if we need to change the buffer size\n      if (depth === 16) {\n        outdata = new Buffer(width * height * 4);\n      }\n      scaleDepth(indata, outdata, width, height, depth);\n    }\n  }\n  return outdata;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/format-normaliser.js\n// module id = 27\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/format-normaliser.js","'use strict';\n\n// Adam 7\n//   0 1 2 3 4 5 6 7\n// 0 x 6 4 6 x 6 4 6\n// 1 7 7 7 7 7 7 7 7\n// 2 5 6 5 6 5 6 5 6\n// 3 7 7 7 7 7 7 7 7\n// 4 3 6 4 6 3 6 4 6\n// 5 7 7 7 7 7 7 7 7\n// 6 5 6 5 6 5 6 5 6\n// 7 7 7 7 7 7 7 7 7\n\n\nvar imagePasses = [\n  { // pass 1 - 1px\n    x: [0],\n    y: [0]\n  },\n  { // pass 2 - 1px\n    x: [4],\n    y: [0]\n  },\n  { // pass 3 - 2px\n    x: [0, 4],\n    y: [4]\n  },\n  { // pass 4 - 4px\n    x: [2, 6],\n    y: [0, 4]\n  },\n  { // pass 5 - 8px\n    x: [0, 2, 4, 6],\n    y: [2, 6]\n  },\n  { // pass 6 - 16px\n    x: [1, 3, 5, 7],\n    y: [0, 2, 4, 6]\n  },\n  { // pass 7 - 32px\n    x: [0, 1, 2, 3, 4, 5, 6, 7],\n    y: [1, 3, 5, 7]\n  }\n];\n\nexports.getImagePasses = function(width, height) {\n  var images = [];\n  var xLeftOver = width % 8;\n  var yLeftOver = height % 8;\n  var xRepeats = (width - xLeftOver) / 8;\n  var yRepeats = (height - yLeftOver) / 8;\n  for (var i = 0; i < imagePasses.length; i++) {\n    var pass = imagePasses[i];\n    var passWidth = xRepeats * pass.x.length;\n    var passHeight = yRepeats * pass.y.length;\n    for (var j = 0; j < pass.x.length; j++) {\n      if (pass.x[j] < xLeftOver) {\n        passWidth++;\n      }\n      else {\n        break;\n      }\n    }\n    for (j = 0; j < pass.y.length; j++) {\n      if (pass.y[j] < yLeftOver) {\n        passHeight++;\n      }\n      else {\n        break;\n      }\n    }\n    if (passWidth > 0 && passHeight > 0) {\n      images.push({ width: passWidth, height: passHeight, index: i });\n    }\n  }\n  return images;\n};\n\nexports.getInterlaceIterator = function(width) {\n  return function(x, y, pass) {\n    var outerXLeftOver = x % imagePasses[pass].x.length;\n    var outerX = (((x - outerXLeftOver) / imagePasses[pass].x.length) * 8) + imagePasses[pass].x[outerXLeftOver];\n    var outerYLeftOver = y % imagePasses[pass].y.length;\n    var outerY = (((y - outerYLeftOver) / imagePasses[pass].y.length) * 8) + imagePasses[pass].y[outerYLeftOver];\n    return (outerX * 4) + (outerY * width * 4);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/interlace.js\n// module id = 28\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/interlace.js","'use strict';\n\nvar constants = require('./constants');\nvar CrcStream = require('./crc');\nvar bitPacker = require('./bitpacker');\nvar filter = require('./filter-pack');\nvar zlib = require('zlib');\n\nvar Packer = module.exports = function(options) {\n  this._options = options;\n\n  options.deflateChunkSize = options.deflateChunkSize || 32 * 1024;\n  options.deflateLevel = options.deflateLevel != null ? options.deflateLevel : 9;\n  options.deflateStrategy = options.deflateStrategy != null ? options.deflateStrategy : 3;\n  options.inputHasAlpha = options.inputHasAlpha != null ? options.inputHasAlpha : true;\n  options.deflateFactory = options.deflateFactory || zlib.createDeflate;\n  options.bitDepth = options.bitDepth || 8;\n  // This is outputColorType\n  options.colorType = (typeof options.colorType === 'number') ? options.colorType : constants.COLORTYPE_COLOR_ALPHA;\n  options.inputColorType = options.inputColorType || constants.COLORTYPE_COLOR_ALPHA;\n\n  if ([\n    constants.COLORTYPE_GRAYSCALE,\n    constants.COLORTYPE_COLOR,\n    constants.COLORTYPE_COLOR_ALPHA,\n    constants.COLORTYPE_ALPHA\n  ].indexOf(options.colorType) === -1) {\n    throw new Error('option color type:' + options.colorType + ' is not supported at present');\n  }\n  if (options.bitDepth !== 8) {\n    throw new Error('option bit depth:' + options.bitDepth + ' is not supported at present');\n  }\n};\n\nPacker.prototype.getDeflateOptions = function() {\n  return {\n    chunkSize: this._options.deflateChunkSize,\n    level: this._options.deflateLevel,\n    strategy: this._options.deflateStrategy\n  };\n};\n\nPacker.prototype.createDeflate = function() {\n  return this._options.deflateFactory(this.getDeflateOptions());\n};\n\nPacker.prototype.filterData = function(data, width, height) {\n  // convert to correct format for filtering (e.g. right bpp and bit depth)\n  var packedData = bitPacker(data, width, height, this._options);\n\n  // filter pixel data\n  var bpp = constants.COLORTYPE_TO_BPP_MAP[this._options.colorType];\n  var filteredData = filter(packedData, width, height, this._options, bpp);\n  return filteredData;\n};\n\nPacker.prototype._packChunk = function(type, data) {\n\n  var len = (data ? data.length : 0);\n  var buf = new Buffer(len + 12);\n\n  buf.writeUInt32BE(len, 0);\n  buf.writeUInt32BE(type, 4);\n\n  if (data) {\n    data.copy(buf, 8);\n  }\n\n  buf.writeInt32BE(CrcStream.crc32(buf.slice(4, buf.length - 4)), buf.length - 4);\n  return buf;\n};\n\nPacker.prototype.packGAMA = function(gamma) {\n  var buf = new Buffer(4);\n  buf.writeUInt32BE(Math.floor(gamma * constants.GAMMA_DIVISION), 0);\n  return this._packChunk(constants.TYPE_gAMA, buf);\n};\n\nPacker.prototype.packIHDR = function(width, height) {\n\n  var buf = new Buffer(13);\n  buf.writeUInt32BE(width, 0);\n  buf.writeUInt32BE(height, 4);\n  buf[8] = this._options.bitDepth; // Bit depth\n  buf[9] = this._options.colorType; // colorType\n  buf[10] = 0; // compression\n  buf[11] = 0; // filter\n  buf[12] = 0; // interlace\n\n  return this._packChunk(constants.TYPE_IHDR, buf);\n};\n\nPacker.prototype.packIDAT = function(data) {\n  return this._packChunk(constants.TYPE_IDAT, data);\n};\n\nPacker.prototype.packIEND = function() {\n  return this._packChunk(constants.TYPE_IEND, null);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/packer.js\n// module id = 29\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/packer.js","'use strict';\r\n\r\nmodule.exports = function paethPredictor(left, above, upLeft) {\r\n\r\n  var paeth = left + above - upLeft;\r\n  var pLeft = Math.abs(paeth - left);\r\n  var pAbove = Math.abs(paeth - above);\r\n  var pUpLeft = Math.abs(paeth - upLeft);\r\n\r\n  if (pLeft <= pAbove && pLeft <= pUpLeft) {\r\n    return left;\r\n  }\r\n  if (pAbove <= pUpLeft) {\r\n    return above;\r\n  }\r\n  return upLeft;\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/paeth-predictor.js\n// module id = 30\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/paeth-predictor.js","'use strict';\n\nvar constants = require('./constants');\nvar CrcCalculator = require('./crc');\n\n\nvar Parser = module.exports = function(options, dependencies) {\n\n  this._options = options;\n  options.checkCRC = options.checkCRC !== false;\n\n  this._hasIHDR = false;\n  this._hasIEND = false;\n\n  // input flags/metadata\n  this._palette = [];\n  this._colorType = 0;\n\n  this._chunks = {};\n  this._chunks[constants.TYPE_IHDR] = this._handleIHDR.bind(this);\n  this._chunks[constants.TYPE_IEND] = this._handleIEND.bind(this);\n  this._chunks[constants.TYPE_IDAT] = this._handleIDAT.bind(this);\n  this._chunks[constants.TYPE_PLTE] = this._handlePLTE.bind(this);\n  this._chunks[constants.TYPE_tRNS] = this._handleTRNS.bind(this);\n  this._chunks[constants.TYPE_gAMA] = this._handleGAMA.bind(this);\n\n  this.read = dependencies.read;\n  this.error = dependencies.error;\n  this.metadata = dependencies.metadata;\n  this.gamma = dependencies.gamma;\n  this.transColor = dependencies.transColor;\n  this.palette = dependencies.palette;\n  this.parsed = dependencies.parsed;\n  this.inflateData = dependencies.inflateData;\n  this.finished = dependencies.finished;\n};\n\nParser.prototype.start = function() {\n  this.read(constants.PNG_SIGNATURE.length,\n    this._parseSignature.bind(this)\n  );\n};\n\nParser.prototype._parseSignature = function(data) {\n\n  var signature = constants.PNG_SIGNATURE;\n\n  for (var i = 0; i < signature.length; i++) {\n    if (data[i] !== signature[i]) {\n      this.error(new Error('Invalid file signature'));\n      return;\n    }\n  }\n  this.read(8, this._parseChunkBegin.bind(this));\n};\n\nParser.prototype._parseChunkBegin = function(data) {\n\n  // chunk content length\n  var length = data.readUInt32BE(0);\n\n  // chunk type\n  var type = data.readUInt32BE(4);\n  var name = '';\n  for (var i = 4; i < 8; i++) {\n    name += String.fromCharCode(data[i]);\n  }\n\n  //console.log('chunk ', name, length);\n\n  // chunk flags\n  var ancillary = Boolean(data[4] & 0x20); // or critical\n//    priv = Boolean(data[5] & 0x20), // or public\n//    safeToCopy = Boolean(data[7] & 0x20); // or unsafe\n\n  if (!this._hasIHDR && type !== constants.TYPE_IHDR) {\n    this.error(new Error('Expected IHDR on beggining'));\n    return;\n  }\n\n  this._crc = new CrcCalculator();\n  this._crc.write(new Buffer(name));\n\n  if (this._chunks[type]) {\n    return this._chunks[type](length);\n  }\n\n  if (!ancillary) {\n    this.error(new Error('Unsupported critical chunk type ' + name));\n    return;\n  }\n\n  this.read(length + 4, this._skipChunk.bind(this));\n};\n\nParser.prototype._skipChunk = function(/*data*/) {\n  this.read(8, this._parseChunkBegin.bind(this));\n};\n\nParser.prototype._handleChunkEnd = function() {\n  this.read(4, this._parseChunkEnd.bind(this));\n};\n\nParser.prototype._parseChunkEnd = function(data) {\n\n  var fileCrc = data.readInt32BE(0);\n  var calcCrc = this._crc.crc32();\n\n  // check CRC\n  if (this._options.checkCRC && calcCrc !== fileCrc) {\n    this.error(new Error('Crc error - ' + fileCrc + ' - ' + calcCrc));\n    return;\n  }\n\n  if (!this._hasIEND) {\n    this.read(8, this._parseChunkBegin.bind(this));\n  }\n};\n\nParser.prototype._handleIHDR = function(length) {\n  this.read(length, this._parseIHDR.bind(this));\n};\nParser.prototype._parseIHDR = function(data) {\n\n  this._crc.write(data);\n\n  var width = data.readUInt32BE(0);\n  var height = data.readUInt32BE(4);\n  var depth = data[8];\n  var colorType = data[9]; // bits: 1 palette, 2 color, 4 alpha\n  var compr = data[10];\n  var filter = data[11];\n  var interlace = data[12];\n\n  // console.log('    width', width, 'height', height,\n  //     'depth', depth, 'colorType', colorType,\n  //     'compr', compr, 'filter', filter, 'interlace', interlace\n  // );\n\n  if (depth !== 8 && depth !== 4 && depth !== 2 && depth !== 1 && depth !== 16) {\n    this.error(new Error('Unsupported bit depth ' + depth));\n    return;\n  }\n  if (!(colorType in constants.COLORTYPE_TO_BPP_MAP)) {\n    this.error(new Error('Unsupported color type'));\n    return;\n  }\n  if (compr !== 0) {\n    this.error(new Error('Unsupported compression method'));\n    return;\n  }\n  if (filter !== 0) {\n    this.error(new Error('Unsupported filter method'));\n    return;\n  }\n  if (interlace !== 0 && interlace !== 1) {\n    this.error(new Error('Unsupported interlace method'));\n    return;\n  }\n\n  this._colorType = colorType;\n\n  var bpp = constants.COLORTYPE_TO_BPP_MAP[this._colorType];\n\n  this._hasIHDR = true;\n\n  this.metadata({\n    width: width,\n    height: height,\n    depth: depth,\n    interlace: Boolean(interlace),\n    palette: Boolean(colorType & constants.COLORTYPE_PALETTE),\n    color: Boolean(colorType & constants.COLORTYPE_COLOR),\n    alpha: Boolean(colorType & constants.COLORTYPE_ALPHA),\n    bpp: bpp,\n    colorType: colorType\n  });\n\n  this._handleChunkEnd();\n};\n\n\nParser.prototype._handlePLTE = function(length) {\n  this.read(length, this._parsePLTE.bind(this));\n};\nParser.prototype._parsePLTE = function(data) {\n\n  this._crc.write(data);\n\n  var entries = Math.floor(data.length / 3);\n  // console.log('Palette:', entries);\n\n  for (var i = 0; i < entries; i++) {\n    this._palette.push([\n      data[i * 3],\n      data[i * 3 + 1],\n      data[i * 3 + 2],\n      0xff\n    ]);\n  }\n\n  this.palette(this._palette);\n\n  this._handleChunkEnd();\n};\n\nParser.prototype._handleTRNS = function(length) {\n  this.read(length, this._parseTRNS.bind(this));\n};\nParser.prototype._parseTRNS = function(data) {\n\n  this._crc.write(data);\n\n  // palette\n  if (this._colorType === constants.COLORTYPE_PALETTE_COLOR) {\n    if (this._palette.length === 0) {\n      this.error(new Error('Transparency chunk must be after palette'));\n      return;\n    }\n    if (data.length > this._palette.length) {\n      this.error(new Error('More transparent colors than palette size'));\n      return;\n    }\n    for (var i = 0; i < data.length; i++) {\n      this._palette[i][3] = data[i];\n    }\n    this.palette(this._palette);\n  }\n\n  // for colorType 0 (grayscale) and 2 (rgb)\n  // there might be one gray/color defined as transparent\n  if (this._colorType === constants.COLORTYPE_GRAYSCALE) {\n    // grey, 2 bytes\n    this.transColor([data.readUInt16BE(0)]);\n  }\n  if (this._colorType === constants.COLORTYPE_COLOR) {\n    this.transColor([data.readUInt16BE(0), data.readUInt16BE(2), data.readUInt16BE(4)]);\n  }\n\n  this._handleChunkEnd();\n};\n\nParser.prototype._handleGAMA = function(length) {\n  this.read(length, this._parseGAMA.bind(this));\n};\nParser.prototype._parseGAMA = function(data) {\n\n  this._crc.write(data);\n  this.gamma(data.readUInt32BE(0) / constants.GAMMA_DIVISION);\n\n  this._handleChunkEnd();\n};\n\nParser.prototype._handleIDAT = function(length) {\n  this.read(-length, this._parseIDAT.bind(this, length));\n};\nParser.prototype._parseIDAT = function(length, data) {\n\n  this._crc.write(data);\n\n  if (this._colorType === constants.COLORTYPE_PALETTE_COLOR && this._palette.length === 0) {\n    throw new Error('Expected palette not found');\n  }\n\n  this.inflateData(data);\n  var leftOverLength = length - data.length;\n\n  if (leftOverLength > 0) {\n    this._handleIDAT(leftOverLength);\n  }\n  else {\n    this._handleChunkEnd();\n  }\n};\n\nParser.prototype._handleIEND = function(length) {\n  this.read(length, this._parseIEND.bind(this));\n};\nParser.prototype._parseIEND = function(data) {\n\n  this._crc.write(data);\n\n  this._hasIEND = true;\n  this._handleChunkEnd();\n\n  if (this.finished) {\n    this.finished();\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/parser.js\n// module id = 31\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/parser.js","'use strict';\n\nvar util = require('util');\nvar Stream = require('stream');\nvar Parser = require('./parser-async');\nvar Packer = require('./packer-async');\nvar PNGSync = require('./png-sync');\n\n\nvar PNG = exports.PNG = function(options) {\n  Stream.call(this);\n\n  options = options || {}; // eslint-disable-line no-param-reassign\n\n  // coerce pixel dimensions to integers (also coerces undefined -> 0):\n  this.width = options.width | 0;\n  this.height = options.height | 0;\n\n  this.data = this.width > 0 && this.height > 0 ?\n    new Buffer(4 * this.width * this.height) : null;\n\n  if (options.fill && this.data) {\n    this.data.fill(0);\n  }\n\n  this.gamma = 0;\n  this.readable = this.writable = true;\n\n  this._parser = new Parser(options);\n\n  this._parser.on('error', this.emit.bind(this, 'error'));\n  this._parser.on('close', this._handleClose.bind(this));\n  this._parser.on('metadata', this._metadata.bind(this));\n  this._parser.on('gamma', this._gamma.bind(this));\n  this._parser.on('parsed', function(data) {\n    this.data = data;\n    this.emit('parsed', data);\n  }.bind(this));\n\n  this._packer = new Packer(options);\n  this._packer.on('data', this.emit.bind(this, 'data'));\n  this._packer.on('end', this.emit.bind(this, 'end'));\n  this._parser.on('close', this._handleClose.bind(this));\n  this._packer.on('error', this.emit.bind(this, 'error'));\n\n};\nutil.inherits(PNG, Stream);\n\nPNG.sync = PNGSync;\n\nPNG.prototype.pack = function() {\n\n  if (!this.data || !this.data.length) {\n    this.emit('error', 'No data provided');\n    return this;\n  }\n\n  process.nextTick(function() {\n    this._packer.pack(this.data, this.width, this.height, this.gamma);\n  }.bind(this));\n\n  return this;\n};\n\n\nPNG.prototype.parse = function(data, callback) {\n\n  if (callback) {\n    var onParsed, onError;\n\n    onParsed = function(parsedData) {\n      this.removeListener('error', onError);\n\n      this.data = parsedData;\n      callback(null, this);\n    }.bind(this);\n\n    onError = function(err) {\n      this.removeListener('parsed', onParsed);\n\n      callback(err, null);\n    }.bind(this);\n\n    this.once('parsed', onParsed);\n    this.once('error', onError);\n  }\n\n  this.end(data);\n  return this;\n};\n\nPNG.prototype.write = function(data) {\n  this._parser.write(data);\n  return true;\n};\n\nPNG.prototype.end = function(data) {\n  this._parser.end(data);\n};\n\nPNG.prototype._metadata = function(metadata) {\n  this.width = metadata.width;\n  this.height = metadata.height;\n\n  this.emit('metadata', metadata);\n};\n\nPNG.prototype._gamma = function(gamma) {\n  this.gamma = gamma;\n};\n\nPNG.prototype._handleClose = function() {\n  if (!this._parser.writable && !this._packer.readable) {\n    this.emit('close');\n  }\n};\n\n\nPNG.bitblt = function(src, dst, srcX, srcY, width, height, deltaX, deltaY) { // eslint-disable-line max-params\n  // coerce pixel dimensions to integers (also coerces undefined -> 0):\n  /* eslint-disable no-param-reassign */\n  srcX |= 0;\n  srcY |= 0;\n  width |= 0;\n  height |= 0;\n  deltaX |= 0;\n  deltaY |= 0;\n  /* eslint-enable no-param-reassign */\n\n  if (srcX > src.width || srcY > src.height || srcX + width > src.width || srcY + height > src.height) {\n    throw new Error('bitblt reading outside image');\n  }\n\n  if (deltaX > dst.width || deltaY > dst.height || deltaX + width > dst.width || deltaY + height > dst.height) {\n    throw new Error('bitblt writing outside image');\n  }\n\n  for (var y = 0; y < height; y++) {\n    src.data.copy(dst.data,\n      ((deltaY + y) * dst.width + deltaX) << 2,\n      ((srcY + y) * src.width + srcX) << 2,\n      ((srcY + y) * src.width + srcX + width) << 2\n    );\n  }\n};\n\n\nPNG.prototype.bitblt = function(dst, srcX, srcY, width, height, deltaX, deltaY) { // eslint-disable-line max-params\n\n  PNG.bitblt(this, dst, srcX, srcY, width, height, deltaX, deltaY);\n  return this;\n};\n\nPNG.adjustGamma = function(src) {\n  if (src.gamma) {\n    for (var y = 0; y < src.height; y++) {\n      for (var x = 0; x < src.width; x++) {\n        var idx = (src.width * y + x) << 2;\n\n        for (var i = 0; i < 3; i++) {\n          var sample = src.data[idx + i] / 255;\n          sample = Math.pow(sample, 1 / 2.2 / src.gamma);\n          src.data[idx + i] = Math.round(sample * 255);\n        }\n      }\n    }\n    src.gamma = 0;\n  }\n};\n\nPNG.prototype.adjustGamma = function() {\n  PNG.adjustGamma(this);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/png.js\n// module id = 32\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/png.js","'use strict';\n\nvar SyncReader = module.exports = function(buffer) {\n\n  this._buffer = buffer;\n  this._reads = [];\n};\n\nSyncReader.prototype.read = function(length, callback) {\n\n  this._reads.push({\n    length: Math.abs(length),  // if length < 0 then at most this length\n    allowLess: length < 0,\n    func: callback\n  });\n};\n\nSyncReader.prototype.process = function() {\n\n  // as long as there is any data and read requests\n  while (this._reads.length > 0 && this._buffer.length) {\n\n    var read = this._reads[0];\n\n    if (this._buffer.length && (this._buffer.length >= read.length || read.allowLess)) {\n\n      // ok there is any data so that we can satisfy this request\n      this._reads.shift(); // == read\n\n      var buf = this._buffer;\n\n      this._buffer = buf.slice(read.length);\n\n      read.func.call(this, buf.slice(0, read.length));\n\n    }\n    else {\n      break;\n    }\n\n  }\n\n  if (this._reads.length > 0) {\n    return new Error('There are some read requests waitng on finished stream');\n  }\n\n  if (this._buffer.length > 0) {\n    return new Error('unrecognised content at end of stream');\n  }\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/sync-reader.js\n// module id = 33\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/sync-reader.js","module.exports = require(\"assert\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"assert\"\n// module id = 34\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"assert\"","module.exports = require(\"image-size\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"image-size\"\n// module id = 35\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"image-size\"","/**\n * Created by jimsugg on 5/31/17.\n */\n\nimport {MediaType, BsAssetItem, BsImageData, RotationType} from '@brightsign/bscore';\nimport * as fse from 'fs-extra';\nimport * as path from 'path';\n\nimport * as ExifImage from 'exif';\nimport * as sizeOf from 'image-size';\n\n/**\n * Get EXIF metadata for given Image asset.\n * @param assetItem - assetItem for which to return EXIF data - should be MediaType.Image\n * @returns {Promise<BsImageData>} - returns a Promise. For image files, promise resolves\n *  with ImageData object. For unsupported asset files, promise resolves with null.\n */\nexport function getExifData(assetItem: BsAssetItem): Promise<BsImageData | null> {\n\n  const fullPath = path.join(assetItem.path, assetItem.name);\n  if (assetItem.mediaType !== MediaType.Image || !fse.existsSync(fullPath)) {\n    return Promise.resolve(null);\n  }\n\n  return new Promise<BsImageData>((resolve, reject) => {\n    try {\n      const ex = new ExifImage.ExifImage({ image : fullPath }, (error, exifData) => {\n        const imageData: BsImageData = {\n          size: {width: 0, height: 0},\n          orientation: RotationType.rot0,\n        };\n\n        if (exifData\n            && typeof exifData.exif.ExifImageWidth === 'number'\n            && typeof exifData.exif.ExifImageHeight === 'number') {\n          imageData.size.width = exifData.exif.ExifImageWidth;\n          imageData.size.height = exifData.exif.ExifImageHeight;\n        } else {\n          const dimensions = sizeOf(fullPath);\n          imageData.size.height = dimensions.height;\n          imageData.size.width = dimensions.width;\n        }\n\n        if (exifData && typeof exifData.image.Orientation !== 'undefined') {\n          switch (exifData.image.Orientation) {\n            case 1:\n            case 2: imageData.orientation = RotationType.rot0; break;\n            case 3:\n            case 4: imageData.orientation = RotationType.rot180; break;\n            case 6:\n            case 7: imageData.orientation = RotationType.rot90; break;\n            case 5:\n            case 8: imageData.orientation = RotationType.rot270; break;\n          }\n        }\n\n        if (!exifData || typeof exifData.exif.DateTimeOriginal === 'undefined') {\n          // if no EXIF dateTaken, get file creation time\n          fse.stat(fullPath).then((stats) => {\n            imageData.dateTaken = stats.birthtime;\n            resolve(imageData);\n          });\n        } else {\n          const res = exifData.exif.DateTimeOriginal.match(/(\\d{4}):(\\d{2}):(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})/);\n          if (res != null && res.length === 7) {\n            imageData.dateTaken = new Date(res[1], res[2] - 1, res[3], res[4], res[5], res[6]);\n          }\n          resolve(imageData);\n        }\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/exif.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/exif.ts","/**\n * Created by jsugg on 5/19/17.\n */\n\nimport {BsAssetItem, AssetType} from '@brightsign/bscore';\nimport * as fse from 'fs-extra';\nimport * as path from 'path';\nimport {getBscFileTypeInfo, getAssetItemFromFileStats} from './fileOperations';\n\nexport function isLocalFileSystemAvailable() {\n  return true;\n}\n\nexport class FsFolderEnumerator {\n\n  // region Public fields\n  /**\n   * @property defaultRootPath {string} - Base path for all enumerations\n   */\n  defaultRootPath: string;\n  // endregion\n\n  // region Private fields\n  /** @internal */\n  private _assetTypeSet: Set<AssetType> | null = null;\n  // endregion\n\n  // region Public Methods\n  constructor(basePath?: string) {\n    this.defaultRootPath = basePath ? basePath : '';\n  }\n\n  /**\n   * Update content directory from local file system and resolve with list of content names\n   *\n   * @param [directoryPath] {string} - local path of directory to resolve, relative to defaultRootPath.\n   *  If path is blank or undefined, the root path is assumed.\n   * @param [assetTypes] {AssetType[]} - array of asset types to include. If undefined or empty, all files\n   *  and folders are included.\n   * @returns {Promise<BsAssetItem[]>} - Promise that resolves with an array of assetItems\n   */\n  update(directoryPath?: string, assetTypes?: AssetType | AssetType[]): Promise<BsAssetItem[]> {\n    this._assetTypeSet = null;\n    if (assetTypes) {\n      this._assetTypeSet = Array.isArray(assetTypes) ? new Set(assetTypes) : new Set([assetTypes]);\n    }\n    return new Promise<BsAssetItem[]>((resolve, reject) => {\n\n      const basePath = directoryPath ? path.join(this.defaultRootPath, directoryPath) : this.defaultRootPath;\n      fse.readdir(basePath)\n        .then((fileNames) => {\n          const updateList: Array<Promise<BsAssetItem>> = [];\n          fileNames.forEach((fileName) => {\n            // Ignore hidden files\n            if (fileName.charAt(0) !== '.') {\n              updateList.push(this.getLocalBsAssetItem(fileName, basePath));\n            }\n          });\n          return Promise.all(updateList);\n        })\n        .then((assetItems) => {\n          // TODO: get thumbnails\n          resolve(assetItems.filter((assetItem) => {\n            return assetItem !== null;\n          }));\n        })\n        .catch((error) => { reject(error); });\n    });\n  }\n  // endregion\n\n  // region Private methods\n  /** @internal */\n  /** @private */\n  private getLocalBsAssetItem(name: string, dirPath: string): Promise<BsAssetItem | null> {\n    return new Promise<BsAssetItem>((resolve, reject) => {\n      const fullPath = path.join(dirPath, name);\n      fse.stat(fullPath)\n        .then((stats) => {\n          const typeInfo = getBscFileTypeInfo(name, stats);\n          if (this._assetTypeSet && this._assetTypeSet.has(typeInfo.assetType)) {\n            resolve(getAssetItemFromFileStats(name, dirPath, stats));\n          } else {\n            resolve(null);\n          }\n        })\n        .catch((error) => { reject(error); });\n    });\n  }\n  // endregion\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/folderEnumerator.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/folderEnumerator.ts","/**\n * Created by jimsugg on 5/26/17.\n */\n\nimport {MediaType, BsAssetItem, BsLocalAssetThumbnail} from '@brightsign/bscore';\nimport * as path from 'path';\nimport * as fse from 'fs-extra';\nimport * as tmp from 'tmp';\nimport * as ffmpeg from 'fluent-ffmpeg';\nimport * as resizeImg from 'resize-img';\nimport * as parsePng from 'parse-png';\nimport * as jpeg from 'jpeg-js';\nimport * as crypto from 'crypto';\nimport * as sizeOf from 'image-size';\n\nimport {FsErrorType, FsError} from './error';\n\nffmpeg().setFfmpegPath('//usr//local//bin//ffmpeg');\n// ffmpeg().setFfmpegPath(remote.app.getAppPath() + '/ffmpeg'); TODO save for app packaging\n\n/**\n * Generate a FileThumbnail for the given asset file. Asset file must be a video or an image file\n * @param assetItem {BsAssetItem} - asset item for which to generate thumbnail\n * @returns {Promise<BsAssetThumbnail | null>} - returns a Promise. For video and supported image files,\n *  promise resolves with thumbnail object. For unsupported asset files, promise resolves with null.\n */\nexport function getThumbnail(assetItem: BsAssetItem): Promise<BsLocalAssetThumbnail | null> {\n\n  if (assetItem.mediaType === MediaType.Image || assetItem.mediaType === MediaType.Video) {\n    const fullPath = path.join(assetItem.path, assetItem.name);\n    if (assetItem.mediaType === MediaType.Image) {\n      return buildImageThumb(fullPath);\n    } else if (assetItem.mediaType === MediaType.Video) {\n      return buildVideoThumb(fullPath);\n    }\n  }\n  // Resolve with null for all other files\n  return Promise.resolve(null);\n}\n\n/** @internal */\n/** @private */\nexport function buildImageThumb(fullPath: string): Promise<BsLocalAssetThumbnail> {\n  if (!fse.existsSync(fullPath)) {\n    return Promise.resolve(null);\n  }\n  return new Promise<BsLocalAssetThumbnail>((resolve, reject) => {\n\n    fse.readFile(fullPath)\n      .then((buf) => resizeImg(buf, {height: 120, out: 'jpg'}))\n      .then((buf) => {\n        const thumbSize = sizeOf(buf);\n        resolve({\n          kind: 'local',\n          data: buf as Uint8Array,\n          type: 'image/jpeg',\n          size: {width: thumbSize.width, height: thumbSize.height},\n          hash: getBufferSha1(buf),\n        });\n      })\n      .catch((error) => reject(error));\n  });\n}\n\n/** @internal */\n/** @private */\nexport function buildVideoThumb(fullPath: string): Promise<BsLocalAssetThumbnail> {\n  if (!fse.existsSync(fullPath)) {\n    return Promise.resolve(null);\n  }\n  return new Promise<BsLocalAssetThumbnail>((resolve, reject) => {\n    tmp.tmpName({prefix: 'bsthmb-', postfix: '.png'}, (error, thumbPath) => {\n      if (error) {\n        reject(error);\n      }\n\n      try {\n        ffmpeg(fullPath)\n          .on('end', () => {\n            fse.readFile(thumbPath)\n              .then((buf) => { fse.unlink(thumbPath); return parsePng(buf); })\n              .then((img) => {\n                const buf = jpeg.encode({width: img.width, height: img.height, data: img.data}).data;\n                resolve({\n                    kind: 'local',\n                    data: buf as Uint8Array,\n                    type: 'image/jpeg',\n                    size: {width: img.width, height: img.height},\n                    hash: getBufferSha1(buf),\n                });\n              })\n              .catch((err) => reject(err));\n          })\n          .on('error', (error2) => {\n              reject(error2);\n          })\n          .screenshots({\n            filename: path.basename(thumbPath),\n            timestamps: [2],\n            folder: path.dirname(thumbPath),\n            size: '?x120',\n          });\n      } catch (error3) {\n        reject(error3);\n      }\n\n    });\n  });\n}\n\n/**\n * Return SHA1 hash for given file\n * @param fullPath {string} - path to file\n * @returns {Promise<string>} returns a Promise that resolves to the hsh value\n */\nexport function getFileSha1(fullPath: string): Promise<string> {\n  if (!fse.existsSync(fullPath)) {\n    return Promise.reject(new FsError(FsErrorType.fileNotFoundError, fullPath));\n  }\n\n  return new Promise<string> ((resolve) => {\n    const rs = fse.createReadStream(fullPath);\n    const hash = crypto.createHash('sha1');\n    hash.setEncoding('hex');\n\n    rs.on('end', () => {\n      hash.end();\n      resolve(hash.read() as string);\n    });\n    // read all file and pipe it (write it) to the hash object\n    rs.pipe(hash);\n  });\n}\n\nfunction getBufferSha1(data: Buffer): string {\n  const hash = crypto.createHash('sha1');\n  hash.update(data);\n  return hash.digest('hex');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/thumbnail.ts\n\n\n// WEBPACK FOOTER //\n// webpack:///lib/thumbnail.ts","module.exports = require(\"core-js/es6/promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"core-js/es6/promise\"\n// module id = 39\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"core-js/es6/promise\"","/**\n * @author shaozilee\n *\n * support 1bit 4bit 8bit 24bit decode\n * encode with 24bit\n * \n */\n\nvar encode = require('./lib/encoder'),\n    decode = require('./lib/decoder');\n\nmodule.exports = {\n  encode: encode,\n  decode: decode\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/bmp-js/index.js\n// module id = 41\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/bmp-js/index.js","/**\n * @author shaozilee\n *\n * Bmp format decoder,support 1bit 4bit 8bit 24bit bmp\n * \n */\n\nfunction BmpDecoder(buffer) {\n  this.pos = 0;\n  this.buffer = buffer;\n  this.flag = this.buffer.toString(\"utf-8\", 0, this.pos += 2);\n  if (this.flag != \"BM\") throw new Error(\"Invalid BMP File\");\n  this.parseHeader();\n  this.parseBGR();\n}\n\nBmpDecoder.prototype.parseHeader = function() {\n  this.fileSize = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.reserved = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.offset = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.headerSize = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.width = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.height = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.planes = this.buffer.readUInt16LE(this.pos);\n  this.pos += 2;\n  this.bitPP = this.buffer.readUInt16LE(this.pos);\n  this.pos += 2;\n  this.compress = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.rawSize = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.hr = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.vr = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.colors = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n  this.importantColors = this.buffer.readUInt32LE(this.pos);\n  this.pos += 4;\n\n  if (this.bitPP < 24) {\n    var len = 1 << this.bitPP;\n    this.palette = new Array(len);\n    for (var i = 0; i < len; i++) {\n      var blue = this.buffer.readUInt8(this.pos++);\n      var green = this.buffer.readUInt8(this.pos++);\n      var red = this.buffer.readUInt8(this.pos++);\n      var quad = this.buffer.readUInt8(this.pos++);\n      this.palette[i] = {\n        red: red,\n        green: green,\n        blue: blue,\n        quad: quad\n      };\n    }\n  }\n\n}\n\nBmpDecoder.prototype.parseBGR = function() {\n  this.pos = this.offset;\n  try {\n    var bitn = \"bit\" + this.bitPP;\n    var len = this.width * this.height * 4;\n    this.data = new Buffer(len);\n\n    this[bitn]();\n  } catch (e) {\n    console.log(\"bit decode error:\" + e);\n  }\n\n};\n\nBmpDecoder.prototype.bit1 = function() {\n  var xlen = Math.ceil(this.width / 8);\n  var mode = xlen%4;\n  for (var y = this.height - 1; y >= 0; y--) {\n    for (var x = 0; x < xlen; x++) {\n      var b = this.buffer.readUInt8(this.pos++);\n      var location = y * this.width * 4 + x*8*4;\n      for (var i = 0; i < 8; i++) {\n        if(x*8+i<this.width){\n          var rgb = this.palette[((b>>(7-i))&0x1)];\n          this.data[location+i*4] = rgb.blue;\n          this.data[location+i*4 + 1] = rgb.green;\n          this.data[location+i*4 + 2] = rgb.red;\n          this.data[location+i*4 + 3] = 0xFF;  \n        }else{\n          break;\n        }\n      }\n    }\n\n    if (mode != 0){\n      this.pos+=(4 - mode);\n    }\n  }\n};\n\nBmpDecoder.prototype.bit4 = function() {\n  var xlen = Math.ceil(this.width/2);\n  var mode = xlen%4;\n  for (var y = this.height - 1; y >= 0; y--) {\n    for (var x = 0; x < xlen; x++) {\n      var b = this.buffer.readUInt8(this.pos++);\n      var location = y * this.width * 4 + x*2*4;\n\n      var before = b>>4;\n      var after = b&0x0F;\n\n      var rgb = this.palette[before];\n      this.data[location] = rgb.blue;\n      this.data[location + 1] = rgb.green;\n      this.data[location + 2] = rgb.red;\n      this.data[location + 3] = 0xFF;  \n\n      if(x*2+1>=this.width)break;\n\n      rgb = this.palette[after];\n      this.data[location+4] = rgb.blue;\n      this.data[location+4 + 1] = rgb.green;\n      this.data[location+4 + 2] = rgb.red;\n      this.data[location+4 + 3] = 0xFF;  \n    }\n\n    if (mode != 0){\n      this.pos+=(4 - mode);\n    }\n  }\n\n};\n\nBmpDecoder.prototype.bit8 = function() {\n  var mode = this.width%4;\n  for (var y = this.height - 1; y >= 0; y--) {\n    for (var x = 0; x < this.width; x++) {\n      var b = this.buffer.readUInt8(this.pos++);\n      var location = y * this.width * 4 + x*4;\n      var rgb = this.palette[b];\n      this.data[location] = rgb.blue;\n      this.data[location + 1] = rgb.green;\n      this.data[location + 2] = rgb.red;\n      this.data[location + 3] = 0xFF;  \n    }\n    if (mode != 0){\n      this.pos+=(4 - mode);\n    }\n  }\n};\n\nBmpDecoder.prototype.bit24 = function() {\n  //when height > 0\n  for (var y = this.height - 1; y >= 0; y--) {\n    for (var x = 0; x < this.width; x++) {\n      var blue = this.buffer.readUInt8(this.pos++);\n      var green = this.buffer.readUInt8(this.pos++);\n      var red = this.buffer.readUInt8(this.pos++);\n      var location = y * this.width * 4 + x * 4;\n      this.data[location] = red;\n      this.data[location + 1] = green;\n      this.data[location + 2] = blue;\n      this.data[location + 3] = 0xFF;\n    }\n    //skip extra bytes\n    this.pos += (this.width % 4);\n  }\n\n};\n\nBmpDecoder.prototype.getData = function() {\n  return this.data;\n};\n\n\n\nmodule.exports = decode = function(bmpData) {\n  var decoder = new BmpDecoder(bmpData);\n  return {\n    data: decoder.getData(),\n    width: decoder.width,\n    height: decoder.height\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/bmp-js/lib/decoder.js\n// module id = 42\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/bmp-js/lib/decoder.js","/**\n * @author shaozilee\n *\n * BMP format encoder,encode 24bit BMP\n * Not support quality compression\n * \n */\n\nfunction BmpEncoder(imgData){\n\tthis.buffer = imgData.data;\n\tthis.width = imgData.width;\n\tthis.height = imgData.height;\n\tthis.extraBytes = this.width%4;\n\tthis.rgbSize = this.height*(3*this.width+this.extraBytes);\n\tthis.headerInfoSize = 40;\n\n\tthis.data = [];\n\t/******************header***********************/\n\tthis.flag = \"BM\";\n\tthis.reserved = 0;\n\tthis.offset = 54;\n\tthis.fileSize = this.rgbSize+this.offset;\n\tthis.planes = 1;\n\tthis.bitPP = 24;\n\tthis.compress = 0;\n\tthis.hr = 0;\n\tthis.vr = 0;\n\tthis.colors = 0;\n\tthis.importantColors = 0;\n}\n\nBmpEncoder.prototype.encode = function() {\n\tvar tempBuffer = new Buffer(this.offset+this.rgbSize);\n\tthis.pos = 0;\n\ttempBuffer.write(this.flag,this.pos,2);this.pos+=2;\n\ttempBuffer.writeUInt32LE(this.fileSize,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt32LE(this.reserved,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt32LE(this.offset,this.pos);this.pos+=4;\n\n\ttempBuffer.writeUInt32LE(this.headerInfoSize,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt32LE(this.width,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt32LE(this.height,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt16LE(this.planes,this.pos);this.pos+=2;\n\ttempBuffer.writeUInt16LE(this.bitPP,this.pos);this.pos+=2;\n\ttempBuffer.writeUInt32LE(this.compress,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt32LE(this.rgbSize,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt32LE(this.hr,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt32LE(this.vr,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt32LE(this.colors,this.pos);this.pos+=4;\n\ttempBuffer.writeUInt32LE(this.importantColors,this.pos);this.pos+=4;\n\n\tvar i=0;\n\tvar rowBytes = 3*this.width+this.extraBytes;\n\n\tfor (var y = this.height - 1; y >= 0; y--){\n\t\tfor (var x = 0; x < this.width; x++){\n\t\t\tvar p = this.pos+y*rowBytes+x*3;\n\t\t\ttempBuffer[p+2]= this.buffer[i++];//r\n\t\t\ttempBuffer[p+1] = this.buffer[i++];//g\n\t\t\ttempBuffer[p]  = this.buffer[i++];//b\n\t\t\ti++;\n\t\t}\n\t\tif(this.extraBytes>0){\n\t\t\tvar fillOffset = this.pos+y*rowBytes+this.width*3;\n\t\t\ttempBuffer.fill(0,fillOffset,fillOffset+this.extraBytes);\t\n\t\t}\n\t}\n\n\treturn tempBuffer;\n};\n\n\n\n\nmodule.exports = encode = function(imgData, quality) {\n  if (typeof quality === 'undefined') quality = 100;\n \tvar encoder = new BmpEncoder(imgData);\n\tvar data = encoder.encode();\n  return {\n    data: data,\n    width: imgData.width,\n    height: imgData.height\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/bmp-js/lib/encoder.js\n// module id = 43\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/bmp-js/lib/encoder.js","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/browser.js\n// module id = 44\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/debug/src/browser.js","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/index.js\n// module id = 45\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/debug/src/index.js","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .replace(/\\s*\\n\\s*/g, ' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/debug/src/node.js\n// module id = 46\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/debug/src/node.js","//\r\n// A couple of methods that make working with buffers more easy.\r\n//\r\n\r\nBuffer.prototype.getByte = function (offset) {\r\n  return this[offset];\r\n};\r\n\r\nBuffer.prototype.getSignedByte = function (offset) {\r\n  return (this[offset] > 127) ? this[offset] - 256 : this[offset];\r\n};\r\n\r\nBuffer.prototype.getShort = function (offset, bigEndian) {\r\n  var shortVal = (bigEndian) ? (this[offset] << 8) + this[offset + 1] : (this[offset + 1] << 8) + this[offset];\r\n  return (shortVal < 0) ? shortVal + 65536 : shortVal;\r\n};\r\n\r\nBuffer.prototype.getSignedShort = function (offset, bigEndian) {\r\n  var shortVal = (bigEndian) ? (this[offset] << 8) + this[offset + 1] : (this[offset + 1] << 8) + this[offset];\r\n  return (shortVal > 32767) ? shortVal - 65536 : shortVal;\r\n};\r\n\r\nBuffer.prototype.getLong = function (offset, bigEndian) {\r\n  var longVal = (bigEndian) ? (((((this[offset] << 8) + this[offset + 1]) << 8) + this[offset + 2]) << 8) + this[offset + 3] : (((((this[offset + 3] << 8) + this[offset + 2]) << 8) + this[offset + 1]) << 8) + this[offset];\r\n  return (longVal < 0) ? longVal + 4294967296 : longVal;\r\n};\r\n\r\nBuffer.prototype.getSignedLong = function (offset, bigEndian) {\r\n  var longVal = (bigEndian) ? (((((this[offset] << 8) + this[offset + 1]) << 8) + this[offset + 2]) << 8) + this[offset + 3] : (((((this[offset + 3] << 8) + this[offset + 2]) << 8) + this[offset + 1]) << 8) + this[offset];\r\n  return (longVal > 2147483647) ? longVal - 4294967296 : longVal;\r\n};\r\n\r\nBuffer.prototype.getString = function (offset, length) {\r\n  var string = [];\r\n  for (var i = offset; i < offset + length; i++) {\r\n    string.push(String.fromCharCode(this[i]));\r\n  }\r\n  return string.join('');\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/Buffer.js\n// module id = 47\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/exif/lib/exif/Buffer.js","/*jslint node: true */\r\n\"use strict\";\r\n\r\nvar assert = require('assert');\r\nvar fs = require('fs');\r\nvar util = require('util');\r\nvar BufferExtender = require('./Buffer'); // bad idea\r\nvar debug = require('debug')('exif');\r\n\r\nvar DEFAULT_MAX_ENTRIES=128;\r\n\r\n/**\r\n * Represents an image with Exif information. When instantiating it you have to\r\n * provide an image and a callback function which is called once all metadata\r\n * is extracted from the image.\r\n *\r\n * Available options are:\r\n *  - image The image to get Exif data from can be either a filesystem path or\r\n *          a Buffer.\r\n *  - tiffOffsets  (boolean) an object named \"offsets\" is added to exifData \r\n *          and contains lot of offsets needed to get thumbnail and other things. \r\n *  - fixThumbnailOffset:  node-exif corrects the thumbnail offset in order to have an offset from the start of the buffer/file.\r\n *  - maxEntries: Specifies the maximum entries to be parsed\r\n *  - ifd0MaxEntries\r\n *  - ifd1MaxEntries\r\n *  - maxGpsEntries\r\n *  - maxInteroperabilityEntries\r\n *  - agfaMaxEntries \r\n *  - epsonMaxEntries\r\n *  - fujifilmMaxEntries\r\n *  - olympusMaxEntries\r\n *  - panasonicMaxEntries\r\n *  - sanyoMaxEntries\r\n *  - noPadding\r\n *\r\n * If you don't set the image field, you might call  exifImage.loadImage(image, callback) to get exif datas. \r\n *\r\n * @param options Configuration options as described above\r\n * @param callback Function to call when data is extracted or an error occurred\r\n * @return Nothing of importance, calls the specified callback function instead\r\n */\r\nfunction ExifImage (options, callback) {\r\n  if (!(this instanceof ExifImage)) {\r\n    if (typeof(options)===\"string\") {\r\n      options = {\r\n          image: options\r\n      }\r\n    }\r\n\r\n    assert(typeof(options)===\"object\", \"Invalid options object\");\r\n    \r\n    var exifImage = new ExifImage(options, function(error, data) {\r\n      if (error) {\r\n        return callback(error);\r\n      }\r\n      \r\n      callback(null, data, options.image);      \r\n    });\r\n    \r\n    return exifImage;\r\n  }\r\n\r\n  if (typeof(options)===\"string\") {\r\n    options= {\r\n        image: options\r\n    }\r\n  } else if (options instanceof Buffer) {\r\n    options= {\r\n        image: options\r\n    }\r\n  }\r\n  \r\n  var ops={};\r\n  if (options) {\r\n    for(var k in options) {\r\n      ops[k]=options[k];\r\n    }\r\n  }\r\n  this.options=ops;\r\n\r\n  // Default option values\r\n  [\"ifd0MaxEntries\", \"ifd1MaxEntries\", \"maxGpsEntries\", \"maxInteroperabilityEntries\", \"agfaMaxEntries\", \"epsonMaxEntries\", \r\n     \"fujifilmMaxEntries\", \"olympusMaxEntries\", \"panasonicMaxEntries\", \"sanyoMaxEntries\"].forEach(function(p) {\r\n       if (ops[p]===undefined) {\r\n         ops[p]=DEFAULT_MAX_ENTRIES;\r\n       }\r\n     });\r\n\r\n  this.exifData = {\r\n    image : {},                 // Information about the main image\r\n    thumbnail : {},             // Information about the thumbnail\r\n    exif : {},                  // Exif information\r\n    gps : {},                   // GPS information\r\n    interoperability: {},       // Exif Interoperability information\r\n    makernote : {}              // Makernote information\r\n  };\r\n   \r\n  this.offsets={};\r\n  if (ops.tiffOffsets) {\r\n    exifData.offsets=offsets;\r\n  }\r\n  \r\n  debug(\"New ExifImage options=\",options);\r\n\r\n  if (!ops.image) {\r\n    // If options image is not specified, the developper must call loadImage() to parse the image.\r\n//    callback(new Error('You have to provide an image, it is pretty hard to extract Exif data from nothing...'));\r\n    return;\r\n  }\r\n\r\n  if (typeof callback !== 'function') {\r\n    throw new Error('You have to provide a callback function.');\r\n  }\r\n \r\n  var self=this;\r\n  setImmediate(function() {\r\n    self.loadImage(ops.image, function (error, exifData) {\r\n      if (error) {\r\n        return callback(error);\r\n      }\r\n    \r\n      callback(null, exifData, ops.image);\r\n    });\r\n  });\r\n}\r\n\r\nExifImage.ExifImage=ExifImage;\r\n\r\nmodule.exports = ExifImage;\r\n\r\n/**\r\n * Load image and parse exifDatas\r\n *\r\n * @param [String|Buffer] image the image\r\n * @param callback a callback which is called when exif datas are parsed.\r\n * @return Nothing\r\n */\r\nExifImage.prototype.loadImage = function (image, callback) {\r\n  assert(typeof(callback)===\"function\", \"Callback must be a function\");\r\n  \r\n  var self = this;\r\n\r\n  debug(\"loadImage image=\", image);\r\n  \r\n  if (image.constructor.name === 'Buffer') {\r\n    this.processImage(\"Buffer\", image, callback);\r\n    return;\r\n  }\r\n  \r\n  if (image.constructor.name === 'String') {\r\n    fs.readFile(image, function (error, data) {\r\n      if (error) {\r\n        callback(new Error('Encountered the following error while trying to read given image: '+error));\r\n        return;\r\n      }\r\n\r\n      self.processImage(\"File: \"+image, data, callback);\r\n    });\r\n    return;\r\n  }\r\n\r\n  callback(new Error('Given image is neither a buffer nor a file, please provide one of these.'));\r\n};\r\n\r\nExifImage.prototype.processImage = function (source, data, callback) {\r\n  assert(typeof(source)===\"string\", \"Source must be a string\");\r\n  assert(typeof(callback)===\"function\", \"Callback must be a function\");\r\n  \r\n  var offset = 0;\r\n\r\n  if (data[offset++] != 0xFF || data[offset++] != 0xD8) {\r\n    var e=new Error('The given image is not a JPEG and thus unsupported right now.');\r\n    e.source=source;\r\n    e.code=\"NOT_A_JPEG\";\r\n    callback(e);\r\n    return;\r\n  }\r\n\r\n  this.imageType = 'JPEG';\r\n\r\n  while (offset < data.length) {\r\n\r\n    if (data[offset++] != 0xFF) {\r\n      break;\r\n    }\r\n\r\n    if (data[offset++] == 0xE1) {\r\n      try {\r\n        this.extractExifData(data, offset + 2, data.getShort(offset, true) - 2);\r\n\r\n      } catch (error) {\r\n        error.code=\"PARSING_ERROR\";\r\n        error.source=source;        \r\n\r\n        debug(\"Extract exif data error source=\", source, \"offset=\", offset, \"error=\",error);\r\n        \r\n        callback(error);\r\n        return;\r\n      }\r\n      \r\n      debug(\"Extract exif data success source=\", source, \"exifData=\",this.exifData);\r\n\r\n      callback(null, this.exifData);\r\n      return;\r\n    }\r\n\r\n    offset += data.getShort(offset, true);\r\n  }\r\n\r\n  var e2=new Error('No Exif segment found in the given image.');\r\n  e2.source=source;\r\n  e2.code=\"NO_EXIF_SEGMENT\";\r\n  \r\n  callback(e2);\r\n};\r\n\r\nExifImage.prototype.extractExifData = function (data, start, length) {\r\n\r\n  var exifData=this.exifData;\r\n  var tiffOffset = start + 6;\r\n  var ifdOffset, numberOfEntries;\r\n  var noPadding = (this.options.noPadding!==false);\r\n  \r\n  this.offsets.tiff=tiffOffset;\r\n\r\n  // Exif data always starts with Exif\\0\\0\r\n  if (data.toString('utf8', start, tiffOffset) != 'Exif\\0\\0') {\r\n    throw new Error('The Exif data is not valid.');\r\n  }\r\n\r\n  // After the Exif start we either have 0x4949 if the following data is\r\n  // stored in big endian or 0x4D4D if it is stored in little endian\r\n  if (data.getShort(tiffOffset) == 0x4949) {\r\n    this.isBigEndian = false;\r\n    \r\n  } else if (data.getShort(tiffOffset) == 0x4D4D) {\r\n    this.isBigEndian = true;\r\n    \r\n  } else {\r\n    throw new Error('Invalid TIFF data! Expected 0x4949 or 0x4D4D at offset '+(tiffOffset)+' but found 0x'+data[tiffOffset].toString(16).toUpperCase()+data[tiffOffset + 1].toString(16).toUpperCase()+\".\");\r\n  }\r\n\r\n  debug(\"BigEndian=\",this.isBigEndian);\r\n  \r\n  // Valid TIFF headers always have 0x002A here\r\n  if (data.getShort(tiffOffset + 2, this.isBigEndian) != 0x002A) {\r\n    var expected = (this.isBigEndian) ? '0x002A' : '0x2A00';\r\n    throw new Error('Invalid TIFF data! Expected '+expected+' at offset '+(tiffOffset + 2)+' but found 0x'+data[tiffOffset + 2].toString(16).toUpperCase()+data[tiffOffset + 3].toString(16).toUpperCase()+\".\");\r\n  }\r\n\r\n  /********************************* IFD0 **********************************/\r\n\r\n  // Offset to IFD0 which is always followed by two bytes with the amount of\r\n  // entries in this IFD\r\n  ifdOffset = tiffOffset + data.getLong(tiffOffset + 4, this.isBigEndian);\r\n  this.offsets.ifd0=ifdOffset;\r\n  \r\n  numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n  if (this.options.ifd0MaxEntries) {\r\n    numberOfEntries=Math.min(numberOfEntries, this.options.ifd0MaxEntries);\r\n  }\r\n\r\n  debug(\"IFD0 ifdOffset=\",ifdOffset, \"numberOfEntries=\", numberOfEntries);\r\n\r\n  // Each IFD entry consists of 12 bytes which we loop through and extract\r\n  // the data from\r\n  for (var i = 0; i < numberOfEntries; i++) {\r\n    var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, ExifImage.TAGS.exif);\r\n    if (!exifEntry) {\r\n      continue;\r\n    }\r\n    \r\n    if (exifEntry.tagId===0xEA1C && noPadding) {\r\n      continue;\r\n    }\r\n    \r\n    exifData.image[exifEntry.tagName] = exifEntry.value;\r\n  }\r\n\r\n  debug(\"IFD0 parsed\", exifData.image);\r\n\r\n  /********************************* IFD1 **********************************/\r\n\r\n  // Check if there is an offset for IFD1. If so it is always followed by two\r\n  // bytes with the amount of entries in this IFD, if not there is no IFD1\r\n  var nextIfdOffset = data.getLong(ifdOffset + 2 + (numberOfEntries * 12), this.isBigEndian)\r\n  if (nextIfdOffset != 0x00000000) {\r\n    ifdOffset = tiffOffset + nextIfdOffset;\r\n    this.offsets.ifd1=ifdOffset;\r\n    numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n    if (this.options.ifd1MaxEntries) {\r\n      numberOfEntries=Math.min(numberOfEntries, this.options.ifd1MaxEntries);\r\n    }\r\n\r\n    debug(\"IFD1 ifdOffset=\",ifdOffset, \"numberOfEntries=\", numberOfEntries);\r\n\r\n    // Each IFD entry consists of 12 bytes which we loop through and extract\r\n    // the data from\r\n    for (var i = 0; i < numberOfEntries; i++) {\r\n      var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, ExifImage.TAGS.exif);\r\n      if (!exifEntry) {\r\n        continue;\r\n      }\r\n\r\n      if (exifEntry.tagId===0xEA1C && noPadding) {\r\n        continue;\r\n      }\r\n                  \r\n      exifData.thumbnail[exifEntry.tagName] = exifEntry.value;\r\n    }\r\n    \r\n    if (this.options.fixThumbnailOffset) {\r\n      var thumbnailOffset=exifData.thumbnail[ExifImage.TAGS.exif[0x0201]];\r\n      if (thumbnailOffset) {\r\n        debug(\"IFD1 fix thumbnail offset, add=\",this.offsets.tiff);\r\n        \r\n        exifData.thumbnail[ExifImage.TAGS.exif[0x0201]]+=this.offsets.tiff;\r\n      }\r\n    }\r\n\r\n    debug(\"IFD1 parsed\", exifData.thumbnail);\r\n  }\r\n\r\n  /******************************* EXIF IFD ********************************/\r\n\r\n  // Look for a pointer to the Exif IFD in IFD0 and extract information from\r\n  // it if available\r\n  if (exifData.image[ExifImage.TAGS.exif[0x8769]]) {\r\n\r\n    ifdOffset = tiffOffset + exifData.image[ExifImage.TAGS.exif[0x8769]];\r\n    this.offsets.tags=ifdOffset;\r\n    \r\n    numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n    if (this.options.maxEntries) {\r\n      numberOfEntries=Math.min(numberOfEntries, this.options.maxEntries);\r\n    }\r\n    \r\n    debug(\"EXIF IFD ifdOffset=\",ifdOffset, \"numberOfEntries=\", numberOfEntries);\r\n    \r\n    // Each IFD entry consists of 12 bytes which we loop through and extract\r\n    // the data from\r\n    for (var i = 0; i < numberOfEntries; i++) {\r\n      var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, ExifImage.TAGS.exif);\r\n      if (!exifEntry) {\r\n        continue;\r\n      }\r\n\r\n      if (exifEntry.tagId===0xEA1C && noPadding) {\r\n        continue;\r\n      }\r\n            \r\n      exifData.exif[exifEntry.tagName] = exifEntry.value;\r\n    }\r\n\r\n    debug(\"EXIF IFD parsed\",exifData.exif);\r\n  }\r\n\r\n  /******************************** GPS IFD ********************************/\r\n\r\n  // Look for a pointer to the GPS IFD in IFD0 and extract information from\r\n  // it if available\r\n  if (exifData.image[ExifImage.TAGS.exif[0x8825]]) {\r\n\r\n    ifdOffset = tiffOffset + exifData.image[ExifImage.TAGS.exif[0x8825]];\r\n    this.offsets.gps=ifdOffset;\r\n\r\n    numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n    if (this.options.maxGpsEntries) {\r\n      numberOfEntries=Math.min(numberOfEntries, this.options.maxGpsEntries);\r\n    }\r\n    \r\n    debug(\"GPS IFD ifdOffset=\", ifdOffset, \"numberOfEntries=\", numberOfEntries);\r\n\r\n    // Each IFD entry consists of 12 bytes which we loop through and extract\r\n    // the data from\r\n    for (var i = 0; i < numberOfEntries; i++) {\r\n      var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, ExifImage.TAGS.gps);\r\n      if (!exifEntry) {\r\n        continue;\r\n      }\r\n\r\n      if (exifEntry.tagId===0xEA1C && noPadding) {\r\n        continue;\r\n      }\r\n      \r\n      exifData.gps[exifEntry.tagName] = exifEntry.value;\r\n    }\r\n\r\n    debug(\"GPS IFD parsed\",exifData.gps);\r\n   }\r\n\r\n  /************************* Interoperability IFD **************************/\r\n\r\n  // Look for a pointer to the interoperatbility IFD in the Exif IFD and\r\n  // extract information from it if available\r\n  if (exifData.exif[ExifImage.TAGS.exif[0xA005]]) {\r\n\r\n    ifdOffset = tiffOffset + exifData.exif[ExifImage.TAGS.exif[0xA005]];\r\n    this.offsets.interoperability=ifdOffset;\r\n    \r\n    numberOfEntries = data.getShort(ifdOffset, this.isBigEndian);\r\n    if (this.options.maxInteroperabilityEntries) {\r\n      numberOfEntries=Math.min(numberOfEntries, this.options.maxInteroperabilityEntries);\r\n    }\r\n    \r\n    debug(\"Interoperability IFD ifdOffset=\", ifdOffset, \"numberOfEntries=\", numberOfEntries);\r\n\r\n    // Each IFD entry consists of 12 bytes which we loop through and extract\r\n    // the data from\r\n    for (var i = 0; i < numberOfEntries; i++) {\r\n      var exifEntry = this.extractExifEntry(data, (ifdOffset + 2 + (i * 12)), tiffOffset, this.isBigEndian, ExifImage.TAGS.exif);\r\n      if (!exifEntry) {\r\n        break;\r\n      }\r\n\r\n      if (exifEntry.tagId===0xEA1C && noPadding) {\r\n        continue;\r\n      }\r\n            \r\n      exifData.interoperability[exifEntry.tagName] = exifEntry.value;\r\n   }\r\n\r\n    debug(\"Interoperability IFD parsed\",exifData.gps);\r\n  }\r\n\r\n  /***************************** Makernote IFD *****************************/\r\n\r\n  // Look for Makernote data in the Exif IFD, check which type of proprietary\r\n  // Makernotes the image contains, load the respective functionality and\r\n  // start the extraction\r\n  if (typeof exifData.exif[ExifImage.TAGS.exif[0x927C]] != \"undefined\") {\r\n\r\n    var type;\r\n    // Check the header to see what kind of Makernote we are dealing with\r\n    if (exifData.exif[ExifImage.TAGS.exif[0x927C]].getString(0, 7) === \"OLYMP\\x00\\x01\" || exifData.exif[ExifImage.TAGS.exif[0x927C]].getString(0, 7) === \"OLYMP\\x00\\x02\") {\r\n      type=\"olympus\"\r\n\r\n    } else if (exifData.exif[ExifImage.TAGS.exif[0x927C]].getString(0, 7) === \"AGFA \\x00\\x01\") {\r\n      type=\"agfa\";\r\n\r\n    } else if (exifData.exif[ExifImage.TAGS.exif[0x927C]].getString(0, 8) === \"EPSON\\x00\\x01\\x00\") {\r\n      type=\"epson\";\r\n\r\n    } else if (exifData.exif[ExifImage.TAGS.exif[0x927C]].getString(0, 8) === \"FUJIFILM\") {\r\n      type=\"fujifilm\";\r\n\r\n    } else if (exifData.exif[ExifImage.TAGS.exif[0x927C]].getString(0, 9) === \"Panasonic\") {\r\n      type=\"panasonic\";\r\n\r\n    } else if (exifData.exif[ExifImage.TAGS.exif[0x927C]].getString(0, 5) === \"SANYO\") {\r\n      type=\"sanyo\";\r\n    }\r\n   \r\n\r\n    debug(\"Makernote IFD ifdOffset=\", ifdOffset, \"type=\", type);\r\n\r\n    if (type) {\r\n      var extractMakernotes = require('./makernotes/'+type).extractMakernotes;\r\n\r\n      exifData.makernote = extractMakernotes.call(this, data, this.makernoteOffset, tiffOffset);\r\n      \r\n    } else {      \r\n      // Makernotes are available but the format is not recognized so\r\n      // an error message is pushed instead, this ain't the best\r\n      // solution but should do for now\r\n       exifData.makernote['error'] = 'Unable to extract Makernote information as it is in an unsupported or unrecognized format.';    \r\n    }\r\n\r\n    debug(\"Makernote IFD parsed\",exifData.makernote);\r\n  }\r\n};\r\n\r\nExifImage.prototype.extractExifEntry = function (data, entryOffset, tiffOffset, isBigEndian, tags) {\r\n\r\n  var entry = {\r\n    tag : data.slice(entryOffset, entryOffset + 2),\r\n    tagId : null,\r\n    tagName : null,\r\n    format : data.getShort(entryOffset + 2, isBigEndian),\r\n    components : data.getLong(entryOffset + 4, isBigEndian),\r\n    valueOffset: null,\r\n    value : []\r\n  }\r\n\r\n  entry.tagId = entry.tag.getShort(0, isBigEndian);\r\n\r\n  // The tagId may correspond to more then one tagName so check which\r\n  if (tags && tags[entry.tagId] && typeof tags[entry.tagId] == \"function\") {\r\n    entry.tagName = tags[entry.tagId].call(this, entry);    \r\n    if (!entry.tagName) {\r\n      return false;\r\n    }\r\n\r\n  // The tagId corresponds to exactly one tagName\r\n  } else if (tags && tags[entry.tagId]) {\r\n    entry.tagName = tags[entry.tagId];\r\n    if (entry.tagName===undefined) {\r\n      return false;\r\n    }\r\n\r\n  // The tagId is not recognized\r\n  } else {\r\n    return false;\r\n  }\r\n\r\n  switch (entry.format) {\r\n\r\n    case 0x0001: // unsigned byte, 1 byte per component\r\n      entry.valueOffset = (entry.components <= 4) ? entryOffset + 8 : data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      for (var i = 0; i < entry.components; i++)\r\n        entry.value.push(data.getByte(entry.valueOffset + i));\r\n      break;\r\n\r\n    case 0x0002: // ascii strings, 1 byte per component\r\n      entry.valueOffset = (entry.components <= 4) ? entryOffset + 8 : data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      entry.value = data.getString(entry.valueOffset, entry.components);\r\n      if (entry.value[entry.value.length - 1] === \"\\u0000\") // Trim null terminated strings\r\n        entry.value = entry.value.substring(0, entry.value.length - 1);\r\n      break;\r\n\r\n    case 0x0003: // unsigned short, 2 byte per component\r\n      entry.valueOffset = (entry.components <= 2) ? entryOffset + 8 : data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      for (var i = 0; i < entry.components; i++)\r\n        entry.value.push(data.getShort(entry.valueOffset + i * 2, isBigEndian));\r\n      break;\r\n\r\n    case 0x0004: // unsigned long, 4 byte per component\r\n      entry.valueOffset = (entry.components == 1) ? entryOffset + 8 : data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      for (var i = 0; i < entry.components; i++)\r\n        entry.value.push(data.getLong(entry.valueOffset + i * 4, isBigEndian));\r\n      break;\r\n\r\n    case 0x0005: // unsigned rational, 8 byte per component (4 byte numerator and 4 byte denominator)\r\n      entry.valueOffset = data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      for (var i = 0; i < entry.components; i++)\r\n        entry.value.push(data.getLong(entry.valueOffset + i * 8, isBigEndian) / data.getLong(entry.valueOffset + i * 8 + 4, isBigEndian));\r\n      break;\r\n\r\n    case 0x0006: // signed byte, 1 byte per component\r\n      entry.valueOffset = (entry.components <= 4) ? entryOffset + 8 : data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      for (var i = 0; i < entry.components; i++)\r\n        entry.value.push(data.getSignedByte(entry.valueOffset + i));\r\n      break;\r\n\r\n    case 0x0007: // undefined, 1 byte per component\r\n      entry.valueOffset = (entry.components <= 4) ? entryOffset + 8 : data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      entry.value.push(data.slice(entry.valueOffset, entry.valueOffset + entry.components));\r\n      break;\r\n\r\n    case 0x0008: // signed short, 2 byte per component\r\n      entry.valueOffset = (entry.components <= 2) ? entryOffset + 8 : data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      for (var i = 0; i < entry.components; i++)\r\n        entry.value.push(data.getSignedShort(entry.valueOffset + i * 2, isBigEndian));\r\n      break;\r\n\r\n    case 0x0009: // signed long, 4 byte per component\r\n      entry.valueOffset = (entry.components == 1) ? entryOffset + 8 : data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      for (var i = 0; i < entry.components; i++)\r\n        entry.value.push(data.getSignedLong(entry.valueOffset + i * 4, isBigEndian));\r\n      break;\r\n\r\n    case 0x000A: // signed rational, 8 byte per component (4 byte numerator and 4 byte denominator)\r\n      entry.valueOffset = data.getLong(entryOffset + 8, isBigEndian) + tiffOffset;\r\n      for (var i = 0; i < entry.components; i++)\r\n        entry.value.push(data.getSignedLong(entry.valueOffset + i * 8, isBigEndian) / data.getSignedLong(entry.valueOffset + i * 8 + 4, isBigEndian));\r\n      break;\r\n\r\n    default:\r\n      return false;\r\n\r\n  }\r\n\r\n  // If this is the Makernote tag save its offset for later use\r\n  if (entry.tagName === \"MakerNote\") {\r\n    this.offsets.makernoteOffset = entry.valueOffset;\r\n  }\r\n\r\n  // If the value array has only one element we don't need an array\r\n  if (entry.value.length == 1) {\r\n    entry.value = entry.value[0];\r\n  }\r\n\r\n  return entry;\r\n};\r\n\r\n/**\r\n * Comprehensive list of TIFF and Exif tags found on\r\n * http://www.sno.phy.queensu.ca/~phil/exiftool/TagNames/EXIF.html\r\n */\r\nExifImage.TAGS = {\r\n\r\n  // Exif tags\r\n  exif : {\r\n\r\n    0x0001 : \"InteropIndex\",\r\n    0x0002 : \"InteropVersion\",\r\n    0x000B : \"ProcessingSoftware\",\r\n    0x00FE : \"SubfileType\",\r\n    0x00FF : \"OldSubfileType\",\r\n    0x0100 : \"ImageWidth\",\r\n    0x0101 : \"ImageHeight\",\r\n    0x0102 : \"BitsPerSample\",\r\n    0x0103 : \"Compression\",\r\n    0x0106 : \"PhotometricInterpretation\",\r\n    0x0107 : \"Thresholding\",\r\n    0x0108 : \"CellWidth\",\r\n    0x0109 : \"CellLength\",\r\n    0x010A : \"FillOrder\",\r\n    0x010D : \"DocumentName\",\r\n    0x010E : \"ImageDescription\",\r\n    0x010F : \"Make\",\r\n    0x0110 : \"Model\",\r\n    0x0111 : \"StripOffsets\",\r\n    0x0112 : \"Orientation\",\r\n    0x0115 : \"SamplesPerPixel\",\r\n    0x0116 : \"RowsPerStrip\",\r\n    0x0117 : \"StripByteCounts\",\r\n    0x0118 : \"MinSampleValue\",\r\n    0x0119 : \"MaxSampleValue\",\r\n    0x011A : \"XResolution\",\r\n    0x011B : \"YResolution\",\r\n    0x011C : \"PlanarConfiguration\",\r\n    0x011D : \"PageName\",\r\n    0x011E : \"XPosition\",\r\n    0x011F : \"YPosition\",\r\n    0x0120 : \"FreeOffsets\",\r\n    0x0121 : \"FreeByteCounts\",\r\n    0x0122 : \"GrayResponseUnit\",\r\n    0x0123 : \"GrayResponseCurve\",\r\n    0x0124 : \"T4Options\",\r\n    0x0125 : \"T6Options\",\r\n    0x0128 : \"ResolutionUnit\",\r\n    0x0129 : \"PageNumber\",\r\n    0x012C : \"ColorResponseUnit\",\r\n    0x012D : \"TransferFunction\",\r\n    0x0131 : \"Software\",\r\n    0x0132 : \"ModifyDate\",\r\n    0x013B : \"Artist\",\r\n    0x013C : \"HostComputer\",\r\n    0x013D : \"Predictor\",\r\n    0x013E : \"WhitePoint\",\r\n    0x013F : \"PrimaryChromaticities\",\r\n    0x0140 : \"ColorMap\",\r\n    0x0141 : \"HalftoneHints\",\r\n    0x0142 : \"TileWidth\",\r\n    0x0143 : \"TileLength\",\r\n    0x0144 : \"TileOffsets\",\r\n    0x0145 : \"TileByteCounts\",\r\n    0x0146 : \"BadFaxLines\",\r\n    0x0147 : \"CleanFaxData\",\r\n    0x0148 : \"ConsecutiveBadFaxLines\",\r\n    0x014A : \"SubIFD\",\r\n    0x014C : \"InkSet\",\r\n    0x014D : \"InkNames\",\r\n    0x014E : \"NumberofInks\",\r\n    0x0150 : \"DotRange\",\r\n    0x0151 : \"TargetPrinter\",\r\n    0x0152 : \"ExtraSamples\",\r\n    0x0153 : \"SampleFormat\",\r\n    0x0154 : \"SMinSampleValue\",\r\n    0x0155 : \"SMaxSampleValue\",\r\n    0x0156 : \"TransferRange\",\r\n    0x0157 : \"ClipPath\",\r\n    0x0158 : \"XClipPathUnits\",\r\n    0x0159 : \"YClipPathUnits\",\r\n    0x015A : \"Indexed\",\r\n    0x015B : \"JPEGTables\",\r\n    0x015F : \"OPIProxy\",\r\n    0x0190 : \"GlobalParametersIFD\",\r\n    0x0191 : \"ProfileType\",\r\n    0x0192 : \"FaxProfile\",\r\n    0x0193 : \"CodingMethods\",\r\n    0x0194 : \"VersionYear\",\r\n    0x0195 : \"ModeNumber\",\r\n    0x01B1 : \"Decode\",\r\n    0x01B2 : \"DefaultImageColor\",\r\n    0x01B3 : \"T82Options\",\r\n    0x01B5 : \"JPEGTables\",\r\n    0x0200 : \"JPEGProc\",\r\n    0x0201 : \"ThumbnailOffset\",\r\n    0x0202 : \"ThumbnailLength\",\r\n    0x0203 : \"JPEGRestartInterval\",\r\n    0x0205 : \"JPEGLosslessPredictors\",\r\n    0x0206 : \"JPEGPointTransforms\",\r\n    0x0207 : \"JPEGQTables\",\r\n    0x0208 : \"JPEGDCTables\",\r\n    0x0209 : \"JPEGACTables\",\r\n    0x0211 : \"YCbCrCoefficients\",\r\n    0x0212 : \"YCbCrSubSampling\",\r\n    0x0213 : \"YCbCrPositioning\",\r\n    0x0214 : \"ReferenceBlackWhite\",\r\n    0x022F : \"StripRowCounts\",\r\n    0x02BC : \"ApplicationNotes\",\r\n    0x03E7 : \"USPTOMiscellaneous\",\r\n    0x1000 : \"RelatedImageFileFormat\",\r\n    0x1001 : \"RelatedImageWidth\",\r\n    0x1002 : \"RelatedImageHeight\",\r\n    0x4746 : \"Rating\",\r\n    0x4747 : \"XP_DIP_XML\",\r\n    0x4748 : \"StitchInfo\",\r\n    0x4749 : \"RatingPercent\",\r\n    0x800D : \"ImageID\",\r\n    0x80A3 : \"WangTag1\",\r\n    0x80A4 : \"WangAnnotation\",\r\n    0x80A5 : \"WangTag3\",\r\n    0x80A6 : \"WangTag4\",\r\n    0x80E3 : \"Matteing\",\r\n    0x80E4 : \"DataType\",\r\n    0x80E5 : \"ImageDepth\",\r\n    0x80E6 : \"TileDepth\",\r\n    0x827D : \"Model2\",\r\n    0x828D : \"CFARepeatPatternDim\",\r\n    0x828E : \"CFAPattern2\",\r\n    0x828F : \"BatteryLevel\",\r\n    0x8290 : \"KodakIFD\",\r\n    0x8298 : \"Copyright\",\r\n    0x829A : \"ExposureTime\",\r\n    0x829D : \"FNumber\",\r\n    0x82A5 : \"MDFileTag\",\r\n    0x82A6 : \"MDScalePixel\",\r\n    0x82A7 : \"MDColorTable\",\r\n    0x82A8 : \"MDLabName\",\r\n    0x82A9 : \"MDSampleInfo\",\r\n    0x82AA : \"MDPrepDate\",\r\n    0x82AB : \"MDPrepTime\",\r\n    0x82AC : \"MDFileUnits\",\r\n    0x830E : \"PixelScale\",\r\n    0x8335 : \"AdventScale\",\r\n    0x8336 : \"AdventRevision\",\r\n    0x835C : \"UIC1Tag\",\r\n    0x835D : \"UIC2Tag\",\r\n    0x835E : \"UIC3Tag\",\r\n    0x835F : \"UIC4Tag\",\r\n    0x83BB : \"IPTC-NAA\",\r\n    0x847E : \"IntergraphPacketData\",\r\n    0x847F : \"IntergraphFlagRegisters\",\r\n    0x8480 : \"IntergraphMatrix\",\r\n    0x8481 : \"INGRReserved\",\r\n    0x8482 : \"ModelTiePoint\",\r\n    0x84E0 : \"Site\",\r\n    0x84E1 : \"ColorSequence\",\r\n    0x84E2 : \"IT8Header\",\r\n    0x84E3 : \"RasterPadding\",\r\n    0x84E4 : \"BitsPerRunLength\",\r\n    0x84E5 : \"BitsPerExtendedRunLength\",\r\n    0x84E6 : \"ColorTable\",\r\n    0x84E7 : \"ImageColorIndicator\",\r\n    0x84E8 : \"BackgroundColorIndicator\",\r\n    0x84E9 : \"ImageColorValue\",\r\n    0x84EA : \"BackgroundColorValue\",\r\n    0x84EB : \"PixelIntensityRange\",\r\n    0x84EC : \"TransparencyIndicator\",\r\n    0x84ED : \"ColorCharacterization\",\r\n    0x84EE : \"HCUsage\",\r\n    0x84EF : \"TrapIndicator\",\r\n    0x84F0 : \"CMYKEquivalent\",\r\n    0x8546 : \"SEMInfo\",\r\n    0x8568 : \"AFCP_IPTC\",\r\n    0x85B8 : \"PixelMagicJBIGOptions\",\r\n    0x85D8 : \"ModelTransform\",\r\n    0x8602 : \"WB_GRGBLevels\",\r\n    0x8606 : \"LeafData\",\r\n    0x8649 : \"PhotoshopSettings\",\r\n    0x8769 : \"ExifOffset\",\r\n    0x8773 : \"ICC_Profile\",\r\n    0x877F : \"TIFF_FXExtensions\",\r\n    0x8780 : \"MultiProfiles\",\r\n    0x8781 : \"SharedData\",\r\n    0x8782 : \"T88Options\",\r\n    0x87AC : \"ImageLayer\",\r\n    0x87AF : \"GeoTiffDirectory\",\r\n    0x87B0 : \"GeoTiffDoubleParams\",\r\n    0x87B1 : \"GeoTiffAsciiParams\",\r\n    0x8822 : \"ExposureProgram\",\r\n    0x8824 : \"SpectralSensitivity\",\r\n    0x8825 : \"GPSInfo\",\r\n    0x8827 : \"ISO\",\r\n    0x8828 : \"Opto-ElectricConvFactor\",\r\n    0x8829 : \"Interlace\",\r\n    0x882A : \"TimeZoneOffset\",\r\n    0x882B : \"SelfTimerMode\",\r\n    0x8830 : \"SensitivityType\",\r\n    0x8831 : \"StandardOutputSensitivity\",\r\n    0x8832 : \"RecommendedExposureIndex\",\r\n    0x8833 : \"ISOSpeed\",\r\n    0x8834 : \"ISOSpeedLatitudeyyy\",\r\n    0x8835 : \"ISOSpeedLatitudezzz\",\r\n    0x885C : \"FaxRecvParams\",\r\n    0x885D : \"FaxSubAddress\",\r\n    0x885E : \"FaxRecvTime\",\r\n    0x888A : \"LeafSubIFD\",\r\n    0x9000 : \"ExifVersion\",\r\n    0x9003 : \"DateTimeOriginal\",\r\n    0x9004 : \"CreateDate\",\r\n    0x9101 : \"ComponentsConfiguration\",\r\n    0x9102 : \"CompressedBitsPerPixel\",\r\n    0x9201 : \"ShutterSpeedValue\",\r\n    0x9202 : \"ApertureValue\",\r\n    0x9203 : \"BrightnessValue\",\r\n    0x9204 : \"ExposureCompensation\",\r\n    0x9205 : \"MaxApertureValue\",\r\n    0x9206 : \"SubjectDistance\",\r\n    0x9207 : \"MeteringMode\",\r\n    0x9208 : \"LightSource\",\r\n    0x9209 : \"Flash\",\r\n    0x920A : \"FocalLength\",\r\n    0x920B : \"FlashEnergy\",\r\n    0x920C : \"SpatialFrequencyResponse\",\r\n    0x920D : \"Noise\",\r\n    0x920E : \"FocalPlaneXResolution\",\r\n    0x920F : \"FocalPlaneYResolution\",\r\n    0x9210 : \"FocalPlaneResolutionUnit\",\r\n    0x9211 : \"ImageNumber\",\r\n    0x9212 : \"SecurityClassification\",\r\n    0x9213 : \"ImageHistory\",\r\n    0x9214 : \"SubjectArea\",\r\n    0x9215 : \"ExposureIndex\",\r\n    0x9216 : \"TIFF-EPStandardID\",\r\n    0x9217 : \"SensingMethod\",\r\n    0x923A : \"CIP3DataFile\",\r\n    0x923B : \"CIP3Sheet\",\r\n    0x923C : \"CIP3Side\",\r\n    0x923F : \"StoNits\",\r\n    0x927C : \"MakerNote\",\r\n    0x9286 : \"UserComment\",\r\n    0x9290 : \"SubSecTime\",\r\n    0x9291 : \"SubSecTimeOriginal\",\r\n    0x9292 : \"SubSecTimeDigitized\",\r\n    0x932F : \"MSDocumentText\",\r\n    0x9330 : \"MSPropertySetStorage\",\r\n    0x9331 : \"MSDocumentTextPosition\",\r\n    0x935C : \"ImageSourceData\",\r\n    0x9C9B : \"XPTitle\",\r\n    0x9C9C : \"XPComment\",\r\n    0x9C9D : \"XPAuthor\",\r\n    0x9C9E : \"XPKeywords\",\r\n    0x9C9F : \"XPSubject\",\r\n    0xA000 : \"FlashpixVersion\",\r\n    0xA001 : \"ColorSpace\",\r\n    0xA002 : \"ExifImageWidth\",\r\n    0xA003 : \"ExifImageHeight\",\r\n    0xA004 : \"RelatedSoundFile\",\r\n    0xA005 : \"InteropOffset\",\r\n    0xA20B : \"FlashEnergy\",\r\n    0xA20C : \"SpatialFrequencyResponse\",\r\n    0xA20D : \"Noise\",\r\n    0xA20E : \"FocalPlaneXResolution\",\r\n    0xA20F : \"FocalPlaneYResolution\",\r\n    0xA210 : \"FocalPlaneResolutionUnit\",\r\n    0xA211 : \"ImageNumber\",\r\n    0xA212 : \"SecurityClassification\",\r\n    0xA213 : \"ImageHistory\",\r\n    0xA214 : \"SubjectLocation\",\r\n    0xA215 : \"ExposureIndex\",\r\n    0xA216 : \"TIFF-EPStandardID\",\r\n    0xA217 : \"SensingMethod\",\r\n    0xA300 : \"FileSource\",\r\n    0xA301 : \"SceneType\",\r\n    0xA302 : \"CFAPattern\",\r\n    0xA401 : \"CustomRendered\",\r\n    0xA402 : \"ExposureMode\",\r\n    0xA403 : \"WhiteBalance\",\r\n    0xA404 : \"DigitalZoomRatio\",\r\n    0xA405 : \"FocalLengthIn35mmFormat\",\r\n    0xA406 : \"SceneCaptureType\",\r\n    0xA407 : \"GainControl\",\r\n    0xA408 : \"Contrast\",\r\n    0xA409 : \"Saturation\",\r\n    0xA40A : \"Sharpness\",\r\n    0xA40B : \"DeviceSettingDescription\",\r\n    0xA40C : \"SubjectDistanceRange\",\r\n    0xA420 : \"ImageUniqueID\",\r\n    0xA430 : \"OwnerName\",\r\n    0xA431 : \"SerialNumber\",\r\n    0xA432 : \"LensInfo\",\r\n    0xA433 : \"LensMake\",\r\n    0xA434 : \"LensModel\",\r\n    0xA435 : \"LensSerialNumber\",\r\n    0xA480 : \"GDALMetadata\",\r\n    0xA481 : \"GDALNoData\",\r\n    0xA500 : \"Gamma\",\r\n    0xAFC0 : \"ExpandSoftware\",\r\n    0xAFC1 : \"ExpandLens\",\r\n    0xAFC2 : \"ExpandFilm\",\r\n    0xAFC3 : \"ExpandFilterLens\",\r\n    0xAFC4 : \"ExpandScanner\",\r\n    0xAFC5 : \"ExpandFlashLamp\",\r\n    0xBC01 : \"PixelFormat\",\r\n    0xBC02 : \"Transformation\",\r\n    0xBC03 : \"Uncompressed\",\r\n    0xBC04 : \"ImageType\",\r\n    0xBC80 : \"ImageWidth\",\r\n    0xBC81 : \"ImageHeight\",\r\n    0xBC82 : \"WidthResolution\",\r\n    0xBC83 : \"HeightResolution\",\r\n    0xBCC0 : \"ImageOffset\",\r\n    0xBCC1 : \"ImageByteCount\",\r\n    0xBCC2 : \"AlphaOffset\",\r\n    0xBCC3 : \"AlphaByteCount\",\r\n    0xBCC4 : \"ImageDataDiscard\",\r\n    0xBCC5 : \"AlphaDataDiscard\",\r\n    0xC427 : \"OceScanjobDesc\",\r\n    0xC428 : \"OceApplicationSelector\",\r\n    0xC429 : \"OceIDNumber\",\r\n    0xC42A : \"OceImageLogic\",\r\n    0xC44F : \"Annotations\",\r\n    0xC4A5 : \"PrintIM\",\r\n    0xC580 : \"USPTOOriginalContentType\",\r\n    0xC612 : \"DNGVersion\",\r\n    0xC613 : \"DNGBackwardVersion\",\r\n    0xC614 : \"UniqueCameraModel\",\r\n    0xC615 : \"LocalizedCameraModel\",\r\n    0xC616 : \"CFAPlaneColor\",\r\n    0xC617 : \"CFALayout\",\r\n    0xC618 : \"LinearizationTable\",\r\n    0xC619 : \"BlackLevelRepeatDim\",\r\n    0xC61A : \"BlackLevel\",\r\n    0xC61B : \"BlackLevelDeltaH\",\r\n    0xC61C : \"BlackLevelDeltaV\",\r\n    0xC61D : \"WhiteLevel\",\r\n    0xC61E : \"DefaultScale\",\r\n    0xC61F : \"DefaultCropOrigin\",\r\n    0xC620 : \"DefaultCropSize\",\r\n    0xC621 : \"ColorMatrix1\",\r\n    0xC622 : \"ColorMatrix2\",\r\n    0xC623 : \"CameraCalibration1\",\r\n    0xC624 : \"CameraCalibration2\",\r\n    0xC625 : \"ReductionMatrix1\",\r\n    0xC626 : \"ReductionMatrix2\",\r\n    0xC627 : \"AnalogBalance\",\r\n    0xC628 : \"AsShotNeutral\",\r\n    0xC629 : \"AsShotWhiteXY\",\r\n    0xC62A : \"BaselineExposure\",\r\n    0xC62B : \"BaselineNoise\",\r\n    0xC62C : \"BaselineSharpness\",\r\n    0xC62D : \"BayerGreenSplit\",\r\n    0xC62E : \"LinearResponseLimit\",\r\n    0xC62F : \"CameraSerialNumber\",\r\n    0xC630 : \"DNGLensInfo\",\r\n    0xC631 : \"ChromaBlurRadius\",\r\n    0xC632 : \"AntiAliasStrength\",\r\n    0xC633 : \"ShadowScale\",\r\n    0xC634 : \"DNGPrivateData\",\r\n    0xC635 : \"MakerNoteSafety\",\r\n    0xC640 : \"RawImageSegmentation\",\r\n    0xC65A : \"CalibrationIlluminant1\",\r\n    0xC65B : \"CalibrationIlluminant2\",\r\n    0xC65C : \"BestQualityScale\",\r\n    0xC65D : \"RawDataUniqueID\",\r\n    0xC660 : \"AliasLayerMetadata\",\r\n    0xC68B : \"OriginalRawFileName\",\r\n    0xC68C : \"OriginalRawFileData\",\r\n    0xC68D : \"ActiveArea\",\r\n    0xC68E : \"MaskedAreas\",\r\n    0xC68F : \"AsShotICCProfile\",\r\n    0xC690 : \"AsShotPreProfileMatrix\",\r\n    0xC691 : \"CurrentICCProfile\",\r\n    0xC692 : \"CurrentPreProfileMatrix\",\r\n    0xC6BF : \"ColorimetricReference\",\r\n    0xC6D2 : \"PanasonicTitle\",\r\n    0xC6D3 : \"PanasonicTitle2\",\r\n    0xC6F3 : \"CameraCalibrationSig\",\r\n    0xC6F4 : \"ProfileCalibrationSig\",\r\n    0xC6F5 : \"ProfileIFD\",\r\n    0xC6F6 : \"AsShotProfileName\",\r\n    0xC6F7 : \"NoiseReductionApplied\",\r\n    0xC6F8 : \"ProfileName\",\r\n    0xC6F9 : \"ProfileHueSatMapDims\",\r\n    0xC6FA : \"ProfileHueSatMapData1\",\r\n    0xC6FB : \"ProfileHueSatMapData2\",\r\n    0xC6FC : \"ProfileToneCurve\",\r\n    0xC6FD : \"ProfileEmbedPolicy\",\r\n    0xC6FE : \"ProfileCopyright\",\r\n    0xC714 : \"ForwardMatrix1\",\r\n    0xC715 : \"ForwardMatrix2\",\r\n    0xC716 : \"PreviewApplicationName\",\r\n    0xC717 : \"PreviewApplicationVersion\",\r\n    0xC718 : \"PreviewSettingsName\",\r\n    0xC719 : \"PreviewSettingsDigest\",\r\n    0xC71A : \"PreviewColorSpace\",\r\n    0xC71B : \"PreviewDateTime\",\r\n    0xC71C : \"RawImageDigest\",\r\n    0xC71D : \"OriginalRawFileDigest\",\r\n    0xC71E : \"SubTileBlockSize\",\r\n    0xC71F : \"RowInterleaveFactor\",\r\n    0xC725 : \"ProfileLookTableDims\",\r\n    0xC726 : \"ProfileLookTableData\",\r\n    0xC740 : \"OpcodeList1\",\r\n    0xC741 : \"OpcodeList2\",\r\n    0xC74E : \"OpcodeList3\",\r\n    0xC761 : \"NoiseProfile\",\r\n    0xC763 : \"TimeCodes\",\r\n    0xC764 : \"FrameRate\",\r\n    0xC772 : \"TStop\",\r\n    0xC789 : \"ReelName\",\r\n    0xC791 : \"OriginalDefaultFinalSize\",\r\n    0xC792 : \"OriginalBestQualitySize\",\r\n    0xC793 : \"OriginalDefaultCropSize\",\r\n    0xC7A1 : \"CameraLabel\",\r\n    0xC7A3 : \"ProfileHueSatMapEncoding\",\r\n    0xC7A4 : \"ProfileLookTableEncoding\",\r\n    0xC7A5 : \"BaselineExposureOffset\",\r\n    0xC7A6 : \"DefaultBlackRender\",\r\n    0xC7A7 : \"NewRawImageDigest\",\r\n    0xC7A8 : \"RawToPreviewGain\",\r\n    0xC7B5 : \"DefaultUserCrop\",\r\n    0xEA1C : \"Padding\",\r\n    0xEA1D : \"OffsetSchema\",\r\n    0xFDE8 : \"OwnerName\",\r\n    0xFDE9 : \"SerialNumber\",\r\n    0xFDEA : \"Lens\",\r\n    0xFE00 : \"KDC_IFD\",\r\n    0xFE4C : \"RawFile\",\r\n    0xFE4D : \"Converter\",\r\n    0xFE4E : \"WhiteBalance\",\r\n    0xFE51 : \"Exposure\",\r\n    0xFE52 : \"Shadows\",\r\n    0xFE53 : \"Brightness\",\r\n    0xFE54 : \"Contrast\",\r\n    0xFE55 : \"Saturation\",\r\n    0xFE56 : \"Sharpness\",\r\n    0xFE57 : \"Smoothness\",\r\n    0xFE58 : \"MoireFilter\"\r\n\r\n  },\r\n\r\n  // GPS Tags\r\n  gps : {\r\n\r\n    0x0000 : 'GPSVersionID',\r\n    0x0001 : 'GPSLatitudeRef',\r\n    0x0002 : 'GPSLatitude',\r\n    0x0003 : 'GPSLongitudeRef',\r\n    0x0004 : 'GPSLongitude',\r\n    0x0005 : 'GPSAltitudeRef',\r\n    0x0006 : 'GPSAltitude',\r\n    0x0007 : 'GPSTimeStamp',\r\n    0x0008 : 'GPSSatellites',\r\n    0x0009 : 'GPSStatus',\r\n    0x000A : 'GPSMeasureMode',\r\n    0x000B : 'GPSDOP',\r\n    0x000C : 'GPSSpeedRef',\r\n    0x000D : 'GPSSpeed',\r\n    0x000E : 'GPSTrackRef',\r\n    0x000F : 'GPSTrack',\r\n    0x0010 : 'GPSImgDirectionRef',\r\n    0x0011 : 'GPSImgDirection',\r\n    0x0012 : 'GPSMapDatum',\r\n    0x0013 : 'GPSDestLatitudeRef',\r\n    0x0014 : 'GPSDestLatitude',\r\n    0x0015 : 'GPSDestLongitudeRef',\r\n    0x0016 : 'GPSDestLongitude',\r\n    0x0017 : 'GPSDestBearingRef',\r\n    0x0018 : 'GPSDestBearing',\r\n    0x0019 : 'GPSDestDistanceRef',\r\n    0x001A : 'GPSDestDistance',\r\n    0x001B : 'GPSProcessingMethod',\r\n    0x001C : 'GPSAreaInformation',\r\n    0x001D : 'GPSDateStamp',\r\n    0x001E : 'GPSDifferential',\r\n    0x001F : 'GPSHPositioningError'\r\n\r\n  }\r\n\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/ExifImage.js\n// module id = 48\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/exif/lib/exif/ExifImage.js","module.exports = require('./ExifImage');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/index.js\n// module id = 49\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/exif/lib/exif/index.js","var map = {\n\t\"./agfa\": 14,\n\t\"./agfa.js\": 14,\n\t\"./epson\": 15,\n\t\"./epson.js\": 15,\n\t\"./fujifilm\": 16,\n\t\"./fujifilm.js\": 16,\n\t\"./olympus\": 17,\n\t\"./olympus.js\": 17,\n\t\"./panasonic\": 18,\n\t\"./panasonic.js\": 18,\n\t\"./sanyo\": 19,\n\t\"./sanyo.js\": 19\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 50;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/exif/lib/exif/makernotes ^\\.\\/.*$\n// module id = 50\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/~/exif/lib/exif/makernotes ^/.//.*$","'use strict';\nmodule.exports = function (buf) {\n\tif (!(buf && buf.length > 1)) {\n\t\treturn null;\n\t}\n\n\tif (buf[0] === 0xFF && buf[1] === 0xD8 && buf[2] === 0xFF) {\n\t\treturn {\n\t\t\text: 'jpg',\n\t\t\tmime: 'image/jpeg'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x89 && buf[1] === 0x50 && buf[2] === 0x4E && buf[3] === 0x47) {\n\t\treturn {\n\t\t\text: 'png',\n\t\t\tmime: 'image/png'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x47 && buf[1] === 0x49 && buf[2] === 0x46) {\n\t\treturn {\n\t\t\text: 'gif',\n\t\t\tmime: 'image/gif'\n\t\t};\n\t}\n\n\tif (buf[8] === 0x57 && buf[9] === 0x45 && buf[10] === 0x42 && buf[11] === 0x50) {\n\t\treturn {\n\t\t\text: 'webp',\n\t\t\tmime: 'image/webp'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x46 && buf[1] === 0x4C && buf[2] === 0x49 && buf[3] === 0x46) {\n\t\treturn {\n\t\t\text: 'flif',\n\t\t\tmime: 'image/flif'\n\t\t};\n\t}\n\n\t// needs to be before `tif` check\n\tif (((buf[0] === 0x49 && buf[1] === 0x49 && buf[2] === 0x2A && buf[3] === 0x0) || (buf[0] === 0x4D && buf[1] === 0x4D && buf[2] === 0x0 && buf[3] === 0x2A)) && buf[8] === 0x43 && buf[9] === 0x52) {\n\t\treturn {\n\t\t\text: 'cr2',\n\t\t\tmime: 'image/x-canon-cr2'\n\t\t};\n\t}\n\n\tif ((buf[0] === 0x49 && buf[1] === 0x49 && buf[2] === 0x2A && buf[3] === 0x0) || (buf[0] === 0x4D && buf[1] === 0x4D && buf[2] === 0x0 && buf[3] === 0x2A)) {\n\t\treturn {\n\t\t\text: 'tif',\n\t\t\tmime: 'image/tiff'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x42 && buf[1] === 0x4D) {\n\t\treturn {\n\t\t\text: 'bmp',\n\t\t\tmime: 'image/bmp'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x49 && buf[1] === 0x49 && buf[2] === 0xBC) {\n\t\treturn {\n\t\t\text: 'jxr',\n\t\t\tmime: 'image/vnd.ms-photo'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x38 && buf[1] === 0x42 && buf[2] === 0x50 && buf[3] === 0x53) {\n\t\treturn {\n\t\t\text: 'psd',\n\t\t\tmime: 'image/vnd.adobe.photoshop'\n\t\t};\n\t}\n\n\t// needs to be before `zip` check\n\tif (buf[0] === 0x50 && buf[1] === 0x4B && buf[2] === 0x3 && buf[3] === 0x4 && buf[30] === 0x6D && buf[31] === 0x69 && buf[32] === 0x6D && buf[33] === 0x65 && buf[34] === 0x74 && buf[35] === 0x79 && buf[36] === 0x70 && buf[37] === 0x65 && buf[38] === 0x61 && buf[39] === 0x70 && buf[40] === 0x70 && buf[41] === 0x6C && buf[42] === 0x69 && buf[43] === 0x63 && buf[44] === 0x61 && buf[45] === 0x74 && buf[46] === 0x69 && buf[47] === 0x6F && buf[48] === 0x6E && buf[49] === 0x2F && buf[50] === 0x65 && buf[51] === 0x70 && buf[52] === 0x75 && buf[53] === 0x62 && buf[54] === 0x2B && buf[55] === 0x7A && buf[56] === 0x69 && buf[57] === 0x70) {\n\t\treturn {\n\t\t\text: 'epub',\n\t\t\tmime: 'application/epub+zip'\n\t\t};\n\t}\n\n\t// needs to be before `zip` check\n\t// assumes signed .xpi from addons.mozilla.org\n\tif (buf[0] === 0x50 && buf[1] === 0x4B && buf[2] === 0x3 && buf[3] === 0x4 && buf[30] === 0x4D && buf[31] === 0x45 && buf[32] === 0x54 && buf[33] === 0x41 && buf[34] === 0x2D && buf[35] === 0x49 && buf[36] === 0x4E && buf[37] === 0x46 && buf[38] === 0x2F && buf[39] === 0x6D && buf[40] === 0x6F && buf[41] === 0x7A && buf[42] === 0x69 && buf[43] === 0x6C && buf[44] === 0x6C && buf[45] === 0x61 && buf[46] === 0x2E && buf[47] === 0x72 && buf[48] === 0x73 && buf[49] === 0x61) {\n\t\treturn {\n\t\t\text: 'xpi',\n\t\t\tmime: 'application/x-xpinstall'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x50 && buf[1] === 0x4B && (buf[2] === 0x3 || buf[2] === 0x5 || buf[2] === 0x7) && (buf[3] === 0x4 || buf[3] === 0x6 || buf[3] === 0x8)) {\n\t\treturn {\n\t\t\text: 'zip',\n\t\t\tmime: 'application/zip'\n\t\t};\n\t}\n\n\tif (buf[257] === 0x75 && buf[258] === 0x73 && buf[259] === 0x74 && buf[260] === 0x61 && buf[261] === 0x72) {\n\t\treturn {\n\t\t\text: 'tar',\n\t\t\tmime: 'application/x-tar'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x52 && buf[1] === 0x61 && buf[2] === 0x72 && buf[3] === 0x21 && buf[4] === 0x1A && buf[5] === 0x7 && (buf[6] === 0x0 || buf[6] === 0x1)) {\n\t\treturn {\n\t\t\text: 'rar',\n\t\t\tmime: 'application/x-rar-compressed'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x1F && buf[1] === 0x8B && buf[2] === 0x8) {\n\t\treturn {\n\t\t\text: 'gz',\n\t\t\tmime: 'application/gzip'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x42 && buf[1] === 0x5A && buf[2] === 0x68) {\n\t\treturn {\n\t\t\text: 'bz2',\n\t\t\tmime: 'application/x-bzip2'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x37 && buf[1] === 0x7A && buf[2] === 0xBC && buf[3] === 0xAF && buf[4] === 0x27 && buf[5] === 0x1C) {\n\t\treturn {\n\t\t\text: '7z',\n\t\t\tmime: 'application/x-7z-compressed'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x78 && buf[1] === 0x01) {\n\t\treturn {\n\t\t\text: 'dmg',\n\t\t\tmime: 'application/x-apple-diskimage'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[0] === 0x0 && buf[1] === 0x0 && buf[2] === 0x0 && (buf[3] === 0x18 || buf[3] === 0x20) && buf[4] === 0x66 && buf[5] === 0x74 && buf[6] === 0x79 && buf[7] === 0x70) ||\n\t\t(buf[0] === 0x33 && buf[1] === 0x67 && buf[2] === 0x70 && buf[3] === 0x35) ||\n\t\t(buf[0] === 0x0 && buf[1] === 0x0 && buf[2] === 0x0 && buf[3] === 0x1C && buf[4] === 0x66 && buf[5] === 0x74 && buf[6] === 0x79 && buf[7] === 0x70 && buf[8] === 0x6D && buf[9] === 0x70 && buf[10] === 0x34 && buf[11] === 0x32 && buf[16] === 0x6D && buf[17] === 0x70 && buf[18] === 0x34 && buf[19] === 0x31 && buf[20] === 0x6D && buf[21] === 0x70 && buf[22] === 0x34 && buf[23] === 0x32 && buf[24] === 0x69 && buf[25] === 0x73 && buf[26] === 0x6F && buf[27] === 0x6D) ||\n\t\t(buf[0] === 0x0 && buf[1] === 0x0 && buf[2] === 0x0 && buf[3] === 0x1C && buf[4] === 0x66 && buf[5] === 0x74 && buf[6] === 0x79 && buf[7] === 0x70 && buf[8] === 0x69 && buf[9] === 0x73 && buf[10] === 0x6F && buf[11] === 0x6D) ||\n\t\t(buf[0] === 0x0 && buf[1] === 0x0 && buf[2] === 0x0 && buf[3] === 0x1c && buf[4] === 0x66 && buf[5] === 0x74 && buf[6] === 0x79 && buf[7] === 0x70 && buf[8] === 0x6D && buf[9] === 0x70 && buf[10] === 0x34 && buf[11] === 0x32 && buf[12] === 0x0 && buf[13] === 0x0 && buf[14] === 0x0 && buf[15] === 0x0)\n\t) {\n\t\treturn {\n\t\t\text: 'mp4',\n\t\t\tmime: 'video/mp4'\n\t\t};\n\t}\n\n\tif ((buf[0] === 0x0 && buf[1] === 0x0 && buf[2] === 0x0 && buf[3] === 0x1C && buf[4] === 0x66 && buf[5] === 0x74 && buf[6] === 0x79 && buf[7] === 0x70 && buf[8] === 0x4D && buf[9] === 0x34 && buf[10] === 0x56)) {\n\t\treturn {\n\t\t\text: 'm4v',\n\t\t\tmime: 'video/x-m4v'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x4D && buf[1] === 0x54 && buf[2] === 0x68 && buf[3] === 0x64) {\n\t\treturn {\n\t\t\text: 'mid',\n\t\t\tmime: 'audio/midi'\n\t\t};\n\t}\n\n\t// needs to be before the `webm` check\n\tif (buf[31] === 0x6D && buf[32] === 0x61 && buf[33] === 0x74 && buf[34] === 0x72 && buf[35] === 0x6f && buf[36] === 0x73 && buf[37] === 0x6B && buf[38] === 0x61) {\n\t\treturn {\n\t\t\text: 'mkv',\n\t\t\tmime: 'video/x-matroska'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x1A && buf[1] === 0x45 && buf[2] === 0xDF && buf[3] === 0xA3) {\n\t\treturn {\n\t\t\text: 'webm',\n\t\t\tmime: 'video/webm'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x0 && buf[1] === 0x0 && buf[2] === 0x0 && buf[3] === 0x14 && buf[4] === 0x66 && buf[5] === 0x74 && buf[6] === 0x79 && buf[7] === 0x70) {\n\t\treturn {\n\t\t\text: 'mov',\n\t\t\tmime: 'video/quicktime'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x52 && buf[1] === 0x49 && buf[2] === 0x46 && buf[3] === 0x46 && buf[8] === 0x41 && buf[9] === 0x56 && buf[10] === 0x49) {\n\t\treturn {\n\t\t\text: 'avi',\n\t\t\tmime: 'video/x-msvideo'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x30 && buf[1] === 0x26 && buf[2] === 0xB2 && buf[3] === 0x75 && buf[4] === 0x8E && buf[5] === 0x66 && buf[6] === 0xCF && buf[7] === 0x11 && buf[8] === 0xA6 && buf[9] === 0xD9) {\n\t\treturn {\n\t\t\text: 'wmv',\n\t\t\tmime: 'video/x-ms-wmv'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x0 && buf[1] === 0x0 && buf[2] === 0x1 && buf[3].toString(16)[0] === 'b') {\n\t\treturn {\n\t\t\text: 'mpg',\n\t\t\tmime: 'video/mpeg'\n\t\t};\n\t}\n\n\tif ((buf[0] === 0x49 && buf[1] === 0x44 && buf[2] === 0x33) || (buf[0] === 0xFF && buf[1] === 0xfb)) {\n\t\treturn {\n\t\t\text: 'mp3',\n\t\t\tmime: 'audio/mpeg'\n\t\t};\n\t}\n\n\tif ((buf[4] === 0x66 && buf[5] === 0x74 && buf[6] === 0x79 && buf[7] === 0x70 && buf[8] === 0x4D && buf[9] === 0x34 && buf[10] === 0x41) || (buf[0] === 0x4D && buf[1] === 0x34 && buf[2] === 0x41 && buf[3] === 0x20)) {\n\t\treturn {\n\t\t\text: 'm4a',\n\t\t\tmime: 'audio/m4a'\n\t\t};\n\t}\n\n\t// needs to be before `ogg` check\n\tif (buf[28] === 0x4F && buf[29] === 0x70 && buf[30] === 0x75 && buf[31] === 0x73 && buf[32] === 0x48 && buf[33] === 0x65 && buf[34] === 0x61 && buf[35] === 0x64) {\n\t\treturn {\n\t\t\text: 'opus',\n\t\t\tmime: 'audio/opus'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x4F && buf[1] === 0x67 && buf[2] === 0x67 && buf[3] === 0x53) {\n\t\treturn {\n\t\t\text: 'ogg',\n\t\t\tmime: 'audio/ogg'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x66 && buf[1] === 0x4C && buf[2] === 0x61 && buf[3] === 0x43) {\n\t\treturn {\n\t\t\text: 'flac',\n\t\t\tmime: 'audio/x-flac'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x52 && buf[1] === 0x49 && buf[2] === 0x46 && buf[3] === 0x46 && buf[8] === 0x57 && buf[9] === 0x41 && buf[10] === 0x56 && buf[11] === 0x45) {\n\t\treturn {\n\t\t\text: 'wav',\n\t\t\tmime: 'audio/x-wav'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x23 && buf[1] === 0x21 && buf[2] === 0x41 && buf[3] === 0x4D && buf[4] === 0x52 && buf[5] === 0x0A) {\n\t\treturn {\n\t\t\text: 'amr',\n\t\t\tmime: 'audio/amr'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x25 && buf[1] === 0x50 && buf[2] === 0x44 && buf[3] === 0x46) {\n\t\treturn {\n\t\t\text: 'pdf',\n\t\t\tmime: 'application/pdf'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x4D && buf[1] === 0x5A) {\n\t\treturn {\n\t\t\text: 'exe',\n\t\t\tmime: 'application/x-msdownload'\n\t\t};\n\t}\n\n\tif ((buf[0] === 0x43 || buf[0] === 0x46) && buf[1] === 0x57 && buf[2] === 0x53) {\n\t\treturn {\n\t\t\text: 'swf',\n\t\t\tmime: 'application/x-shockwave-flash'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x7B && buf[1] === 0x5C && buf[2] === 0x72 && buf[3] === 0x74 && buf[4] === 0x66) {\n\t\treturn {\n\t\t\text: 'rtf',\n\t\t\tmime: 'application/rtf'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[0] === 0x77 && buf[1] === 0x4F && buf[2] === 0x46 && buf[3] === 0x46) &&\n\t\t(\n\t\t\t(buf[4] === 0x00 && buf[5] === 0x01 && buf[6] === 0x00 && buf[7] === 0x00) ||\n\t\t\t(buf[4] === 0x4F && buf[5] === 0x54 && buf[6] === 0x54 && buf[7] === 0x4F)\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff',\n\t\t\tmime: 'application/font-woff'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[0] === 0x77 && buf[1] === 0x4F && buf[2] === 0x46 && buf[3] === 0x32) &&\n\t\t(\n\t\t\t(buf[4] === 0x00 && buf[5] === 0x01 && buf[6] === 0x00 && buf[7] === 0x00) ||\n\t\t\t(buf[4] === 0x4F && buf[5] === 0x54 && buf[6] === 0x54 && buf[7] === 0x4F)\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'woff2',\n\t\t\tmime: 'application/font-woff'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[34] === 0x4C && buf[35] === 0x50) &&\n\t\t(\n\t\t\t(buf[8] === 0x00 && buf[9] === 0x00 && buf[10] === 0x01) ||\n\t\t\t(buf[8] === 0x01 && buf[9] === 0x00 && buf[10] === 0x02) ||\n\t\t\t(buf[8] === 0x02 && buf[9] === 0x00 && buf[10] === 0x02)\n\t\t)\n\t) {\n\t\treturn {\n\t\t\text: 'eot',\n\t\t\tmime: 'application/octet-stream'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x00 && buf[1] === 0x01 && buf[2] === 0x00 && buf[3] === 0x00 && buf[4] === 0x00) {\n\t\treturn {\n\t\t\text: 'ttf',\n\t\t\tmime: 'application/font-sfnt'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x4F && buf[1] === 0x54 && buf[2] === 0x54 && buf[3] === 0x4F && buf[4] === 0x00) {\n\t\treturn {\n\t\t\text: 'otf',\n\t\t\tmime: 'application/font-sfnt'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x00 && buf[1] === 0x00 && buf[2] === 0x01 && buf[3] === 0x00) {\n\t\treturn {\n\t\t\text: 'ico',\n\t\t\tmime: 'image/x-icon'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x46 && buf[1] === 0x4C && buf[2] === 0x56 && buf[3] === 0x01) {\n\t\treturn {\n\t\t\text: 'flv',\n\t\t\tmime: 'video/x-flv'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x25 && buf[1] === 0x21) {\n\t\treturn {\n\t\t\text: 'ps',\n\t\t\tmime: 'application/postscript'\n\t\t};\n\t}\n\n\tif (buf[0] === 0xFD && buf[1] === 0x37 && buf[2] === 0x7A && buf[3] === 0x58 && buf[4] === 0x5A && buf[5] === 0x00) {\n\t\treturn {\n\t\t\text: 'xz',\n\t\t\tmime: 'application/x-xz'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x53 && buf[1] === 0x51 && buf[2] === 0x4C && buf[3] === 0x69) {\n\t\treturn {\n\t\t\text: 'sqlite',\n\t\t\tmime: 'application/x-sqlite3'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x4E && buf[1] === 0x45 && buf[2] === 0x53 && buf[3] === 0x1A) {\n\t\treturn {\n\t\t\text: 'nes',\n\t\t\tmime: 'application/x-nintendo-nes-rom'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x43 && buf[1] === 0x72 && buf[2] === 0x32 && buf[3] === 0x34) {\n\t\treturn {\n\t\t\text: 'crx',\n\t\t\tmime: 'application/x-google-chrome-extension'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[0] === 0x4D && buf[1] === 0x53 && buf[2] === 0x43 && buf[3] === 0x46) ||\n\t\t(buf[0] === 0x49 && buf[1] === 0x53 && buf[2] === 0x63 && buf[3] === 0x28)\n\t) {\n\t\treturn {\n\t\t\text: 'cab',\n\t\t\tmime: 'application/vnd.ms-cab-compressed'\n\t\t};\n\t}\n\n\t// needs to be before `ar` check\n\tif (buf[0] === 0x21 && buf[1] === 0x3C && buf[2] === 0x61 && buf[3] === 0x72 && buf[4] === 0x63 && buf[5] === 0x68 && buf[6] === 0x3E && buf[7] === 0x0A && buf[8] === 0x64 && buf[9] === 0x65 && buf[10] === 0x62 && buf[11] === 0x69 && buf[12] === 0x61 && buf[13] === 0x6E && buf[14] === 0x2D && buf[15] === 0x62 && buf[16] === 0x69 && buf[17] === 0x6E && buf[18] === 0x61 && buf[19] === 0x72 && buf[20] === 0x79) {\n\t\treturn {\n\t\t\text: 'deb',\n\t\t\tmime: 'application/x-deb'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x21 && buf[1] === 0x3C && buf[2] === 0x61 && buf[3] === 0x72 && buf[4] === 0x63 && buf[5] === 0x68 && buf[6] === 0x3E) {\n\t\treturn {\n\t\t\text: 'ar',\n\t\t\tmime: 'application/x-unix-archive'\n\t\t};\n\t}\n\n\tif (buf[0] === 0xED && buf[1] === 0xAB && buf[2] === 0xEE && buf[3] === 0xDB) {\n\t\treturn {\n\t\t\text: 'rpm',\n\t\t\tmime: 'application/x-rpm'\n\t\t};\n\t}\n\n\tif (\n\t\t(buf[0] === 0x1F && buf[1] === 0xA0) ||\n\t\t(buf[0] === 0x1F && buf[1] === 0x9D)\n\t) {\n\t\treturn {\n\t\t\text: 'Z',\n\t\t\tmime: 'application/x-compress'\n\t\t};\n\t}\n\n\tif (buf[0] === 0x4C && buf[1] === 0x5A && buf[2] === 0x49 && buf[3] === 0x50) {\n\t\treturn {\n\t\t\text: 'lz',\n\t\t\tmime: 'application/x-lzip'\n\t\t};\n\t}\n\n\tif (buf[0] === 0xD0 && buf[1] === 0xCF && buf[2] === 0x11 && buf[3] === 0xE0 && buf[4] === 0xA1 && buf[5] === 0xB1 && buf[6] === 0x1A && buf[7] === 0xE1) {\n\t\treturn {\n\t\t\text: 'msi',\n\t\t\tmime: 'application/x-msi'\n\t\t};\n\t}\n\n\treturn null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/file-type/index.js\n// module id = 51\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/file-type/index.js","module.exports = process.env.FLUENTFFMPEG_COV ? require('./lib-cov/fluent-ffmpeg') : require('./lib/fluent-ffmpeg');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/index.js\n// module id = 52\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/index.js","/*jshint node:true*/\n'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar async = require('async');\nvar utils = require('./utils');\n\n/*\n *! Capability helpers\n */\n\nvar avCodecRegexp = /^\\s*([D ])([E ])([VAS])([S ])([D ])([T ]) ([^ ]+) +(.*)$/;\nvar ffCodecRegexp = /^\\s*([D\\.])([E\\.])([VAS])([I\\.])([L\\.])([S\\.]) ([^ ]+) +(.*)$/;\nvar ffEncodersRegexp = /\\(encoders:([^\\)]+)\\)/;\nvar ffDecodersRegexp = /\\(decoders:([^\\)]+)\\)/;\nvar encodersRegexp = /^\\s*([VAS\\.])([F\\.])([S\\.])([X\\.])([B\\.])([D\\.]) ([^ ]+) +(.*)$/;\nvar formatRegexp = /^\\s*([D ])([E ]) ([^ ]+) +(.*)$/;\nvar lineBreakRegexp = /\\r\\n|\\r|\\n/;\nvar filterRegexp = /^(?: [T\\.][S\\.][C\\.] )?([^ ]+) +(AA?|VV?|\\|)->(AA?|VV?|\\|) +(.*)$/;\n\nvar cache = {};\n\nmodule.exports = function(proto) {\n  /**\n   * Manually define the ffmpeg binary full path.\n   *\n   * @method FfmpegCommand#setFfmpegPath\n   *\n   * @param {String} ffmpegPath The full path to the ffmpeg binary.\n   * @return FfmpegCommand\n   */\n  proto.setFfmpegPath = function(ffmpegPath) {\n    cache.ffmpegPath = ffmpegPath;\n    return this;\n  };\n\n  /**\n   * Manually define the ffprobe binary full path.\n   *\n   * @method FfmpegCommand#setFfprobePath\n   *\n   * @param {String} ffprobePath The full path to the ffprobe binary.\n   * @return FfmpegCommand\n   */\n  proto.setFfprobePath = function(ffprobePath) {\n    cache.ffprobePath = ffprobePath;\n    return this;\n  };\n\n  /**\n   * Manually define the flvtool2/flvmeta binary full path.\n   *\n   * @method FfmpegCommand#setFlvtoolPath\n   *\n   * @param {String} flvtool The full path to the flvtool2 or flvmeta binary.\n   * @return FfmpegCommand\n   */\n  proto.setFlvtoolPath = function(flvtool) {\n    cache.flvtoolPath = flvtool;\n    return this;\n  };\n\n  /**\n   * Forget executable paths\n   *\n   * (only used for testing purposes)\n   *\n   * @method FfmpegCommand#_forgetPaths\n   * @private\n   */\n  proto._forgetPaths = function() {\n    delete cache.ffmpegPath;\n    delete cache.ffprobePath;\n    delete cache.flvtoolPath;\n  };\n\n  /**\n   * Check for ffmpeg availability\n   *\n   * If the FFMPEG_PATH environment variable is set, try to use it.\n   * If it is unset or incorrect, try to find ffmpeg in the PATH instead.\n   *\n   * @method FfmpegCommand#_getFfmpegPath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  proto._getFfmpegPath = function(callback) {\n    if ('ffmpegPath' in cache) {\n      return callback(null, cache.ffmpegPath);\n    }\n\n    async.waterfall([\n      // Try FFMPEG_PATH\n      function(cb) {\n        if (process.env.FFMPEG_PATH) {\n          fs.exists(process.env.FFMPEG_PATH, function(exists) {\n            if (exists) {\n              cb(null, process.env.FFMPEG_PATH);\n            } else {\n              cb(null, '');\n            }\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search in the PATH\n      function(ffmpeg, cb) {\n        if (ffmpeg.length) {\n          return cb(null, ffmpeg);\n        }\n\n        utils.which('ffmpeg', function(err, ffmpeg) {\n          cb(err, ffmpeg);\n        });\n      }\n    ], function(err, ffmpeg) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.ffmpegPath = (ffmpeg || ''));\n      }\n    });\n  };\n\n\n  /**\n   * Check for ffprobe availability\n   *\n   * If the FFPROBE_PATH environment variable is set, try to use it.\n   * If it is unset or incorrect, try to find ffprobe in the PATH instead.\n   * If this still fails, try to find ffprobe in the same directory as ffmpeg.\n   *\n   * @method FfmpegCommand#_getFfprobePath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n  proto._getFfprobePath = function(callback) {\n    var self = this;\n\n    if ('ffprobePath' in cache) {\n      return callback(null, cache.ffprobePath);\n    }\n\n    async.waterfall([\n      // Try FFPROBE_PATH\n      function(cb) {\n        if (process.env.FFPROBE_PATH) {\n          fs.exists(process.env.FFPROBE_PATH, function(exists) {\n            cb(null, exists ? process.env.FFPROBE_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search in the PATH\n      function(ffprobe, cb) {\n        if (ffprobe.length) {\n          return cb(null, ffprobe);\n        }\n\n        utils.which('ffprobe', function(err, ffprobe) {\n          cb(err, ffprobe);\n        });\n      },\n\n      // Search in the same directory as ffmpeg\n      function(ffprobe, cb) {\n        if (ffprobe.length) {\n          return cb(null, ffprobe);\n        }\n\n        self._getFfmpegPath(function(err, ffmpeg) {\n          if (err) {\n            cb(err);\n          } else if (ffmpeg.length) {\n            var name = utils.isWindows ? 'ffprobe.exe' : 'ffprobe';\n            var ffprobe = path.join(path.dirname(ffmpeg), name);\n            fs.exists(ffprobe, function(exists) {\n              cb(null, exists ? ffprobe : '');\n            });\n          } else {\n            cb(null, '');\n          }\n        });\n      }\n    ], function(err, ffprobe) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.ffprobePath = (ffprobe || ''));\n      }\n    });\n  };\n\n\n  /**\n   * Check for flvtool2/flvmeta availability\n   *\n   * If the FLVTOOL2_PATH or FLVMETA_PATH environment variable are set, try to use them.\n   * If both are either unset or incorrect, try to find flvtool2 or flvmeta in the PATH instead.\n   *\n   * @method FfmpegCommand#_getFlvtoolPath\n   * @param {Function} callback callback with signature (err, path)\n   * @private\n   */\n   proto._getFlvtoolPath = function(callback) {\n    if ('flvtoolPath' in cache) {\n      return callback(null, cache.flvtoolPath);\n    }\n\n    async.waterfall([\n      // Try FLVMETA_PATH\n      function(cb) {\n        if (process.env.FLVMETA_PATH) {\n          fs.exists(process.env.FLVMETA_PATH, function(exists) {\n            cb(null, exists ? process.env.FLVMETA_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Try FLVTOOL2_PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        if (process.env.FLVTOOL2_PATH) {\n          fs.exists(process.env.FLVTOOL2_PATH, function(exists) {\n            cb(null, exists ? process.env.FLVTOOL2_PATH : '');\n          });\n        } else {\n          cb(null, '');\n        }\n      },\n\n      // Search for flvmeta in the PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        utils.which('flvmeta', function(err, flvmeta) {\n          cb(err, flvmeta);\n        });\n      },\n\n      // Search for flvtool2 in the PATH\n      function(flvtool, cb) {\n        if (flvtool.length) {\n          return cb(null, flvtool);\n        }\n\n        utils.which('flvtool2', function(err, flvtool2) {\n          cb(err, flvtool2);\n        });\n      },\n    ], function(err, flvtool) {\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, cache.flvtoolPath = (flvtool || ''));\n      }\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableFilters}.\n   *\n   * @callback FfmpegCommand~filterCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} filters filter object with filter names as keys and the following\n   *   properties for each filter:\n   * @param {String} filters.description filter description\n   * @param {String} filters.input input type, one of 'audio', 'video' and 'none'\n   * @param {Boolean} filters.multipleInputs whether the filter supports multiple inputs\n   * @param {String} filters.output output type, one of 'audio', 'video' and 'none'\n   * @param {Boolean} filters.multipleOutputs whether the filter supports multiple outputs\n   */\n\n  /**\n   * Query ffmpeg for available filters\n   *\n   * @method FfmpegCommand#availableFilters\n   * @category Capabilities\n   * @aliases getAvailableFilters\n   *\n   * @param {FfmpegCommand~filterCallback} callback callback function\n   */\n  proto.availableFilters =\n  proto.getAvailableFilters = function(callback) {\n    if ('filters' in cache) {\n      return callback(null, cache.filters);\n    }\n\n    this._spawnFfmpeg(['-filters'], { captureStdout: true, stdoutLines: 0 }, function (err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split('\\n');\n      var data = {};\n      var types = { A: 'audio', V: 'video', '|': 'none' };\n\n      lines.forEach(function(line) {\n        var match = line.match(filterRegexp);\n        if (match) {\n          data[match[1]] = {\n            description: match[4],\n            input: types[match[2].charAt(0)],\n            multipleInputs: match[2].length > 1,\n            output: types[match[3].charAt(0)],\n            multipleOutputs: match[3].length > 1\n          };\n        }\n      });\n\n      callback(null, cache.filters = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableCodecs}.\n   *\n   * @callback FfmpegCommand~codecCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} codecs codec object with codec names as keys and the following\n   *   properties for each codec (more properties may be available depending on the\n   *   ffmpeg version used):\n   * @param {String} codecs.description codec description\n   * @param {Boolean} codecs.canDecode whether the codec is able to decode streams\n   * @param {Boolean} codecs.canEncode whether the codec is able to encode streams\n   */\n\n  /**\n   * Query ffmpeg for available codecs\n   *\n   * @method FfmpegCommand#availableCodecs\n   * @category Capabilities\n   * @aliases getAvailableCodecs\n   *\n   * @param {FfmpegCommand~codecCallback} callback callback function\n   */\n  proto.availableCodecs =\n  proto.getAvailableCodecs = function(callback) {\n    if ('codecs' in cache) {\n      return callback(null, cache.codecs);\n    }\n\n    this._spawnFfmpeg(['-codecs'], { captureStdout: true, stdoutLines: 0 }, function(err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(avCodecRegexp);\n        if (match && match[7] !== '=') {\n          data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[3]],\n            description: match[8],\n            canDecode: match[1] === 'D',\n            canEncode: match[2] === 'E',\n            drawHorizBand: match[4] === 'S',\n            directRendering: match[5] === 'D',\n            weirdFrameTruncation: match[6] === 'T'\n          };\n        }\n\n        match = line.match(ffCodecRegexp);\n        if (match && match[7] !== '=') {\n          var codecData = data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[3]],\n            description: match[8],\n            canDecode: match[1] === 'D',\n            canEncode: match[2] === 'E',\n            intraFrameOnly: match[4] === 'I',\n            isLossy: match[5] === 'L',\n            isLossless: match[6] === 'S'\n          };\n\n          var encoders = codecData.description.match(ffEncodersRegexp);\n          encoders = encoders ? encoders[1].trim().split(' ') : [];\n\n          var decoders = codecData.description.match(ffDecodersRegexp);\n          decoders = decoders ? decoders[1].trim().split(' ') : [];\n\n          if (encoders.length || decoders.length) {\n            var coderData = {};\n            utils.copy(codecData, coderData);\n            delete coderData.canEncode;\n            delete coderData.canDecode;\n\n            encoders.forEach(function(name) {\n              data[name] = {};\n              utils.copy(coderData, data[name]);\n              data[name].canEncode = true;\n            });\n\n            decoders.forEach(function(name) {\n              if (name in data) {\n                data[name].canDecode = true;\n              } else {\n                data[name] = {};\n                utils.copy(coderData, data[name]);\n                data[name].canDecode = true;\n              }\n            });\n          }\n        }\n      });\n\n      callback(null, cache.codecs = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableEncoders}.\n   *\n   * @callback FfmpegCommand~encodersCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} encoders encoders object with encoder names as keys and the following\n   *   properties for each encoder:\n   * @param {String} encoders.description codec description\n   * @param {Boolean} encoders.type \"audio\", \"video\" or \"subtitle\"\n   * @param {Boolean} encoders.frameMT whether the encoder is able to do frame-level multithreading\n   * @param {Boolean} encoders.sliceMT whether the encoder is able to do slice-level multithreading\n   * @param {Boolean} encoders.experimental whether the encoder is experimental\n   * @param {Boolean} encoders.drawHorizBand whether the encoder supports draw_horiz_band\n   * @param {Boolean} encoders.directRendering whether the encoder supports direct encoding method 1\n   */\n\n  /**\n   * Query ffmpeg for available encoders\n   *\n   * @method FfmpegCommand#availableEncoders\n   * @category Capabilities\n   * @aliases getAvailableEncoders\n   *\n   * @param {FfmpegCommand~encodersCallback} callback callback function\n   */\n  proto.availableEncoders =\n  proto.getAvailableEncoders = function(callback) {\n    if ('encoders' in cache) {\n      return callback(null, cache.encoders);\n    }\n\n    this._spawnFfmpeg(['-encoders'], { captureStdout: true, stdoutLines: 0 }, function(err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(encodersRegexp);\n        if (match && match[7] !== '=') {\n          data[match[7]] = {\n            type: { 'V': 'video', 'A': 'audio', 'S': 'subtitle' }[match[1]],\n            description: match[8],\n            frameMT: match[2] === 'F',\n            sliceMT: match[3] === 'S',\n            experimental: match[4] === 'X',\n            drawHorizBand: match[5] === 'B',\n            directRendering: match[6] === 'D'\n          };\n        }\n      });\n\n      callback(null, cache.encoders = data);\n    });\n  };\n\n\n  /**\n   * A callback passed to {@link FfmpegCommand#availableFormats}.\n   *\n   * @callback FfmpegCommand~formatCallback\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} formats format object with format names as keys and the following\n   *   properties for each format:\n   * @param {String} formats.description format description\n   * @param {Boolean} formats.canDemux whether the format is able to demux streams from an input file\n   * @param {Boolean} formats.canMux whether the format is able to mux streams into an output file\n   */\n\n  /**\n   * Query ffmpeg for available formats\n   *\n   * @method FfmpegCommand#availableFormats\n   * @category Capabilities\n   * @aliases getAvailableFormats\n   *\n   * @param {FfmpegCommand~formatCallback} callback callback function\n   */\n  proto.availableFormats =\n  proto.getAvailableFormats = function(callback) {\n    if ('formats' in cache) {\n      return callback(null, cache.formats);\n    }\n\n    // Run ffmpeg -formats\n    this._spawnFfmpeg(['-formats'], { captureStdout: true, stdoutLines: 0 }, function (err, stdoutRing) {\n      if (err) {\n        return callback(err);\n      }\n\n      // Parse output\n      var stdout = stdoutRing.get();\n      var lines = stdout.split(lineBreakRegexp);\n      var data = {};\n\n      lines.forEach(function(line) {\n        var match = line.match(formatRegexp);\n        if (match) {\n          match[3].split(',').forEach(function(format) {\n            if (!(format in data)) {\n              data[format] = {\n                description: match[4],\n                canDemux: false,\n                canMux: false\n              };\n            }\n\n            if (match[1] === 'D') {\n              data[format].canDemux = true;\n            }\n            if (match[2] === 'E') {\n              data[format].canMux = true;\n            }\n          });\n        }\n      });\n\n      callback(null, cache.formats = data);\n    });\n  };\n\n\n  /**\n   * Check capabilities before executing a command\n   *\n   * Checks whether all used codecs and formats are indeed available\n   *\n   * @method FfmpegCommand#_checkCapabilities\n   * @param {Function} callback callback with signature (err)\n   * @private\n   */\n  proto._checkCapabilities = function(callback) {\n    var self = this;\n    async.waterfall([\n      // Get available formats\n      function(cb) {\n        self.availableFormats(cb);\n      },\n\n      // Check whether specified formats are available\n      function(formats, cb) {\n        var unavailable;\n\n        // Output format(s)\n        unavailable = self._outputs\n          .reduce(function(fmts, output) {\n            var format = output.options.find('-f', 1);\n            if (format) {\n              if (!(format[0] in formats) || !(formats[format[0]].canMux)) {\n                fmts.push(format);\n              }\n            }\n\n            return fmts;\n          }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Output format ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Output formats ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        // Input format(s)\n        unavailable = self._inputs\n          .reduce(function(fmts, input) {\n            var format = input.options.find('-f', 1);\n            if (format) {\n              if (!(format[0] in formats) || !(formats[format[0]].canDemux)) {\n                fmts.push(format[0]);\n              }\n            }\n\n            return fmts;\n          }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Input format ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Input formats ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        cb();\n      },\n\n      // Get available codecs\n      function(cb) {\n        self.availableEncoders(cb);\n      },\n\n      // Check whether specified codecs are available and add strict experimental options if needed\n      function(encoders, cb) {\n        var unavailable;\n\n        // Audio codec(s)\n        unavailable = self._outputs.reduce(function(cdcs, output) {\n          var acodec = output.audio.find('-acodec', 1);\n          if (acodec && acodec[0] !== 'copy') {\n            if (!(acodec[0] in encoders) || encoders[acodec[0]].type !== 'audio') {\n              cdcs.push(acodec[0]);\n            }\n          }\n\n          return cdcs;\n        }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Audio codec ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Audio codecs ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        // Video codec(s)\n        unavailable = self._outputs.reduce(function(cdcs, output) {\n          var vcodec = output.video.find('-vcodec', 1);\n          if (vcodec && vcodec[0] !== 'copy') {\n            if (!(vcodec[0] in encoders) || encoders[vcodec[0]].type !== 'video') {\n              cdcs.push(vcodec[0]);\n            }\n          }\n\n          return cdcs;\n        }, []);\n\n        if (unavailable.length === 1) {\n          return cb(new Error('Video codec ' + unavailable[0] + ' is not available'));\n        } else if (unavailable.length > 1) {\n          return cb(new Error('Video codecs ' + unavailable.join(', ') + ' are not available'));\n        }\n\n        cb();\n      }\n    ], callback);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/capabilities.js\n// module id = 53\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/capabilities.js","/*jshint node:true, laxcomma:true*/\n'use strict';\n\nvar spawn = require('child_process').spawn;\n\n\nfunction legacyTag(key) { return key.match(/^TAG:/); }\nfunction legacyDisposition(key) { return key.match(/^DISPOSITION:/); }\n\nfunction parseFfprobeOutput(out) {\n  var lines = out.split(/\\r\\n|\\r|\\n/);\n\n  lines = lines.filter(function (line) {\n    return line.length > 0;\n  });\n\n  var data = {\n    streams: [],\n    format: {},\n    chapters: []\n  };\n\n  function parseBlock(name) {\n    var data = {};\n\n    var line = lines.shift();\n    while (typeof line !== 'undefined') {\n      if (line.toLowerCase() == '[/'+name+']') {\n        return data;\n      } else if (line.match(/^\\[/)) {\n        line = lines.shift();\n        continue;\n      }\n\n      var kv = line.match(/^([^=]+)=(.*)$/);\n      if (kv) {\n        if (!(kv[1].match(/^TAG:/)) && kv[2].match(/^[0-9]+(\\.[0-9]+)?$/)) {\n          data[kv[1]] = Number(kv[2]);\n        } else {\n          data[kv[1]] = kv[2];\n        }\n      }\n\n      line = lines.shift();\n    }\n\n    return data;\n  }\n\n  var line = lines.shift();\n  while (typeof line !== 'undefined') {\n    if (line.match(/^\\[stream/i)) {\n      var stream = parseBlock('stream');\n      data.streams.push(stream);\n    } else if (line.match(/^\\[chapter/i)) {\n      var chapter = parseBlock('chapter');\n      data.chapters.push(chapter);\n    } else if (line.toLowerCase() === '[format]') {\n      data.format = parseBlock('format');\n    }\n\n    line = lines.shift();\n  }\n\n  return data;\n}\n\n\n\nmodule.exports = function(proto) {\n  /**\n   * A callback passed to the {@link FfmpegCommand#ffprobe} method.\n   *\n   * @callback FfmpegCommand~ffprobeCallback\n   *\n   * @param {Error|null} err error object or null if no error happened\n   * @param {Object} ffprobeData ffprobe output data; this object\n   *   has the same format as what the following command returns:\n   *\n   *     `ffprobe -print_format json -show_streams -show_format INPUTFILE`\n   * @param {Array} ffprobeData.streams stream information\n   * @param {Object} ffprobeData.format format information\n   */\n\n  /**\n   * Run ffprobe on last specified input\n   *\n   * @method FfmpegCommand#ffprobe\n   * @category Metadata\n   *\n   * @param {?Number} [index] 0-based index of input to probe (defaults to last input)\n   * @param {?String[]} [options] array of output options to return\n   * @param {FfmpegCommand~ffprobeCallback} callback callback function\n   *\n   */\n  proto.ffprobe = function() {\n    var input, index = null, options = [], callback;\n\n    // the last argument should be the callback\n    var callback = arguments[arguments.length - 1];\n\n    var ended = false\n    function handleCallback(err, data) {\n      if (!ended) {\n        ended = true;\n        callback(err, data);\n      }\n    };\n\n    // map the arguments to the correct variable names\n    switch (arguments.length) {\n      case 3:\n        index = arguments[0];\n        options = arguments[1];\n        break;\n      case 2:\n        if (typeof arguments[0] === 'number') {\n          index = arguments[0];\n        } else if (Array.isArray(arguments[0])) {\n          options = arguments[0];\n        }\n        break;\n    }\n\n\n    if (index === null) {\n      if (!this._currentInput) {\n        return handleCallback(new Error('No input specified'));\n      }\n\n      input = this._currentInput;\n    } else {\n      input = this._inputs[index];\n\n      if (!input) {\n        return handleCallback(new Error('Invalid input index'));\n      }\n    }\n\n    // Find ffprobe\n    this._getFfprobePath(function(err, path) {\n      if (err) {\n        return handleCallback(err);\n      } else if (!path) {\n        return handleCallback(new Error('Cannot find ffprobe'));\n      }\n\n      var stdout = '';\n      var stdoutClosed = false;\n      var stderr = '';\n      var stderrClosed = false;\n\n      // Spawn ffprobe\n      var src = input.isStream ? 'pipe:0' : input.source;\n      var ffprobe = spawn(path, ['-show_streams', '-show_format'].concat(options, src));\n\n      if (input.isStream) {\n        // Skip errors on stdin. These get thrown when ffprobe is complete and\n        // there seems to be no way hook in and close stdin before it throws.\n        ffprobe.stdin.on('error', function(err) {\n          if (['ECONNRESET', 'EPIPE'].indexOf(err.code) >= 0) { return; }\n          handleCallback(err);\n        });\n\n        // Once ffprobe's input stream closes, we need no more data from the\n        // input\n        ffprobe.stdin.on('close', function() {\n            input.source.pause();\n            input.source.unpipe(ffprobe.stdin);\n        });\n\n        input.source.pipe(ffprobe.stdin);\n      }\n\n      ffprobe.on('error', callback);\n\n      // Ensure we wait for captured streams to end before calling callback\n      var exitError = null;\n      function handleExit(err) {\n        if (err) {\n          exitError = err;\n        }\n\n        if (processExited && stdoutClosed && stderrClosed) {\n          if (exitError) {\n            if (stderr) {\n              exitError.message += '\\n' + stderr;\n            }\n\n            return handleCallback(exitError);\n          }\n\n          // Process output\n          var data = parseFfprobeOutput(stdout);\n\n          // Handle legacy output with \"TAG:x\" and \"DISPOSITION:x\" keys\n          [data.format].concat(data.streams).forEach(function(target) {\n            if (target) {\n              var legacyTagKeys = Object.keys(target).filter(legacyTag);\n\n              if (legacyTagKeys.length) {\n                target.tags = target.tags || {};\n\n                legacyTagKeys.forEach(function(tagKey) {\n                  target.tags[tagKey.substr(4)] = target[tagKey];\n                  delete target[tagKey];\n                });\n              }\n\n              var legacyDispositionKeys = Object.keys(target).filter(legacyDisposition);\n\n              if (legacyDispositionKeys.length) {\n                target.disposition = target.disposition || {};\n\n                legacyDispositionKeys.forEach(function(dispositionKey) {\n                  target.disposition[dispositionKey.substr(12)] = target[dispositionKey];\n                  delete target[dispositionKey];\n                });\n              }\n            }\n          });\n\n          handleCallback(null, data);\n        }\n      }\n\n      // Handle ffprobe exit\n      var processExited = false;\n      ffprobe.on('exit', function(code, signal) {\n        processExited = true;\n\n        if (code) {\n          handleExit(new Error('ffprobe exited with code ' + code));\n        } else if (signal) {\n          handleExit(new Error('ffprobe was killed with signal ' + signal));\n        } else {\n          handleExit();\n        }\n      });\n\n      // Handle stdout/stderr streams\n      ffprobe.stdout.on('data', function(data) {\n        stdout += data;\n      });\n\n      ffprobe.stdout.on('close', function() {\n        stdoutClosed = true;\n        handleExit();\n      });\n\n      ffprobe.stderr.on('data', function(data) {\n        stderr += data;\n      });\n\n      ffprobe.stderr.on('close', function() {\n        stderrClosed = true;\n        handleExit();\n      });\n    });\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/ffprobe.js\n// module id = 54\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/ffprobe.js","/*jshint node:true*/\n'use strict';\n\nvar path = require('path');\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\n\nvar utils = require('./utils');\nvar ARGLISTS = ['_global', '_audio', '_audioFilters', '_video', '_videoFilters', '_sizeFilters', '_complexFilters'];\n\n\n/**\n * Create an ffmpeg command\n *\n * Can be called with or without the 'new' operator, and the 'input' parameter\n * may be specified as 'options.source' instead (or passed later with the\n * addInput method).\n *\n * @constructor\n * @param {String|ReadableStream} [input] input file path or readable stream\n * @param {Object} [options] command options\n * @param {Object} [options.logger=<no logging>] logger object with 'error', 'warning', 'info' and 'debug' methods\n * @param {Number} [options.niceness=0] ffmpeg process niceness, ignored on Windows\n * @param {Number} [options.priority=0] alias for `niceness`\n * @param {String} [options.presets=\"fluent-ffmpeg/lib/presets\"] directory to load presets from\n * @param {String} [options.preset=\"fluent-ffmpeg/lib/presets\"] alias for `presets`\n * @param {String} [options.stdoutLines=100] maximum lines of ffmpeg output to keep in memory, use 0 for unlimited\n * @param {Number} [options.timeout=<no timeout>] ffmpeg processing timeout in seconds\n * @param {String|ReadableStream} [options.source=<no input>] alias for the `input` parameter\n */\nfunction FfmpegCommand(input, options) {\n  // Make 'new' optional\n  if (!(this instanceof FfmpegCommand)) {\n    return new FfmpegCommand(input, options);\n  }\n\n  EventEmitter.call(this);\n\n  if (typeof input === 'object' && !('readable' in input)) {\n    // Options object passed directly\n    options = input;\n  } else {\n    // Input passed first\n    options = options || {};\n    options.source = input;\n  }\n\n  // Add input if present\n  this._inputs = [];\n  if (options.source) {\n    this.input(options.source);\n  }\n\n  // Add target-less output for backwards compatibility\n  this._outputs = [];\n  this.output();\n\n  // Create argument lists\n  var self = this;\n  ['_global', '_complexFilters'].forEach(function(prop) {\n    self[prop] = utils.args();\n  });\n\n  // Set default option values\n  options.stdoutLines = 'stdoutLines' in options ? options.stdoutLines : 100;\n  options.presets = options.presets || options.preset || path.join(__dirname, 'presets');\n  options.niceness = options.niceness || options.priority || 0;\n\n  // Save options\n  this.options = options;\n\n  // Setup logger\n  this.logger = options.logger || {\n    debug: function() {},\n    info: function() {},\n    warn: function() {},\n    error: function() {}\n  };\n}\nutil.inherits(FfmpegCommand, EventEmitter);\nmodule.exports = FfmpegCommand;\n\n\n/**\n * Clone an ffmpeg command\n *\n * This method is useful when you want to process the same input multiple times.\n * It returns a new FfmpegCommand instance with the exact same options.\n *\n * All options set _after_ the clone() call will only be applied to the instance\n * it has been called on.\n *\n * @example\n *   var command = ffmpeg('/path/to/source.avi')\n *     .audioCodec('libfaac')\n *     .videoCodec('libx264')\n *     .format('mp4');\n *\n *   command.clone()\n *     .size('320x200')\n *     .save('/path/to/output-small.mp4');\n *\n *   command.clone()\n *     .size('640x400')\n *     .save('/path/to/output-medium.mp4');\n *\n *   command.save('/path/to/output-original-size.mp4');\n *\n * @method FfmpegCommand#clone\n * @return FfmpegCommand\n */\nFfmpegCommand.prototype.clone = function() {\n  var clone = new FfmpegCommand();\n  var self = this;\n\n  // Clone options and logger\n  clone.options = this.options;\n  clone.logger = this.logger;\n\n  // Clone inputs\n  clone._inputs = this._inputs.map(function(input) {\n    return {\n      source: input.source,\n      options: input.options.clone()\n    };\n  });\n\n  // Create first output\n  if ('target' in this._outputs[0]) {\n    // We have outputs set, don't clone them and create first output\n    clone._outputs = [];\n    clone.output();\n  } else {\n    // No outputs set, clone first output options\n    clone._outputs = [\n      clone._currentOutput = {\n        flags: {}\n      }\n    ];\n\n    ['audio', 'audioFilters', 'video', 'videoFilters', 'sizeFilters', 'options'].forEach(function(key) {\n      clone._currentOutput[key] = self._currentOutput[key].clone();\n    });\n\n    if (this._currentOutput.sizeData) {\n      clone._currentOutput.sizeData = {};\n      utils.copy(this._currentOutput.sizeData, clone._currentOutput.sizeData);\n    }\n\n    utils.copy(this._currentOutput.flags, clone._currentOutput.flags);\n  }\n\n  // Clone argument lists\n  ['_global', '_complexFilters'].forEach(function(prop) {\n    clone[prop] = self[prop].clone();\n  });\n\n  return clone;\n};\n\n\n/* Add methods from options submodules */\n\nrequire('./options/inputs')(FfmpegCommand.prototype);\nrequire('./options/audio')(FfmpegCommand.prototype);\nrequire('./options/video')(FfmpegCommand.prototype);\nrequire('./options/videosize')(FfmpegCommand.prototype);\nrequire('./options/output')(FfmpegCommand.prototype);\nrequire('./options/custom')(FfmpegCommand.prototype);\nrequire('./options/misc')(FfmpegCommand.prototype);\n\n\n/* Add processor methods */\n\nrequire('./processor')(FfmpegCommand.prototype);\n\n\n/* Add capabilities methods */\n\nrequire('./capabilities')(FfmpegCommand.prototype);\n\nFfmpegCommand.setFfmpegPath = function(path) {\n  (new FfmpegCommand()).setFfmpegPath(path);\n};\n\nFfmpegCommand.setFfprobePath = function(path) {\n  (new FfmpegCommand()).setFfprobePath(path);\n};\n\nFfmpegCommand.setFlvtoolPath = function(path) {\n  (new FfmpegCommand()).setFlvtoolPath(path);\n};\n\nFfmpegCommand.availableFilters =\nFfmpegCommand.getAvailableFilters = function(callback) {\n  (new FfmpegCommand()).availableFilters(callback);\n};\n\nFfmpegCommand.availableCodecs =\nFfmpegCommand.getAvailableCodecs = function(callback) {\n  (new FfmpegCommand()).availableCodecs(callback);\n};\n\nFfmpegCommand.availableFormats =\nFfmpegCommand.getAvailableFormats = function(callback) {\n  (new FfmpegCommand()).availableFormats(callback);\n};\n\nFfmpegCommand.availableEncoders =\nFfmpegCommand.getAvailableEncoders = function(callback) {\n  (new FfmpegCommand()).availableEncoders(callback);\n};\n\n\n/* Add ffprobe methods */\n\nrequire('./ffprobe')(FfmpegCommand.prototype);\n\nFfmpegCommand.ffprobe = function(file) {\n  var instance = new FfmpegCommand(file);\n  instance.ffprobe.apply(instance, Array.prototype.slice.call(arguments, 1));\n};\n\n/* Add processing recipes */\n\nrequire('./recipes')(FfmpegCommand.prototype);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/fluent-ffmpeg.js\n// module id = 55\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/fluent-ffmpeg.js","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 56;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/options\n// module id = 56\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/options","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Audio-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Disable audio in the output\n   *\n   * @method FfmpegCommand#noAudio\n   * @category Audio\n   * @aliases withNoAudio\n   * @return FfmpegCommand\n   */\n  proto.withNoAudio =\n  proto.noAudio = function() {\n    this._currentOutput.audio.clear();\n    this._currentOutput.audioFilters.clear();\n    this._currentOutput.audio('-an');\n\n    return this;\n  };\n\n\n  /**\n   * Specify audio codec\n   *\n   * @method FfmpegCommand#audioCodec\n   * @category Audio\n   * @aliases withAudioCodec\n   *\n   * @param {String} codec audio codec name\n   * @return FfmpegCommand\n   */\n  proto.withAudioCodec =\n  proto.audioCodec = function(codec) {\n    this._currentOutput.audio('-acodec', codec);\n\n    return this;\n  };\n\n\n  /**\n   * Specify audio bitrate\n   *\n   * @method FfmpegCommand#audioBitrate\n   * @category Audio\n   * @aliases withAudioBitrate\n   *\n   * @param {String|Number} bitrate audio bitrate in kbps (with an optional 'k' suffix)\n   * @return FfmpegCommand\n   */\n  proto.withAudioBitrate =\n  proto.audioBitrate = function(bitrate) {\n    this._currentOutput.audio('-b:a', ('' + bitrate).replace(/k?$/, 'k'));\n    return this;\n  };\n\n\n  /**\n   * Specify audio channel count\n   *\n   * @method FfmpegCommand#audioChannels\n   * @category Audio\n   * @aliases withAudioChannels\n   *\n   * @param {Number} channels channel count\n   * @return FfmpegCommand\n   */\n  proto.withAudioChannels =\n  proto.audioChannels = function(channels) {\n    this._currentOutput.audio('-ac', channels);\n    return this;\n  };\n\n\n  /**\n   * Specify audio frequency\n   *\n   * @method FfmpegCommand#audioFrequency\n   * @category Audio\n   * @aliases withAudioFrequency\n   *\n   * @param {Number} freq audio frequency in Hz\n   * @return FfmpegCommand\n   */\n  proto.withAudioFrequency =\n  proto.audioFrequency = function(freq) {\n    this._currentOutput.audio('-ar', freq);\n    return this;\n  };\n\n\n  /**\n   * Specify audio quality\n   *\n   * @method FfmpegCommand#audioQuality\n   * @category Audio\n   * @aliases withAudioQuality\n   *\n   * @param {Number} quality audio quality factor\n   * @return FfmpegCommand\n   */\n  proto.withAudioQuality =\n  proto.audioQuality = function(quality) {\n    this._currentOutput.audio('-aq', quality);\n    return this;\n  };\n\n\n  /**\n   * Specify custom audio filter(s)\n   *\n   * Can be called both with one or many filters, or a filter array.\n   *\n   * @example\n   * command.audioFilters('filter1');\n   *\n   * @example\n   * command.audioFilters('filter1', 'filter2=param1=value1:param2=value2');\n   *\n   * @example\n   * command.audioFilters(['filter1', 'filter2']);\n   *\n   * @example\n   * command.audioFilters([\n   *   {\n   *     filter: 'filter1'\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: 'param=value:param=value'\n   *   }\n   * ]);\n   *\n   * @example\n   * command.audioFilters(\n   *   {\n   *     filter: 'filter1',\n   *     options: ['value1', 'value2']\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: { param1: 'value1', param2: 'value2' }\n   *   }\n   * );\n   *\n   * @method FfmpegCommand#audioFilters\n   * @aliases withAudioFilter,withAudioFilters,audioFilter\n   * @category Audio\n   *\n   * @param {...String|String[]|Object[]} filters audio filter strings, string array or\n   *   filter specification array, each with the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|String[]|Object} [filters.options] filter option string, array, or object\n   * @return FfmpegCommand\n   */\n  proto.withAudioFilter =\n  proto.withAudioFilters =\n  proto.audioFilter =\n  proto.audioFilters = function(filters) {\n    if (arguments.length > 1) {\n      filters = [].slice.call(arguments);\n    }\n\n    if (!Array.isArray(filters)) {\n      filters = [filters];\n    }\n\n    this._currentOutput.audioFilters(utils.makeFilterStrings(filters));\n    return this;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/options/audio.js\n// module id = 57\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/options/audio.js","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Custom options methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add custom input option(s)\n   *\n   * When passing a single string or an array, each string containing two\n   * words is split (eg. inputOptions('-option value') is supported) for\n   * compatibility reasons.  This is not the case when passing more than\n   * one argument.\n   *\n   * @example\n   * command.inputOptions('option1');\n   *\n   * @example\n   * command.inputOptions('option1', 'option2');\n   *\n   * @example\n   * command.inputOptions(['option1', 'option2']);\n   *\n   * @method FfmpegCommand#inputOptions\n   * @category Custom options\n   * @aliases addInputOption,addInputOptions,withInputOption,withInputOptions,inputOption\n   *\n   * @param {...String} options option string(s) or string array\n   * @return FfmpegCommand\n   */\n  proto.addInputOption =\n  proto.addInputOptions =\n  proto.withInputOption =\n  proto.withInputOptions =\n  proto.inputOption =\n  proto.inputOptions = function(options) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    var doSplit = true;\n\n    if (arguments.length > 1) {\n      options = [].slice.call(arguments);\n      doSplit = false;\n    }\n\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n\n    this._currentInput.options(options.reduce(function(options, option) {\n      var split = String(option).split(' ');\n\n      if (doSplit && split.length === 2) {\n        options.push(split[0], split[1]);\n      } else {\n        options.push(option);\n      }\n\n      return options;\n    }, []));\n    return this;\n  };\n\n\n  /**\n   * Add custom output option(s)\n   *\n   * @example\n   * command.outputOptions('option1');\n   *\n   * @example\n   * command.outputOptions('option1', 'option2');\n   *\n   * @example\n   * command.outputOptions(['option1', 'option2']);\n   *\n   * @method FfmpegCommand#outputOptions\n   * @category Custom options\n   * @aliases addOutputOption,addOutputOptions,addOption,addOptions,withOutputOption,withOutputOptions,withOption,withOptions,outputOption\n   *\n   * @param {...String} options option string(s) or string array\n   * @return FfmpegCommand\n   */\n  proto.addOutputOption =\n  proto.addOutputOptions =\n  proto.addOption =\n  proto.addOptions =\n  proto.withOutputOption =\n  proto.withOutputOptions =\n  proto.withOption =\n  proto.withOptions =\n  proto.outputOption =\n  proto.outputOptions = function(options) {\n    var doSplit = true;\n\n    if (arguments.length > 1) {\n      options = [].slice.call(arguments);\n      doSplit = false;\n    }\n\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n\n    this._currentOutput.options(options.reduce(function(options, option) {\n      var split = String(option).split(' ');\n\n      if (doSplit && split.length === 2) {\n        options.push(split[0], split[1]);\n      } else {\n        options.push(option);\n      }\n\n      return options;\n    }, []));\n    return this;\n  };\n\n\n  /**\n   * Specify a complex filtergraph\n   *\n   * Calling this method will override any previously set filtergraph, but you can set\n   * as many filters as needed in one call.\n   *\n   * @example <caption>Overlay an image over a video (using a filtergraph string)</caption>\n   *   ffmpeg()\n   *     .input('video.avi')\n   *     .input('image.png')\n   *     .complexFilter('[0:v][1:v]overlay[out]', ['out']);\n   *\n   * @example <caption>Overlay an image over a video (using a filter array)</caption>\n   *   ffmpeg()\n   *     .input('video.avi')\n   *     .input('image.png')\n   *     .complexFilter([{\n   *       filter: 'overlay',\n   *       inputs: ['0:v', '1:v'],\n   *       outputs: ['out']\n   *     }], ['out']);\n   *\n   * @example <caption>Split video into RGB channels and output a 3x1 video with channels side to side</caption>\n   *  ffmpeg()\n   *    .input('video.avi')\n   *    .complexFilter([\n   *      // Duplicate video stream 3 times into streams a, b, and c\n   *      { filter: 'split', options: '3', outputs: ['a', 'b', 'c'] },\n   *\n   *      // Create stream 'red' by cancelling green and blue channels from stream 'a'\n   *      { filter: 'lutrgb', options: { g: 0, b: 0 }, inputs: 'a', outputs: 'red' },\n   *\n   *      // Create stream 'green' by cancelling red and blue channels from stream 'b'\n   *      { filter: 'lutrgb', options: { r: 0, b: 0 }, inputs: 'b', outputs: 'green' },\n   *\n   *      // Create stream 'blue' by cancelling red and green channels from stream 'c'\n   *      { filter: 'lutrgb', options: { r: 0, g: 0 }, inputs: 'c', outputs: 'blue' },\n   *\n   *      // Pad stream 'red' to 3x width, keeping the video on the left, and name output 'padded'\n   *      { filter: 'pad', options: { w: 'iw*3', h: 'ih' }, inputs: 'red', outputs: 'padded' },\n   *\n   *      // Overlay 'green' onto 'padded', moving it to the center, and name output 'redgreen'\n   *      { filter: 'overlay', options: { x: 'w', y: 0 }, inputs: ['padded', 'green'], outputs: 'redgreen'},\n   *\n   *      // Overlay 'blue' onto 'redgreen', moving it to the right\n   *      { filter: 'overlay', options: { x: '2*w', y: 0 }, inputs: ['redgreen', 'blue']},\n   *    ]);\n   *\n   * @method FfmpegCommand#complexFilter\n   * @category Custom options\n   * @aliases filterGraph\n   *\n   * @param {String|Array} spec filtergraph string or array of filter specification\n   *   objects, each having the following properties:\n   * @param {String} spec.filter filter name\n   * @param {String|Array} [spec.inputs] (array of) input stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically choosing the first unused matching streams\n   * @param {String|Array} [spec.outputs] (array of) output stream specifier(s) for the filter,\n   *   defaults to ffmpeg automatically assigning the output to the output file\n   * @param {Object|String|Array} [spec.options] filter options, can be omitted to not set any options\n   * @param {Array} [map] (array of) stream specifier(s) from the graph to include in\n   *   ffmpeg output, defaults to ffmpeg automatically choosing the first matching streams.\n   * @return FfmpegCommand\n   */\n  proto.filterGraph =\n  proto.complexFilter = function(spec, map) {\n    this._complexFilters.clear();\n\n    if (!Array.isArray(spec)) {\n      spec = [spec];\n    }\n\n    this._complexFilters('-filter_complex', utils.makeFilterStrings(spec).join(';'));\n\n    if (Array.isArray(map)) {\n      var self = this;\n      map.forEach(function(streamSpec) {\n        self._complexFilters('-map', streamSpec.replace(utils.streamRegexp, '[$1]'));\n      });\n    } else if (typeof map === 'string') {\n      this._complexFilters('-map', map.replace(utils.streamRegexp, '[$1]'));\n    }\n\n    return this;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/options/custom.js\n// module id = 58\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/options/custom.js","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n/*\n *! Input-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add an input to command\n   *\n   * Also switches \"current input\", that is the input that will be affected\n   * by subsequent input-related methods.\n   *\n   * Note: only one stream input is supported for now.\n   *\n   * @method FfmpegCommand#input\n   * @category Input\n   * @aliases mergeAdd,addInput\n   *\n   * @param {String|Readable} source input file path or readable stream\n   * @return FfmpegCommand\n   */\n  proto.mergeAdd =\n  proto.addInput =\n  proto.input = function(source) {\n    var isFile = false;\n    var isStream = false;\n\n    if (typeof source !== 'string') {\n      if (!('readable' in source) || !(source.readable)) {\n        throw new Error('Invalid input');\n      }\n\n      var hasInputStream = this._inputs.some(function(input) {\n        return input.isStream;\n      });\n\n      if (hasInputStream) {\n        throw new Error('Only one input stream is supported');\n      }\n\n      isStream = true;\n      source.pause();\n    } else {\n      var protocol = source.match(/^([a-z]{2,}):/i);\n      isFile = !protocol || protocol[0] === 'file';\n    }\n\n    this._inputs.push(this._currentInput = {\n      source: source,\n      isFile: isFile,\n      isStream: isStream,\n      options: utils.args()\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Specify input format for the last specified input\n   *\n   * @method FfmpegCommand#inputFormat\n   * @category Input\n   * @aliases withInputFormat,fromFormat\n   *\n   * @param {String} format input format\n   * @return FfmpegCommand\n   */\n  proto.withInputFormat =\n  proto.inputFormat =\n  proto.fromFormat = function(format) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-f', format);\n    return this;\n  };\n\n\n  /**\n   * Specify input FPS for the last specified input\n   * (only valid for raw video formats)\n   *\n   * @method FfmpegCommand#inputFps\n   * @category Input\n   * @aliases withInputFps,withInputFPS,withFpsInput,withFPSInput,inputFPS,inputFps,fpsInput\n   *\n   * @param {Number} fps input FPS\n   * @return FfmpegCommand\n   */\n  proto.withInputFps =\n  proto.withInputFPS =\n  proto.withFpsInput =\n  proto.withFPSInput =\n  proto.inputFPS =\n  proto.inputFps =\n  proto.fpsInput =\n  proto.FPSInput = function(fps) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-r', fps);\n    return this;\n  };\n\n\n  /**\n   * Use native framerate for the last specified input\n   *\n   * @method FfmpegCommand#native\n   * @category Input\n   * @aliases nativeFramerate,withNativeFramerate\n   *\n   * @return FfmmegCommand\n   */\n  proto.nativeFramerate =\n  proto.withNativeFramerate =\n  proto.native = function() {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-re');\n    return this;\n  };\n\n\n  /**\n   * Specify input seek time for the last specified input\n   *\n   * @method FfmpegCommand#seekInput\n   * @category Input\n   * @aliases setStartTime,seekTo\n   *\n   * @param {String|Number} seek seek time in seconds or as a '[hh:[mm:]]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.setStartTime =\n  proto.seekInput = function(seek) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-ss', seek);\n\n    return this;\n  };\n\n\n  /**\n   * Loop over the last specified input\n   *\n   * @method FfmpegCommand#loop\n   * @category Input\n   *\n   * @param {String|Number} [duration] loop duration in seconds or as a '[[hh:]mm:]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.loop = function(duration) {\n    if (!this._currentInput) {\n      throw new Error('No input specified');\n    }\n\n    this._currentInput.options('-loop', '1');\n\n    if (typeof duration !== 'undefined') {\n      this.duration(duration);\n    }\n\n    return this;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/options/inputs.js\n// module id = 59\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/options/inputs.js","/*jshint node:true*/\n'use strict';\n\nvar path = require('path');\n\n/*\n *! Miscellaneous methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Use preset\n   *\n   * @method FfmpegCommand#preset\n   * @category Miscellaneous\n   * @aliases usingPreset\n   *\n   * @param {String|Function} preset preset name or preset function\n   */\n  proto.usingPreset =\n  proto.preset = function(preset) {\n    if (typeof preset === 'function') {\n      preset(this);\n    } else {\n      try {\n        var modulePath = path.join(this.options.presets, preset);\n        var module = require(modulePath);\n\n        if (typeof module.load === 'function') {\n          module.load(this);\n        } else {\n          throw new Error('preset ' + modulePath + ' has no load() function');\n        }\n      } catch (err) {\n        throw new Error('preset ' + modulePath + ' could not be loaded: ' + err.message);\n      }\n    }\n\n    return this;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/options/misc.js\n// module id = 60\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/options/misc.js","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Output-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Add output\n   *\n   * @method FfmpegCommand#output\n   * @category Output\n   * @aliases addOutput\n   *\n   * @param {String|Writable} target target file path or writable stream\n   * @param {Object} [pipeopts={}] pipe options (only applies to streams)\n   * @return FfmpegCommand\n   */\n  proto.addOutput =\n  proto.output = function(target, pipeopts) {\n    var isFile = false;\n\n    if (!target && this._currentOutput) {\n      // No target is only allowed when called from constructor\n      throw new Error('Invalid output');\n    }\n\n    if (target && typeof target !== 'string') {\n      if (!('writable' in target) || !(target.writable)) {\n        throw new Error('Invalid output');\n      }\n    } else if (typeof target === 'string') {\n      var protocol = target.match(/^([a-z]{2,}):/i);\n      isFile = !protocol || protocol[0] === 'file';\n    }\n\n    if (target && !('target' in this._currentOutput)) {\n      // For backwards compatibility, set target for first output\n      this._currentOutput.target = target;\n      this._currentOutput.isFile = isFile;\n      this._currentOutput.pipeopts = pipeopts || {};\n    } else {\n      if (target && typeof target !== 'string') {\n        var hasOutputStream = this._outputs.some(function(output) {\n          return typeof output.target !== 'string';\n        });\n\n        if (hasOutputStream) {\n          throw new Error('Only one output stream is supported');\n        }\n      }\n\n      this._outputs.push(this._currentOutput = {\n        target: target,\n        isFile: isFile,\n        flags: {},\n        pipeopts: pipeopts || {}\n      });\n\n      var self = this;\n      ['audio', 'audioFilters', 'video', 'videoFilters', 'sizeFilters', 'options'].forEach(function(key) {\n        self._currentOutput[key] = utils.args();\n      });\n\n      if (!target) {\n        // Call from constructor: remove target key\n        delete this._currentOutput.target;\n      }\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Specify output seek time\n   *\n   * @method FfmpegCommand#seek\n   * @category Input\n   * @aliases seekOutput\n   *\n   * @param {String|Number} seek seek time in seconds or as a '[hh:[mm:]]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.seekOutput =\n  proto.seek = function(seek) {\n    this._currentOutput.options('-ss', seek);\n    return this;\n  };\n\n\n  /**\n   * Set output duration\n   *\n   * @method FfmpegCommand#duration\n   * @category Output\n   * @aliases withDuration,setDuration\n   *\n   * @param {String|Number} duration duration in seconds or as a '[[hh:]mm:]ss[.xxx]' string\n   * @return FfmpegCommand\n   */\n  proto.withDuration =\n  proto.setDuration =\n  proto.duration = function(duration) {\n    this._currentOutput.options('-t', duration);\n    return this;\n  };\n\n\n  /**\n   * Set output format\n   *\n   * @method FfmpegCommand#format\n   * @category Output\n   * @aliases toFormat,withOutputFormat,outputFormat\n   *\n   * @param {String} format output format name\n   * @return FfmpegCommand\n   */\n  proto.toFormat =\n  proto.withOutputFormat =\n  proto.outputFormat =\n  proto.format = function(format) {\n    this._currentOutput.options('-f', format);\n    return this;\n  };\n\n\n  /**\n   * Add stream mapping to output\n   *\n   * @method FfmpegCommand#map\n   * @category Output\n   *\n   * @param {String} spec stream specification string, with optional square brackets\n   * @return FfmpegCommand\n   */\n  proto.map = function(spec) {\n    this._currentOutput.options('-map', spec.replace(utils.streamRegexp, '[$1]'));\n    return this;\n  };\n\n\n  /**\n   * Run flvtool2/flvmeta on output\n   *\n   * @method FfmpegCommand#flvmeta\n   * @category Output\n   * @aliases updateFlvMetadata\n   *\n   * @return FfmpegCommand\n   */\n  proto.updateFlvMetadata =\n  proto.flvmeta = function() {\n    this._currentOutput.flags.flvmeta = true;\n    return this;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/options/output.js\n// module id = 61\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/options/output.js","/*jshint node:true*/\n'use strict';\n\nvar utils = require('../utils');\n\n\n/*\n *! Video-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Disable video in the output\n   *\n   * @method FfmpegCommand#noVideo\n   * @category Video\n   * @aliases withNoVideo\n   *\n   * @return FfmpegCommand\n   */\n  proto.withNoVideo =\n  proto.noVideo = function() {\n    this._currentOutput.video.clear();\n    this._currentOutput.videoFilters.clear();\n    this._currentOutput.video('-vn');\n\n    return this;\n  };\n\n\n  /**\n   * Specify video codec\n   *\n   * @method FfmpegCommand#videoCodec\n   * @category Video\n   * @aliases withVideoCodec\n   *\n   * @param {String} codec video codec name\n   * @return FfmpegCommand\n   */\n  proto.withVideoCodec =\n  proto.videoCodec = function(codec) {\n    this._currentOutput.video('-vcodec', codec);\n    return this;\n  };\n\n\n  /**\n   * Specify video bitrate\n   *\n   * @method FfmpegCommand#videoBitrate\n   * @category Video\n   * @aliases withVideoBitrate\n   *\n   * @param {String|Number} bitrate video bitrate in kbps (with an optional 'k' suffix)\n   * @param {Boolean} [constant=false] enforce constant bitrate\n   * @return FfmpegCommand\n   */\n  proto.withVideoBitrate =\n  proto.videoBitrate = function(bitrate, constant) {\n    bitrate = ('' + bitrate).replace(/k?$/, 'k');\n\n    this._currentOutput.video('-b:v', bitrate);\n    if (constant) {\n      this._currentOutput.video(\n        '-maxrate', bitrate,\n        '-minrate', bitrate,\n        '-bufsize', '3M'\n      );\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Specify custom video filter(s)\n   *\n   * Can be called both with one or many filters, or a filter array.\n   *\n   * @example\n   * command.videoFilters('filter1');\n   *\n   * @example\n   * command.videoFilters('filter1', 'filter2=param1=value1:param2=value2');\n   *\n   * @example\n   * command.videoFilters(['filter1', 'filter2']);\n   *\n   * @example\n   * command.videoFilters([\n   *   {\n   *     filter: 'filter1'\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: 'param=value:param=value'\n   *   }\n   * ]);\n   *\n   * @example\n   * command.videoFilters(\n   *   {\n   *     filter: 'filter1',\n   *     options: ['value1', 'value2']\n   *   },\n   *   {\n   *     filter: 'filter2',\n   *     options: { param1: 'value1', param2: 'value2' }\n   *   }\n   * );\n   *\n   * @method FfmpegCommand#videoFilters\n   * @category Video\n   * @aliases withVideoFilter,withVideoFilters,videoFilter\n   *\n   * @param {...String|String[]|Object[]} filters video filter strings, string array or\n   *   filter specification array, each with the following properties:\n   * @param {String} filters.filter filter name\n   * @param {String|String[]|Object} [filters.options] filter option string, array, or object\n   * @return FfmpegCommand\n   */\n  proto.withVideoFilter =\n  proto.withVideoFilters =\n  proto.videoFilter =\n  proto.videoFilters = function(filters) {\n    if (arguments.length > 1) {\n      filters = [].slice.call(arguments);\n    }\n\n    if (!Array.isArray(filters)) {\n      filters = [filters];\n    }\n\n    this._currentOutput.videoFilters(utils.makeFilterStrings(filters));\n\n    return this;\n  };\n\n\n  /**\n   * Specify output FPS\n   *\n   * @method FfmpegCommand#fps\n   * @category Video\n   * @aliases withOutputFps,withOutputFPS,withFpsOutput,withFPSOutput,withFps,withFPS,outputFPS,outputFps,fpsOutput,FPSOutput,FPS\n   *\n   * @param {Number} fps output FPS\n   * @return FfmpegCommand\n   */\n  proto.withOutputFps =\n  proto.withOutputFPS =\n  proto.withFpsOutput =\n  proto.withFPSOutput =\n  proto.withFps =\n  proto.withFPS =\n  proto.outputFPS =\n  proto.outputFps =\n  proto.fpsOutput =\n  proto.FPSOutput =\n  proto.fps =\n  proto.FPS = function(fps) {\n    this._currentOutput.video('-r', fps);\n    return this;\n  };\n\n\n  /**\n   * Only transcode a certain number of frames\n   *\n   * @method FfmpegCommand#frames\n   * @category Video\n   * @aliases takeFrames,withFrames\n   *\n   * @param {Number} frames frame count\n   * @return FfmpegCommand\n   */\n  proto.takeFrames =\n  proto.withFrames =\n  proto.frames = function(frames) {\n    this._currentOutput.video('-vframes', frames);\n    return this;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/options/video.js\n// module id = 62\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/options/video.js","/*jshint node:true*/\n'use strict';\n\n/*\n *! Size helpers\n */\n\n\n/**\n * Return filters to pad video to width*height,\n *\n * @param {Number} width output width\n * @param {Number} height output height\n * @param {Number} aspect video aspect ratio (without padding)\n * @param {Number} color padding color\n * @return scale/pad filters\n * @private\n */\nfunction getScalePadFilters(width, height, aspect, color) {\n  /*\n    let a be the input aspect ratio, A be the requested aspect ratio\n\n    if a > A, padding is done on top and bottom\n    if a < A, padding is done on left and right\n   */\n\n  return [\n    /*\n      In both cases, we first have to scale the input to match the requested size.\n      When using computed width/height, we truncate them to multiples of 2\n     */\n    {\n      filter: 'scale',\n      options: {\n        w: 'if(gt(a,' + aspect + '),' + width + ',trunc(' + height + '*a/2)*2)',\n        h: 'if(lt(a,' + aspect + '),' + height + ',trunc(' + width + '/a/2)*2)'\n      }\n    },\n\n    /*\n      Then we pad the scaled input to match the target size\n      (here iw and ih refer to the padding input, i.e the scaled output)\n     */\n\n    {\n      filter: 'pad',\n      options: {\n        w: width,\n        h: height,\n        x: 'if(gt(a,' + aspect + '),0,(' + width + '-iw)/2)',\n        y: 'if(lt(a,' + aspect + '),0,(' + height + '-ih)/2)',\n        color: color\n      }\n    }\n  ];\n}\n\n\n/**\n * Recompute size filters\n *\n * @param {Object} output\n * @param {String} key newly-added parameter name ('size', 'aspect' or 'pad')\n * @param {String} value newly-added parameter value\n * @return filter string array\n * @private\n */\nfunction createSizeFilters(output, key, value) {\n  // Store parameters\n  var data = output.sizeData = output.sizeData || {};\n  data[key] = value;\n\n  if (!('size' in data)) {\n    // No size requested, keep original size\n    return [];\n  }\n\n  // Try to match the different size string formats\n  var fixedSize = data.size.match(/([0-9]+)x([0-9]+)/);\n  var fixedWidth = data.size.match(/([0-9]+)x\\?/);\n  var fixedHeight = data.size.match(/\\?x([0-9]+)/);\n  var percentRatio = data.size.match(/\\b([0-9]{1,3})%/);\n  var width, height, aspect;\n\n  if (percentRatio) {\n    var ratio = Number(percentRatio[1]) / 100;\n    return [{\n      filter: 'scale',\n      options: {\n        w: 'trunc(iw*' + ratio + '/2)*2',\n        h: 'trunc(ih*' + ratio + '/2)*2'\n      }\n    }];\n  } else if (fixedSize) {\n    // Round target size to multiples of 2\n    width = Math.round(Number(fixedSize[1]) / 2) * 2;\n    height = Math.round(Number(fixedSize[2]) / 2) * 2;\n\n    aspect = width / height;\n\n    if (data.pad) {\n      return getScalePadFilters(width, height, aspect, data.pad);\n    } else {\n      // No autopad requested, rescale to target size\n      return [{ filter: 'scale', options: { w: width, h: height }}];\n    }\n  } else if (fixedWidth || fixedHeight) {\n    if ('aspect' in data) {\n      // Specified aspect ratio\n      width = fixedWidth ? fixedWidth[1] : Math.round(Number(fixedHeight[1]) * data.aspect);\n      height = fixedHeight ? fixedHeight[1] : Math.round(Number(fixedWidth[1]) / data.aspect);\n\n      // Round to multiples of 2\n      width = Math.round(width / 2) * 2;\n      height = Math.round(height / 2) * 2;\n\n      if (data.pad) {\n        return getScalePadFilters(width, height, data.aspect, data.pad);\n      } else {\n        // No autopad requested, rescale to target size\n        return [{ filter: 'scale', options: { w: width, h: height }}];\n      }\n    } else {\n      // Keep input aspect ratio\n\n      if (fixedWidth) {\n        return [{\n          filter: 'scale',\n          options: {\n            w: Math.round(Number(fixedWidth[1]) / 2) * 2,\n            h: 'trunc(ow/a/2)*2'\n          }\n        }];\n      } else {\n        return [{\n          filter: 'scale',\n          options: {\n            w: 'trunc(oh*a/2)*2',\n            h: Math.round(Number(fixedHeight[1]) / 2) * 2\n          }\n        }];\n      }\n    }\n  } else {\n    throw new Error('Invalid size specified: ' + data.size);\n  }\n}\n\n\n/*\n *! Video size-related methods\n */\n\nmodule.exports = function(proto) {\n  /**\n   * Keep display aspect ratio\n   *\n   * This method is useful when converting an input with non-square pixels to an output format\n   * that does not support non-square pixels.  It rescales the input so that the display aspect\n   * ratio is the same.\n   *\n   * @method FfmpegCommand#keepDAR\n   * @category Video size\n   * @aliases keepPixelAspect,keepDisplayAspect,keepDisplayAspectRatio\n   *\n   * @return FfmpegCommand\n   */\n  proto.keepPixelAspect = // Only for compatibility, this is not about keeping _pixel_ aspect ratio\n  proto.keepDisplayAspect =\n  proto.keepDisplayAspectRatio =\n  proto.keepDAR = function() {\n    return this.videoFilters([\n      {\n        filter: 'scale',\n        options: {\n          w: 'if(gt(sar,1),iw*sar,iw)',\n          h: 'if(lt(sar,1),ih/sar,ih)'\n        }\n      },\n      {\n        filter: 'setsar',\n        options: '1'\n      }\n    ]);\n  };\n\n\n  /**\n   * Set output size\n   *\n   * The 'size' parameter can have one of 4 forms:\n   * - 'X%': rescale to xx % of the original size\n   * - 'WxH': specify width and height\n   * - 'Wx?': specify width and compute height from input aspect ratio\n   * - '?xH': specify height and compute width from input aspect ratio\n   *\n   * Note: both dimensions will be truncated to multiples of 2.\n   *\n   * @method FfmpegCommand#size\n   * @category Video size\n   * @aliases withSize,setSize\n   *\n   * @param {String} size size string, eg. '33%', '320x240', '320x?', '?x240'\n   * @return FfmpegCommand\n   */\n  proto.withSize =\n  proto.setSize =\n  proto.size = function(size) {\n    var filters = createSizeFilters(this._currentOutput, 'size', size);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n\n\n  /**\n   * Set output aspect ratio\n   *\n   * @method FfmpegCommand#aspect\n   * @category Video size\n   * @aliases withAspect,withAspectRatio,setAspect,setAspectRatio,aspectRatio\n   *\n   * @param {String|Number} aspect aspect ratio (number or 'X:Y' string)\n   * @return FfmpegCommand\n   */\n  proto.withAspect =\n  proto.withAspectRatio =\n  proto.setAspect =\n  proto.setAspectRatio =\n  proto.aspect =\n  proto.aspectRatio = function(aspect) {\n    var a = Number(aspect);\n    if (isNaN(a)) {\n      var match = aspect.match(/^(\\d+):(\\d+)$/);\n      if (match) {\n        a = Number(match[1]) / Number(match[2]);\n      } else {\n        throw new Error('Invalid aspect ratio: ' + aspect);\n      }\n    }\n\n    var filters = createSizeFilters(this._currentOutput, 'aspect', a);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n\n\n  /**\n   * Enable auto-padding the output\n   *\n   * @method FfmpegCommand#autopad\n   * @category Video size\n   * @aliases applyAutopadding,applyAutoPadding,applyAutopad,applyAutoPad,withAutopadding,withAutoPadding,withAutopad,withAutoPad,autoPad\n   *\n   * @param {Boolean} [pad=true] enable/disable auto-padding\n   * @param {String} [color='black'] pad color\n   */\n  proto.applyAutopadding =\n  proto.applyAutoPadding =\n  proto.applyAutopad =\n  proto.applyAutoPad =\n  proto.withAutopadding =\n  proto.withAutoPadding =\n  proto.withAutopad =\n  proto.withAutoPad =\n  proto.autoPad =\n  proto.autopad = function(pad, color) {\n    // Allow autopad(color)\n    if (typeof pad === 'string') {\n      color = pad;\n      pad = true;\n    }\n\n    // Allow autopad() and autopad(undefined, color)\n    if (typeof pad === 'undefined') {\n      pad = true;\n    }\n\n    var filters = createSizeFilters(this._currentOutput, 'pad', pad ? color || 'black' : false);\n\n    this._currentOutput.sizeFilters.clear();\n    this._currentOutput.sizeFilters(filters);\n\n    return this;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/options/videosize.js\n// module id = 63\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/options/videosize.js","/*jshint node:true*/\n'use strict';\n\nvar spawn = require('child_process').spawn;\nvar path = require('path');\nvar fs = require('fs');\nvar async = require('async');\nvar utils = require('./utils');\n\nvar nlRegexp = /\\r\\n|\\r|\\n/g;\n\n/*\n *! Processor methods\n */\n\n\n/**\n * Run ffprobe asynchronously and store data in command\n *\n * @param {FfmpegCommand} command\n * @private\n */\nfunction runFfprobe(command) {\n  const inputProbeIndex = 0;\n  if (command._inputs[inputProbeIndex].isStream) {\n    // Don't probe input streams as this will consume them\n    return;\n  }\n  command.ffprobe(inputProbeIndex, function(err, data) {\n    command._ffprobeData = data;\n  });\n}\n\n\nmodule.exports = function(proto) {\n  /**\n   * Emitted just after ffmpeg has been spawned.\n   *\n   * @event FfmpegCommand#start\n   * @param {String} command ffmpeg command line\n   */\n\n  /**\n   * Emitted when ffmpeg reports progress information\n   *\n   * @event FfmpegCommand#progress\n   * @param {Object} progress progress object\n   * @param {Number} progress.frames number of frames transcoded\n   * @param {Number} progress.currentFps current processing speed in frames per second\n   * @param {Number} progress.currentKbps current output generation speed in kilobytes per second\n   * @param {Number} progress.targetSize current output file size\n   * @param {String} progress.timemark current video timemark\n   * @param {Number} [progress.percent] processing progress (may not be available depending on input)\n   */\n\n  /**\n   * Emitted when ffmpeg outputs to stderr\n   *\n   * @event FfmpegCommand#stderr\n   * @param {String} line stderr output line\n   */\n\n  /**\n   * Emitted when ffmpeg reports input codec data\n   *\n   * @event FfmpegCommand#codecData\n   * @param {Object} codecData codec data object\n   * @param {String} codecData.format input format name\n   * @param {String} codecData.audio input audio codec name\n   * @param {String} codecData.audio_details input audio codec parameters\n   * @param {String} codecData.video input video codec name\n   * @param {String} codecData.video_details input video codec parameters\n   */\n\n  /**\n   * Emitted when an error happens when preparing or running a command\n   *\n   * @event FfmpegCommand#error\n   * @param {Error} error error object, with optional properties 'inputStreamError' / 'outputStreamError' for errors on their respective streams\n   * @param {String|null} stdout ffmpeg stdout, unless outputting to a stream\n   * @param {String|null} stderr ffmpeg stderr\n   */\n\n  /**\n   * Emitted when a command finishes processing\n   *\n   * @event FfmpegCommand#end\n   * @param {Array|String|null} [filenames|stdout] generated filenames when taking screenshots, ffmpeg stdout when not outputting to a stream, null otherwise\n   * @param {String|null} stderr ffmpeg stderr\n   */\n\n\n  /**\n   * Spawn an ffmpeg process\n   *\n   * The 'options' argument may contain the following keys:\n   * - 'niceness': specify process niceness, ignored on Windows (default: 0)\n   * - `cwd`: change working directory\n   * - 'captureStdout': capture stdout and pass it to 'endCB' as its 2nd argument (default: false)\n   * - 'stdoutLines': override command limit (default: use command limit)\n   *\n   * The 'processCB' callback, if present, is called as soon as the process is created and\n   * receives a nodejs ChildProcess object.  It may not be called at all if an error happens\n   * before spawning the process.\n   *\n   * The 'endCB' callback is called either when an error occurs or when the ffmpeg process finishes.\n   *\n   * @method FfmpegCommand#_spawnFfmpeg\n   * @param {Array} args ffmpeg command line argument list\n   * @param {Object} [options] spawn options (see above)\n   * @param {Function} [processCB] callback called with process object and stdout/stderr ring buffers when process has been created\n   * @param {Function} endCB callback called with error (if applicable) and stdout/stderr ring buffers when process finished\n   * @private\n   */\n  proto._spawnFfmpeg = function(args, options, processCB, endCB) {\n    // Enable omitting options\n    if (typeof options === 'function') {\n      endCB = processCB;\n      processCB = options;\n      options = {};\n    }\n\n    // Enable omitting processCB\n    if (typeof endCB === 'undefined') {\n      endCB = processCB;\n      processCB = function() {};\n    }\n\n    var maxLines = 'stdoutLines' in options ? options.stdoutLines : this.options.stdoutLines;\n\n    // Find ffmpeg\n    this._getFfmpegPath(function(err, command) {\n      if (err) {\n        return endCB(err);\n      } else if (!command || command.length === 0) {\n        return endCB(new Error('Cannot find ffmpeg'));\n      }\n\n      // Apply niceness\n      if (options.niceness && options.niceness !== 0 && !utils.isWindows) {\n        args.unshift('-n', options.niceness, command);\n        command = 'nice';\n      }\n\n      var stdoutRing = utils.linesRing(maxLines);\n      var stdoutClosed = false;\n\n      var stderrRing = utils.linesRing(maxLines);\n      var stderrClosed = false;\n\n      // Spawn process\n      var ffmpegProc = spawn(command, args, options);\n\n      if (ffmpegProc.stderr) {\n        ffmpegProc.stderr.setEncoding('utf8');\n      }\n\n      ffmpegProc.on('error', function(err) {\n        endCB(err);\n      });\n\n      // Ensure we wait for captured streams to end before calling endCB\n      var exitError = null;\n      function handleExit(err) {\n        if (err) {\n          exitError = err;\n        }\n\n        if (processExited && (stdoutClosed || !options.captureStdout) && stderrClosed) {\n          endCB(exitError, stdoutRing, stderrRing);\n        }\n      }\n\n      // Handle process exit\n      var processExited = false;\n      ffmpegProc.on('exit', function(code, signal) {\n        processExited = true;\n\n        if (signal) {\n          handleExit(new Error('ffmpeg was killed with signal ' + signal));\n        } else if (code) {\n          handleExit(new Error('ffmpeg exited with code ' + code));\n        } else {\n          handleExit();\n        }\n      });\n\n      // Capture stdout if specified\n      if (options.captureStdout) {\n        ffmpegProc.stdout.on('data', function(data) {\n          stdoutRing.append(data);\n        });\n\n        ffmpegProc.stdout.on('close', function() {\n          stdoutRing.close();\n          stdoutClosed = true;\n          handleExit();\n        });\n      }\n\n      // Capture stderr if specified\n      ffmpegProc.stderr.on('data', function(data) {\n        stderrRing.append(data);\n      });\n\n      ffmpegProc.stderr.on('close', function() {\n        stderrRing.close();\n        stderrClosed = true;\n        handleExit();\n      });\n\n      // Call process callback\n      processCB(ffmpegProc, stdoutRing, stderrRing);\n    });\n  };\n\n\n  /**\n   * Build the argument list for an ffmpeg command\n   *\n   * @method FfmpegCommand#_getArguments\n   * @return argument list\n   * @private\n   */\n  proto._getArguments = function() {\n    var complexFilters = this._complexFilters.get();\n\n    var fileOutput = this._outputs.some(function(output) {\n      return output.isFile;\n    });\n\n    return [].concat(\n        // Inputs and input options\n        this._inputs.reduce(function(args, input) {\n          var source = (typeof input.source === 'string') ? input.source : 'pipe:0';\n\n          // For each input, add input options, then '-i <source>'\n          return args.concat(\n            input.options.get(),\n            ['-i', source]\n          );\n        }, []),\n\n        // Global options\n        this._global.get(),\n\n        // Overwrite if we have file outputs\n        fileOutput ? ['-y'] : [],\n\n        // Complex filters\n        complexFilters,\n\n        // Outputs, filters and output options\n        this._outputs.reduce(function(args, output) {\n          var sizeFilters = utils.makeFilterStrings(output.sizeFilters.get());\n          var audioFilters = output.audioFilters.get();\n          var videoFilters = output.videoFilters.get().concat(sizeFilters);\n          var outputArg;\n\n          if (!output.target) {\n            outputArg = [];\n          } else if (typeof output.target === 'string') {\n            outputArg = [output.target];\n          } else {\n            outputArg = ['pipe:1'];\n          }\n\n          return args.concat(\n            output.audio.get(),\n            audioFilters.length ? ['-filter:a', audioFilters.join(',')] : [],\n            output.video.get(),\n            videoFilters.length ? ['-filter:v', videoFilters.join(',')] : [],\n            output.options.get(),\n            outputArg\n          );\n        }, [])\n      );\n  };\n\n\n  /**\n   * Prepare execution of an ffmpeg command\n   *\n   * Checks prerequisites for the execution of the command (codec/format availability, flvtool...),\n   * then builds the argument list for ffmpeg and pass them to 'callback'.\n   *\n   * @method FfmpegCommand#_prepare\n   * @param {Function} callback callback with signature (err, args)\n   * @param {Boolean} [readMetadata=false] read metadata before processing\n   * @private\n   */\n  proto._prepare = function(callback, readMetadata) {\n    var self = this;\n\n    async.waterfall([\n      // Check codecs and formats\n      function(cb) {\n        self._checkCapabilities(cb);\n      },\n\n      // Read metadata if required\n      function(cb) {\n        if (!readMetadata) {\n          return cb();\n        }\n\n        self.ffprobe(0, function(err, data) {\n          if (!err) {\n            self._ffprobeData = data;\n          }\n\n          cb();\n        });\n      },\n\n      // Check for flvtool2/flvmeta if necessary\n      function(cb) {\n        var flvmeta = self._outputs.some(function(output) {\n          // Remove flvmeta flag on non-file output\n          if (output.flags.flvmeta && !output.isFile) {\n            self.logger.warn('Updating flv metadata is only supported for files');\n            output.flags.flvmeta = false;\n          }\n\n          return output.flags.flvmeta;\n        });\n\n        if (flvmeta) {\n          self._getFlvtoolPath(function(err) {\n            cb(err);\n          });\n        } else {\n          cb();\n        }\n      },\n\n      // Build argument list\n      function(cb) {\n        var args;\n        try {\n          args = self._getArguments();\n        } catch(e) {\n          return cb(e);\n        }\n\n        cb(null, args);\n      },\n\n      // Add \"-strict experimental\" option where needed\n      function(args, cb) {\n        self.availableEncoders(function(err, encoders) {\n          for (var i = 0; i < args.length; i++) {\n            if (args[i] === '-acodec' || args[i] === '-vcodec') {\n              i++;\n\n              if ((args[i] in encoders) && encoders[args[i]].experimental) {\n                args.splice(i + 1, 0, '-strict', 'experimental');\n                i += 2;\n              }\n            }\n          }\n\n          cb(null, args);\n        });\n      }\n    ], callback);\n\n    if (!readMetadata) {\n      // Read metadata as soon as 'progress' listeners are added\n\n      if (this.listeners('progress').length > 0) {\n        // Read metadata in parallel\n        runFfprobe(this);\n      } else {\n        // Read metadata as soon as the first 'progress' listener is added\n        this.once('newListener', function(event) {\n          if (event === 'progress') {\n            runFfprobe(this);\n          }\n        });\n      }\n    }\n  };\n\n\n  /**\n   * Run ffmpeg command\n   *\n   * @method FfmpegCommand#run\n   * @category Processing\n   * @aliases exec,execute\n   */\n  proto.exec =\n  proto.execute =\n  proto.run = function() {\n    var self = this;\n\n    // Check if at least one output is present\n    var outputPresent = this._outputs.some(function(output) {\n      return 'target' in output;\n    });\n\n    if (!outputPresent) {\n      throw new Error('No output specified');\n    }\n\n    // Get output stream if any\n    var outputStream = this._outputs.filter(function(output) {\n      return typeof output.target !== 'string';\n    })[0];\n\n    // Get input stream if any\n    var inputStream = this._inputs.filter(function(input) {\n      return typeof input.source !== 'string';\n    })[0];\n\n    // Ensure we send 'end' or 'error' only once\n    var ended = false;\n    function emitEnd(err, stdout, stderr) {\n      if (!ended) {\n        ended = true;\n\n        if (err) {\n          self.emit('error', err, stdout, stderr);\n        } else {\n          self.emit('end', stdout, stderr);\n        }\n      }\n    }\n\n    self._prepare(function(err, args) {\n      if (err) {\n        return emitEnd(err);\n      }\n\n      // Run ffmpeg\n      self._spawnFfmpeg(\n        args,\n        {\n          captureStdout: !outputStream,\n          niceness: self.options.niceness,\n          cwd: self.options.cwd\n        },\n\n        function processCB(ffmpegProc, stdoutRing, stderrRing) {\n          self.ffmpegProc = ffmpegProc;\n          self.emit('start', 'ffmpeg ' + args.join(' '));\n\n          // Pipe input stream if any\n          if (inputStream) {\n            inputStream.source.on('error', function(err) {\n              var reportingErr = new Error('Input stream error: ' + err.message);\n              reportingErr.inputStreamError = err;\n              emitEnd(reportingErr);\n              ffmpegProc.kill();\n            });\n\n            inputStream.source.resume();\n            inputStream.source.pipe(ffmpegProc.stdin);\n\n            // Set stdin error handler on ffmpeg (prevents nodejs catching the error, but\n            // ffmpeg will fail anyway, so no need to actually handle anything)\n            ffmpegProc.stdin.on('error', function() {});\n          }\n\n          // Setup timeout if requested\n          var processTimer;\n          if (self.options.timeout) {\n            processTimer = setTimeout(function() {\n              var msg = 'process ran into a timeout (' + self.options.timeout + 's)';\n\n              emitEnd(new Error(msg), stdoutRing.get(), stderrRing.get());\n              ffmpegProc.kill();\n            }, self.options.timeout * 1000);\n          }\n\n\n          if (outputStream) {\n            // Pipe ffmpeg stdout to output stream\n            ffmpegProc.stdout.pipe(outputStream.target, outputStream.pipeopts);\n\n            // Handle output stream events\n            outputStream.target.on('close', function() {\n              self.logger.debug('Output stream closed, scheduling kill for ffmpeg process');\n\n              // Don't kill process yet, to give a chance to ffmpeg to\n              // terminate successfully first  This is necessary because\n              // under load, the process 'exit' event sometimes happens\n              // after the output stream 'close' event.\n              setTimeout(function() {\n                emitEnd(new Error('Output stream closed'));\n                ffmpegProc.kill();\n              }, 20);\n            });\n\n            outputStream.target.on('error', function(err) {\n              self.logger.debug('Output stream error, killing ffmpeg process');\n              var reportingErr = new Error('Output stream error: ' + err.message);\n              reportingErr.outputStreamError = err;\n              emitEnd(reportingErr, stdoutRing.get(), stderrRing.get());\n              ffmpegProc.kill('SIGKILL');\n            });\n          }\n\n          // Setup stderr handling\n          if (stderrRing) {\n\n            // 'stderr' event\n            if (self.listeners('stderr').length) {\n              stderrRing.callback(function(line) {\n                self.emit('stderr', line);\n              });\n            }\n\n            // 'codecData' event\n            if (self.listeners('codecData').length) {\n              var codecDataSent = false;\n              var codecObject = {};\n\n              stderrRing.callback(function(line) {\n                if (!codecDataSent)\n                  codecDataSent = utils.extractCodecData(self, line, codecObject);\n              });\n            }\n\n            // 'progress' event\n            if (self.listeners('progress').length) {\n              stderrRing.callback(function(line) {\n                utils.extractProgress(self, line);\n              });\n            }\n          }\n        },\n\n        function endCB(err, stdoutRing, stderrRing) {\n          delete self.ffmpegProc;\n\n          if (err) {\n            if (err.message.match(/ffmpeg exited with code/)) {\n              // Add ffmpeg error message\n              err.message += ': ' + utils.extractError(stderrRing.get());\n            }\n\n            emitEnd(err, stdoutRing.get(), stderrRing.get());\n          } else {\n            // Find out which outputs need flv metadata\n            var flvmeta = self._outputs.filter(function(output) {\n              return output.flags.flvmeta;\n            });\n\n            if (flvmeta.length) {\n              self._getFlvtoolPath(function(err, flvtool) {\n                if (err) {\n                  return emitEnd(err);\n                }\n\n                async.each(\n                  flvmeta,\n                  function(output, cb) {\n                    spawn(flvtool, ['-U', output.target])\n                      .on('error', function(err) {\n                        cb(new Error('Error running ' + flvtool + ' on ' + output.target + ': ' + err.message));\n                      })\n                      .on('exit', function(code, signal) {\n                        if (code !== 0 || signal) {\n                          cb(\n                            new Error(flvtool + ' ' +\n                              (signal ? 'received signal ' + signal\n                                      : 'exited with code ' + code)) +\n                              ' when running on ' + output.target\n                          );\n                        } else {\n                          cb();\n                        }\n                      });\n                  },\n                  function(err) {\n                    if (err) {\n                      emitEnd(err);\n                    } else {\n                      emitEnd(null, stdoutRing.get(), stderrRing.get());\n                    }\n                  }\n                );\n              });\n            } else {\n              emitEnd(null, stdoutRing.get(), stderrRing.get());\n            }\n          }\n        }\n      );\n    });\n  };\n\n\n  /**\n   * Renice current and/or future ffmpeg processes\n   *\n   * Ignored on Windows platforms.\n   *\n   * @method FfmpegCommand#renice\n   * @category Processing\n   *\n   * @param {Number} [niceness=0] niceness value between -20 (highest priority) and 20 (lowest priority)\n   * @return FfmpegCommand\n   */\n  proto.renice = function(niceness) {\n    if (!utils.isWindows) {\n      niceness = niceness || 0;\n\n      if (niceness < -20 || niceness > 20) {\n        this.logger.warn('Invalid niceness value: ' + niceness + ', must be between -20 and 20');\n      }\n\n      niceness = Math.min(20, Math.max(-20, niceness));\n      this.options.niceness = niceness;\n\n      if (this.ffmpegProc) {\n        var logger = this.logger;\n        var pid = this.ffmpegProc.pid;\n        var renice = spawn('renice', [niceness, '-p', pid]);\n\n        renice.on('error', function(err) {\n          logger.warn('could not renice process ' + pid + ': ' + err.message);\n        });\n\n        renice.on('exit', function(code, signal) {\n          if (signal) {\n            logger.warn('could not renice process ' + pid + ': renice was killed by signal ' + signal);\n          } else if (code) {\n            logger.warn('could not renice process ' + pid + ': renice exited with ' + code);\n          } else {\n            logger.info('successfully reniced process ' + pid + ' to ' + niceness + ' niceness');\n          }\n        });\n      }\n    }\n\n    return this;\n  };\n\n\n  /**\n   * Kill current ffmpeg process, if any\n   *\n   * @method FfmpegCommand#kill\n   * @category Processing\n   *\n   * @param {String} [signal=SIGKILL] signal name\n   * @return FfmpegCommand\n   */\n  proto.kill = function(signal) {\n    if (!this.ffmpegProc) {\n      this.logger.warn('No running ffmpeg process, cannot send signal');\n    } else {\n      this.ffmpegProc.kill(signal || 'SIGKILL');\n    }\n\n    return this;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/processor.js\n// module id = 64\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/processor.js","/*jshint node:true*/\n'use strict';\n\nvar fs = require('fs');\nvar path = require('path');\nvar PassThrough = require('stream').PassThrough;\nvar async = require('async');\nvar utils = require('./utils');\n\n\n/*\n * Useful recipes for commands\n */\n\nmodule.exports = function recipes(proto) {\n  /**\n   * Execute ffmpeg command and save output to a file\n   *\n   * @method FfmpegCommand#save\n   * @category Processing\n   * @aliases saveToFile\n   *\n   * @param {String} output file path\n   * @return FfmpegCommand\n   */\n  proto.saveToFile =\n  proto.save = function(output) {\n    this.output(output).run();\n    return this;\n  };\n\n\n  /**\n   * Execute ffmpeg command and save output to a stream\n   *\n   * If 'stream' is not specified, a PassThrough stream is created and returned.\n   * 'options' will be used when piping ffmpeg output to the output stream\n   * (@see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options)\n   *\n   * @method FfmpegCommand#pipe\n   * @category Processing\n   * @aliases stream,writeToStream\n   *\n   * @param {stream.Writable} [stream] output stream\n   * @param {Object} [options={}] pipe options\n   * @return Output stream\n   */\n  proto.writeToStream =\n  proto.pipe =\n  proto.stream = function(stream, options) {\n    if (stream && !('writable' in stream)) {\n      options = stream;\n      stream = undefined;\n    }\n\n    if (!stream) {\n      if (process.version.match(/v0\\.8\\./)) {\n        throw new Error('PassThrough stream is not supported on node v0.8');\n      }\n\n      stream = new PassThrough();\n    }\n\n    this.output(stream, options).run();\n    return stream;\n  };\n\n\n  /**\n   * Generate images from a video\n   *\n   * Note: this method makes the command emit a 'filenames' event with an array of\n   * the generated image filenames.\n   *\n   * @method FfmpegCommand#screenshots\n   * @category Processing\n   * @aliases takeScreenshots,thumbnail,thumbnails,screenshot\n   *\n   * @param {Number|Object} [config=1] screenshot count or configuration object with\n   *   the following keys:\n   * @param {Number} [config.count] number of screenshots to take; using this option\n   *   takes screenshots at regular intervals (eg. count=4 would take screens at 20%, 40%,\n   *   60% and 80% of the video length).\n   * @param {String} [config.folder='.'] output folder\n   * @param {String} [config.filename='tn.png'] output filename pattern, may contain the following\n   *   tokens:\n   *   - '%s': offset in seconds\n   *   - '%w': screenshot width\n   *   - '%h': screenshot height\n   *   - '%r': screenshot resolution (same as '%wx%h')\n   *   - '%f': input filename\n   *   - '%b': input basename (filename w/o extension)\n   *   - '%i': index of screenshot in timemark array (can be zero-padded by using it like `%000i`)\n   * @param {Number[]|String[]} [config.timemarks] array of timemarks to take screenshots\n   *   at; each timemark may be a number of seconds, a '[[hh:]mm:]ss[.xxx]' string or a\n   *   'XX%' string.  Overrides 'count' if present.\n   * @param {Number[]|String[]} [config.timestamps] alias for 'timemarks'\n   * @param {Boolean} [config.fastSeek] use fast seek (less accurate)\n   * @param {String} [config.size] screenshot size, with the same syntax as {@link FfmpegCommand#size}\n   * @param {String} [folder] output folder (legacy alias for 'config.folder')\n   * @return FfmpegCommand\n   */\n  proto.takeScreenshots =\n  proto.thumbnail =\n  proto.thumbnails =\n  proto.screenshot =\n  proto.screenshots = function(config, folder) {\n    var self = this;\n    var source = this._currentInput.source;\n    config = config || { count: 1 };\n\n    // Accept a number of screenshots instead of a config object\n    if (typeof config === 'number') {\n      config = {\n        count: config\n      };\n    }\n\n    // Accept a second 'folder' parameter instead of config.folder\n    if (!('folder' in config)) {\n      config.folder = folder || '.';\n    }\n\n    // Accept 'timestamps' instead of 'timemarks'\n    if ('timestamps' in config) {\n      config.timemarks = config.timestamps;\n    }\n\n    // Compute timemarks from count if not present\n    if (!('timemarks' in config)) {\n      if (!config.count) {\n        throw new Error('Cannot take screenshots: neither a count nor a timemark list are specified');\n      }\n\n      var interval = 100 / (1 + config.count);\n      config.timemarks = [];\n      for (var i = 0; i < config.count; i++) {\n        config.timemarks.push((interval * (i + 1)) + '%');\n      }\n    }\n\n    // Parse size option\n    if ('size' in config) {\n      var fixedSize = config.size.match(/^(\\d+)x(\\d+)$/);\n      var fixedWidth = config.size.match(/^(\\d+)x\\?$/);\n      var fixedHeight = config.size.match(/^\\?x(\\d+)$/);\n      var percentSize = config.size.match(/^(\\d+)%$/);\n\n      if (!fixedSize && !fixedWidth && !fixedHeight && !percentSize) {\n        throw new Error('Invalid size parameter: ' + config.size);\n      }\n    }\n\n    // Metadata helper\n    var metadata;\n    function getMetadata(cb) {\n      if (metadata) {\n        cb(null, metadata);\n      } else {\n        self.ffprobe(function(err, meta) {\n          metadata = meta;\n          cb(err, meta);\n        });\n      }\n    }\n\n    async.waterfall([\n      // Compute percent timemarks if any\n      function computeTimemarks(next) {\n        if (config.timemarks.some(function(t) { return ('' + t).match(/^[\\d.]+%$/); })) {\n          if (typeof source !== 'string') {\n            return next(new Error('Cannot compute screenshot timemarks with an input stream, please specify fixed timemarks'));\n          }\n\n          getMetadata(function(err, meta) {\n            if (err) {\n              next(err);\n            } else {\n              // Select video stream with the highest resolution\n              var vstream = meta.streams.reduce(function(biggest, stream) {\n                if (stream.codec_type === 'video' && stream.width * stream.height > biggest.width * biggest.height) {\n                  return stream;\n                } else {\n                  return biggest;\n                }\n              }, { width: 0, height: 0 });\n\n              if (vstream.width === 0) {\n                return next(new Error('No video stream in input, cannot take screenshots'));\n              }\n\n              var duration = Number(vstream.duration);\n              if (isNaN(duration)) {\n                duration = Number(meta.format.duration);\n              }\n\n              if (isNaN(duration)) {\n                return next(new Error('Could not get input duration, please specify fixed timemarks'));\n              }\n\n              config.timemarks = config.timemarks.map(function(mark) {\n                if (('' + mark).match(/^([\\d.]+)%$/)) {\n                  return duration * parseFloat(mark) / 100;\n                } else {\n                  return mark;\n                }\n              });\n\n              next();\n            }\n          });\n        } else {\n          next();\n        }\n      },\n\n      // Turn all timemarks into numbers and sort them\n      function normalizeTimemarks(next) {\n        config.timemarks = config.timemarks.map(function(mark) {\n          return utils.timemarkToSeconds(mark);\n        }).sort(function(a, b) { return a - b; });\n\n        next();\n      },\n\n      // Add '_%i' to pattern when requesting multiple screenshots and no variable token is present\n      function fixPattern(next) {\n        var pattern = config.filename || 'tn.png';\n\n        if (pattern.indexOf('.') === -1) {\n          pattern += '.png';\n        }\n\n        if (config.timemarks.length > 1 && !pattern.match(/%(s|0*i)/)) {\n          var ext = path.extname(pattern);\n          pattern = path.join(path.dirname(pattern), path.basename(pattern, ext) + '_%i' + ext);\n        }\n\n        next(null, pattern);\n      },\n\n      // Replace filename tokens (%f, %b) in pattern\n      function replaceFilenameTokens(pattern, next) {\n        if (pattern.match(/%[bf]/)) {\n          if (typeof source !== 'string') {\n            return next(new Error('Cannot replace %f or %b when using an input stream'));\n          }\n\n          pattern = pattern\n            .replace(/%f/g, path.basename(source))\n            .replace(/%b/g, path.basename(source, path.extname(source)));\n        }\n\n        next(null, pattern);\n      },\n\n      // Compute size if needed\n      function getSize(pattern, next) {\n        if (pattern.match(/%[whr]/)) {\n          if (fixedSize) {\n            return next(null, pattern, fixedSize[1], fixedSize[2]);\n          }\n\n          getMetadata(function(err, meta) {\n            if (err) {\n              return next(new Error('Could not determine video resolution to replace %w, %h or %r'));\n            }\n\n            var vstream = meta.streams.reduce(function(biggest, stream) {\n              if (stream.codec_type === 'video' && stream.width * stream.height > biggest.width * biggest.height) {\n                return stream;\n              } else {\n                return biggest;\n              }\n            }, { width: 0, height: 0 });\n\n            if (vstream.width === 0) {\n              return next(new Error('No video stream in input, cannot replace %w, %h or %r'));\n            }\n\n            var width = vstream.width;\n            var height = vstream.height;\n\n            if (fixedWidth) {\n              height = height * Number(fixedWidth[1]) / width;\n              width = Number(fixedWidth[1]);\n            } else if (fixedHeight) {\n              width = width * Number(fixedHeight[1]) / height;\n              height = Number(fixedHeight[1]);\n            } else if (percentSize) {\n              width = width * Number(percentSize[1]) / 100;\n              height = height * Number(percentSize[1]) / 100;\n            }\n\n            next(null, pattern, Math.round(width / 2) * 2, Math.round(height / 2) * 2);\n          });\n        } else {\n          next(null, pattern, -1, -1);\n        }\n      },\n\n      // Replace size tokens (%w, %h, %r) in pattern\n      function replaceSizeTokens(pattern, width, height, next) {\n        pattern = pattern\n          .replace(/%r/g, '%wx%h')\n          .replace(/%w/g, width)\n          .replace(/%h/g, height);\n\n        next(null, pattern);\n      },\n\n      // Replace variable tokens in pattern (%s, %i) and generate filename list\n      function replaceVariableTokens(pattern, next) {\n        var filenames = config.timemarks.map(function(t, i) {\n          return pattern\n            .replace(/%s/g, utils.timemarkToSeconds(t))\n            .replace(/%(0*)i/g, function(match, padding) {\n              var idx = '' + (i + 1);\n              return padding.substr(0, Math.max(0, padding.length + 1 - idx.length)) + idx;\n            });\n        });\n\n        self.emit('filenames', filenames);\n        next(null, filenames);\n      },\n\n      // Create output directory\n      function createDirectory(filenames, next) {\n        fs.exists(config.folder, function(exists) {\n          if (!exists) {\n            fs.mkdir(config.folder, function(err) {\n              if (err) {\n                next(err);\n              } else {\n                next(null, filenames);\n              }\n            });\n          } else {\n            next(null, filenames);\n          }\n        });\n      }\n    ], function runCommand(err, filenames) {\n      if (err) {\n        return self.emit('error', err);\n      }\n\n      var count = config.timemarks.length;\n      var split;\n      var filters = [split = {\n        filter: 'split',\n        options: count,\n        outputs: []\n      }];\n\n      if ('size' in config) {\n        // Set size to generate size filters\n        self.size(config.size);\n\n        // Get size filters and chain them with 'sizeN' stream names\n        var sizeFilters =  self._currentOutput.sizeFilters.get().map(function(f, i) {\n          if (i > 0) {\n            f.inputs = 'size' + (i - 1);\n          }\n\n          f.outputs = 'size' + i;\n\n          return f;\n        });\n\n        // Input last size filter output into split filter\n        split.inputs = 'size' + (sizeFilters.length - 1);\n\n        // Add size filters in front of split filter\n        filters = sizeFilters.concat(filters);\n\n        // Remove size filters\n        self._currentOutput.sizeFilters.clear();\n      }\n\n      var first = 0;\n      for (var i = 0; i < count; i++) {\n        var stream = 'screen' + i;\n        split.outputs.push(stream);\n\n        if (i === 0) {\n          first = config.timemarks[i];\n          self.seekInput(first);\n        }\n\n        self.output(path.join(config.folder, filenames[i]))\n          .frames(1)\n          .map(stream);\n\n        if (i > 0) {\n          self.seek(config.timemarks[i] - first);\n        }\n      }\n\n      self.complexFilter(filters);\n      self.run();\n    });\n\n    return this;\n  };\n\n\n  /**\n   * Merge (concatenate) inputs to a single file\n   *\n   * @method FfmpegCommand#concat\n   * @category Processing\n   * @aliases concatenate,mergeToFile\n   *\n   * @param {String|Writable} target output file or writable stream\n   * @param {Object} [options] pipe options (only used when outputting to a writable stream)\n   * @return FfmpegCommand\n   */\n  proto.mergeToFile =\n  proto.concatenate =\n  proto.concat = function(target, options) {\n    // Find out which streams are present in the first non-stream input\n    var fileInput = this._inputs.filter(function(input) {\n      return !input.isStream;\n    })[0];\n\n    var self = this;\n    this.ffprobe(this._inputs.indexOf(fileInput), function(err, data) {\n      if (err) {\n        return self.emit('error', err);\n      }\n\n      var hasAudioStreams = data.streams.some(function(stream) {\n        return stream.codec_type === 'audio';\n      });\n\n      var hasVideoStreams = data.streams.some(function(stream) {\n        return stream.codec_type === 'video';\n      });\n\n      // Setup concat filter and start processing\n      self.output(target, options)\n        .complexFilter({\n          filter: 'concat',\n          options: {\n            n: self._inputs.length,\n            v: hasVideoStreams ? 1 : 0,\n            a: hasAudioStreams ? 1 : 0\n          }\n        })\n        .run();\n    });\n\n    return this;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fluent-ffmpeg/lib/recipes.js\n// module id = 65\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/fluent-ffmpeg/lib/recipes.js","var PassThrough = require('stream').PassThrough;\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (opts) {\n\topts = objectAssign({}, opts);\n\n\tvar array = opts.array;\n\tvar encoding = opts.encoding;\n\n\tvar buffer = encoding === 'buffer';\n\tvar objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || buffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (buffer) {\n\t\tencoding = null;\n\t}\n\n\tvar len = 0;\n\tvar ret = [];\n\n\tvar stream = new PassThrough({objectMode: objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tstream.on('data', function (chunk) {\n\t\tret.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlen = ret.length;\n\t\t} else {\n\t\t\tlen += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = function () {\n\t\tif (array) {\n\t\t\treturn ret;\n\t\t}\n\t\treturn buffer ? Buffer.concat(ret, len) : ret.join('');\n\t};\n\n\tstream.getBufferedLength = function () {\n\t\treturn len;\n\t};\n\n\treturn stream;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/get-stream/buffer-stream.js\n// module id = 66\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/get-stream/buffer-stream.js","'use strict';\nvar Promise = require('pinkie-promise');\nvar objectAssign = require('object-assign');\nvar bufferStream = require('./buffer-stream');\n\nfunction getStream(inputStream, opts) {\n\tif (!inputStream) {\n\t\treturn Promise.reject(new Error('Expected a stream'));\n\t}\n\n\topts = objectAssign({maxBuffer: Infinity}, opts);\n\tvar maxBuffer = opts.maxBuffer;\n\tvar stream;\n\tvar clean;\n\n\tvar p = new Promise(function (resolve, reject) {\n\t\tstream = bufferStream(opts);\n\t\tinputStream.once('error', error);\n\t\tinputStream.pipe(stream);\n\n\t\tstream.on('data', function () {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\treject(new Error('maxBuffer exceeded'));\n\t\t\t}\n\t\t});\n\t\tstream.once('error', error);\n\t\tstream.on('end', resolve);\n\n\t\tclean = function () {\n\t\t\t// some streams doesn't implement the stream.Readable interface correctly\n\t\t\tif (inputStream.unpipe) {\n\t\t\t\tinputStream.unpipe(stream);\n\t\t\t}\n\t\t};\n\n\t\tfunction error(err) {\n\t\t\tif (err) { // null check\n\t\t\t\terr.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\t\t\treject(err);\n\t\t}\n\t});\n\n\tp.then(clean, clean);\n\n\treturn p.then(function () {\n\t\treturn stream.getBufferedValue();\n\t});\n}\n\nmodule.exports = getStream;\n\nmodule.exports.buffer = function (stream, opts) {\n\treturn getStream(stream, objectAssign({}, opts, {encoding: 'buffer'}));\n};\n\nmodule.exports.array = function (stream, opts) {\n\treturn getStream(stream, objectAssign({}, opts, {array: true}));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/get-stream/index.js\n// module id = 67\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/get-stream/index.js","var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isexe/index.js\n// module id = 68\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/isexe/index.js","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isexe/mode.js\n// module id = 69\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/isexe/mode.js","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isexe/windows.js\n// module id = 70\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/isexe/windows.js","// JavaScript Image Resizer (c) 2012 - Grant Galitz\n// Released to public domain 29 July 2013: https://github.com/grantgalitz/JS-Image-Resizer/issues/4\n\nfunction Resize(widthOriginal, heightOriginal, targetWidth, targetHeight, blendAlpha, interpolationPass, resizeCallback) {\n    this.widthOriginal = Math.abs(parseInt(widthOriginal) || 0);\n    this.heightOriginal = Math.abs(parseInt(heightOriginal) || 0);\n    this.targetWidth = Math.abs(parseInt(targetWidth) || 0);\n    this.targetHeight = Math.abs(parseInt(targetHeight) || 0);\n    this.colorChannels = (!!blendAlpha) ? 4 : 3;\n    this.interpolationPass = !!interpolationPass;\n    this.resizeCallback = (typeof resizeCallback == \"function\") ? resizeCallback : function (returnedArray) {};\n    this.targetWidthMultipliedByChannels = this.targetWidth * this.colorChannels;\n    this.originalWidthMultipliedByChannels = this.widthOriginal * this.colorChannels;\n    this.originalHeightMultipliedByChannels = this.heightOriginal * this.colorChannels;\n    this.widthPassResultSize = this.targetWidthMultipliedByChannels * this.heightOriginal;\n    this.finalResultSize = this.targetWidthMultipliedByChannels * this.targetHeight;\n    this.initialize();\n}\n\nResize.prototype.initialize = function () {\n    //Perform some checks:\n    if (this.widthOriginal > 0 && this.heightOriginal > 0 && this.targetWidth > 0 && this.targetHeight > 0) {\n        this.configurePasses();\n    } else {\n        throw (new Error(\"Invalid settings specified for the resizer.\"));\n    }\n}\n\nResize.prototype.configurePasses = function () {\n    if (this.widthOriginal == this.targetWidth) {\n        //Bypass the width resizer pass:\n        this.resizeWidth = this.bypassResizer;\n    } else {\n        //Setup the width resizer pass:\n        this.ratioWeightWidthPass = this.widthOriginal / this.targetWidth;\n        if (this.ratioWeightWidthPass < 1 && this.interpolationPass) {\n            this.initializeFirstPassBuffers(true);\n            this.resizeWidth = (this.colorChannels == 4) ? this.resizeWidthInterpolatedRGBA : this.resizeWidthInterpolatedRGB;\n        } else {\n            this.initializeFirstPassBuffers(false);\n            this.resizeWidth = (this.colorChannels == 4) ? this.resizeWidthRGBA : this.resizeWidthRGB;\n        }\n    }\n    if (this.heightOriginal == this.targetHeight) {\n        //Bypass the height resizer pass:\n        this.resizeHeight = this.bypassResizer;\n    } else {\n        //Setup the height resizer pass:\n        this.ratioWeightHeightPass = this.heightOriginal / this.targetHeight;\n        if (this.ratioWeightHeightPass < 1 && this.interpolationPass) {\n            this.initializeSecondPassBuffers(true);\n            this.resizeHeight = this.resizeHeightInterpolated;\n        } else {\n            this.initializeSecondPassBuffers(false);\n            this.resizeHeight = (this.colorChannels == 4) ? this.resizeHeightRGBA : this.resizeHeightRGB;\n        }\n    }\n}\n\nResize.prototype._resizeWidthInterpolatedRGBChannels = function (buffer, fourthChannel) {\n    var channelsNum = fourthChannel ? 4 : 3;\n    var ratioWeight = this.ratioWeightWidthPass;\n    var weight = 0;\n    var finalOffset = 0;\n    var pixelOffset = 0;\n    var firstWeight = 0;\n    var secondWeight = 0;\n    var outputBuffer = this.widthBuffer;\n    //Handle for only one interpolation input being valid for start calculation:\n    for (var targetPosition = 0; weight < 1 / 3; targetPosition += channelsNum, weight += ratioWeight) {\n        for (finalOffset = targetPosition, pixelOffset = 0; finalOffset < this.widthPassResultSize; pixelOffset += this.originalWidthMultipliedByChannels, finalOffset += this.targetWidthMultipliedByChannels) {\n            outputBuffer[finalOffset] = buffer[pixelOffset];\n            outputBuffer[finalOffset + 1] = buffer[pixelOffset + 1];\n            outputBuffer[finalOffset + 2] = buffer[pixelOffset + 2];\n            if (!fourthChannel) continue;\n            outputBuffer[finalOffset + 3] = buffer[pixelOffset + 3];\n        }\n    }\n    //Adjust for overshoot of the last pass's counter:\n    weight -= 1 / 3;\n    for (var interpolationWidthSourceReadStop = this.widthOriginal - 1; weight < interpolationWidthSourceReadStop; targetPosition += channelsNum, weight += ratioWeight) {\n        //Calculate weightings:\n        secondWeight = weight % 1;\n        firstWeight = 1 - secondWeight;\n        //Interpolate:\n        for (finalOffset = targetPosition, pixelOffset = Math.floor(weight) * channelsNum; finalOffset < this.widthPassResultSize; pixelOffset += this.originalWidthMultipliedByChannels, finalOffset += this.targetWidthMultipliedByChannels) {\n            outputBuffer[finalOffset] = (buffer[pixelOffset] * firstWeight) + (buffer[pixelOffset + channelsNum] * secondWeight);\n            outputBuffer[finalOffset + 1] = (buffer[pixelOffset + 1] * firstWeight) + (buffer[pixelOffset + channelsNum + 1] * secondWeight);\n            outputBuffer[finalOffset + 2] = (buffer[pixelOffset + 2] * firstWeight) + (buffer[pixelOffset + channelsNum + 2] * secondWeight);\n            if (!fourthChannel) continue;\n            outputBuffer[finalOffset + 3] = (buffer[pixelOffset + 3] * firstWeight) + (buffer[pixelOffset + channelsNum + 3] * secondWeight);\n        }\n    }\n    //Handle for only one interpolation input being valid for end calculation:\n    for (interpolationWidthSourceReadStop = this.originalWidthMultipliedByChannels - channelsNum; targetPosition < this.targetWidthMultipliedByChannels; targetPosition += channelsNum) {\n        for (finalOffset = targetPosition, pixelOffset = interpolationWidthSourceReadStop; finalOffset < this.widthPassResultSize; pixelOffset += this.originalWidthMultipliedByChannels, finalOffset += this.targetWidthMultipliedByChannels) {\n            outputBuffer[finalOffset] = buffer[pixelOffset];\n            outputBuffer[finalOffset + 1] = buffer[pixelOffset + 1];\n            outputBuffer[finalOffset + 2] = buffer[pixelOffset + 2];\n            if (!fourthChannel) continue;\n            outputBuffer[finalOffset + 3] = buffer[pixelOffset + 3];\n        }\n    }\n    return outputBuffer;\n}\n\nResize.prototype._resizeWidthRGBChannels = function (buffer, fourthChannel) {\n    var channelsNum = fourthChannel ? 4 : 3;\n    var ratioWeight = this.ratioWeightWidthPass;\n    var ratioWeightDivisor = 1 / ratioWeight;\n    var weight = 0;\n    var amountToNext = 0;\n    var actualPosition = 0;\n    var currentPosition = 0;\n    var line = 0;\n    var pixelOffset = 0;\n    var outputOffset = 0;\n    var nextLineOffsetOriginalWidth = this.originalWidthMultipliedByChannels - channelsNum + 1;\n    var nextLineOffsetTargetWidth = this.targetWidthMultipliedByChannels - channelsNum + 1;\n    var output = this.outputWidthWorkBench;\n    var outputBuffer = this.widthBuffer;\n    var trustworthyColorsCount = this.outputWidthWorkBenchOpaquePixelsCount;\n    var multiplier = 1;\n    var r = 0;\n    var g = 0;\n    var b = 0;\n    var a = 0;\n    do {\n        for (line = 0; line < this.originalHeightMultipliedByChannels;) {\n            output[line++] = 0;\n            output[line++] = 0;\n            output[line++] = 0;\n            if (!fourthChannel) continue;\n            output[line++] = 0;\n            trustworthyColorsCount[line / channelsNum - 1] = 0;\n        }\n        weight = ratioWeight;\n        do {\n            amountToNext = 1 + actualPosition - currentPosition;\n            multiplier = Math.min(weight, amountToNext);\n            for (line = 0, pixelOffset = actualPosition; line < this.originalHeightMultipliedByChannels; pixelOffset += nextLineOffsetOriginalWidth) {\n                r = buffer[pixelOffset];\n                g = buffer[++pixelOffset];\n                b = buffer[++pixelOffset];\n                a = fourthChannel ? buffer[++pixelOffset] : 255;\n                // Ignore RGB values if pixel is completely transparent\n                output[line++] += (a ? r : 0) * multiplier;\n                output[line++] += (a ? g : 0) * multiplier;\n                output[line++] += (a ? b : 0) * multiplier;\n                if (!fourthChannel) continue;\n                output[line++] += a * multiplier;\n                trustworthyColorsCount[line / channelsNum - 1] += (a ? multiplier : 0);\n            }\n            if (weight >= amountToNext) {\n                currentPosition = actualPosition = actualPosition + channelsNum;\n                weight -= amountToNext;\n            } else {\n                currentPosition += weight;\n                break;\n            }\n        } while (weight > 0 && actualPosition < this.originalWidthMultipliedByChannels);\n        for (line = 0, pixelOffset = outputOffset; line < this.originalHeightMultipliedByChannels; pixelOffset += nextLineOffsetTargetWidth) {\n            weight = fourthChannel ? trustworthyColorsCount[line / channelsNum] : 1;\n            multiplier = fourthChannel ? (weight ? 1 / weight : 0) : ratioWeightDivisor;\n            outputBuffer[pixelOffset] = output[line++] * multiplier;\n            outputBuffer[++pixelOffset] = output[line++] * multiplier;\n            outputBuffer[++pixelOffset] = output[line++] * multiplier;\n            if (!fourthChannel) continue;\n            outputBuffer[++pixelOffset] = output[line++] * ratioWeightDivisor;\n        }\n        outputOffset += channelsNum;\n    } while (outputOffset < this.targetWidthMultipliedByChannels);\n    return outputBuffer;\n}\n\nResize.prototype._resizeHeightRGBChannels = function(buffer, fourthChannel) {\n    var ratioWeight = this.ratioWeightHeightPass;\n    var ratioWeightDivisor = 1 / ratioWeight;\n    var weight = 0;\n    var amountToNext = 0;\n    var actualPosition = 0;\n    var currentPosition = 0;\n    var pixelOffset = 0;\n    var outputOffset = 0;\n    var output = this.outputHeightWorkBench;\n    var outputBuffer = this.heightBuffer;\n    var trustworthyColorsCount = this.outputHeightWorkBenchOpaquePixelsCount;\n    var caret = 0;\n    var multiplier = 1;\n    var r = 0;\n    var g = 0;\n    var b = 0;\n    var a = 0;\n    do {\n        for (pixelOffset = 0; pixelOffset < this.targetWidthMultipliedByChannels;) {\n            output[pixelOffset++] = 0;\n            output[pixelOffset++] = 0;\n            output[pixelOffset++] = 0;\n            if (!fourthChannel) continue;\n            output[pixelOffset++] = 0;\n            trustworthyColorsCount[pixelOffset / 4 - 1] = 0;\n        }\n        weight = ratioWeight;\n        do {\n            amountToNext = 1 + actualPosition - currentPosition;\n            multiplier = Math.min(weight, amountToNext);\n            caret = actualPosition;\n            for (pixelOffset = 0; pixelOffset < this.targetWidthMultipliedByChannels;) {\n                r = buffer[caret++];\n                g = buffer[caret++];\n                b = buffer[caret++];\n                a = fourthChannel ? buffer[caret++] : 255;\n                // Ignore RGB values if pixel is completely transparent\n                output[pixelOffset++] += (a ? r : 0) * multiplier;\n                output[pixelOffset++] += (a ? g : 0) * multiplier;\n                output[pixelOffset++] += (a ? b : 0) * multiplier;\n                if (!fourthChannel) continue;\n                output[pixelOffset++] += a * multiplier;\n                trustworthyColorsCount[pixelOffset / 4 - 1] += (a ? multiplier : 0);\n            }\n            if (weight >= amountToNext) {\n                currentPosition = actualPosition = caret;\n                weight -= amountToNext;\n            } else {\n                currentPosition += weight;\n                break;\n            }\n        } while (weight > 0 && actualPosition < this.widthPassResultSize);\n        for (pixelOffset = 0; pixelOffset < this.targetWidthMultipliedByChannels;) {\n            weight = fourthChannel ? trustworthyColorsCount[pixelOffset / 4] : 1;\n            multiplier = fourthChannel ? (weight ? 1 / weight : 0) : ratioWeightDivisor;\n            outputBuffer[outputOffset++] = Math.round(output[pixelOffset++] * multiplier);\n            outputBuffer[outputOffset++] = Math.round(output[pixelOffset++] * multiplier);\n            outputBuffer[outputOffset++] = Math.round(output[pixelOffset++] * multiplier);\n            if (!fourthChannel) continue;\n            outputBuffer[outputOffset++] = Math.round(output[pixelOffset++] * ratioWeightDivisor);\n        }\n    } while (outputOffset < this.finalResultSize);\n    \n    return outputBuffer;\n}\n\nResize.prototype.resizeWidthInterpolatedRGB = function (buffer) {\n    return this._resizeWidthInterpolatedRGBChannels(buffer, false);\n}\n\nResize.prototype.resizeWidthInterpolatedRGBA = function (buffer) {\n    return this._resizeWidthInterpolatedRGBChannels(buffer, true);\n}\n\nResize.prototype.resizeWidthRGB = function (buffer) {\n    return this._resizeWidthRGBChannels(buffer, false);\n}\n\nResize.prototype.resizeWidthRGBA = function (buffer) {\n    return this._resizeWidthRGBChannels(buffer, true);\n}\n\nResize.prototype.resizeHeightInterpolated = function (buffer) {\n    var ratioWeight = this.ratioWeightHeightPass;\n    var weight = 0;\n    var finalOffset = 0;\n    var pixelOffset = 0;\n    var pixelOffsetAccumulated = 0;\n    var pixelOffsetAccumulated2 = 0;\n    var firstWeight = 0;\n    var secondWeight = 0;\n    var outputBuffer = this.heightBuffer;\n    //Handle for only one interpolation input being valid for start calculation:\n    for (; weight < 1 / 3; weight += ratioWeight) {\n        for (pixelOffset = 0; pixelOffset < this.targetWidthMultipliedByChannels;) {\n            outputBuffer[finalOffset++] = Math.round(buffer[pixelOffset++]);\n        }\n    }\n    //Adjust for overshoot of the last pass's counter:\n    weight -= 1 / 3;\n    for (var interpolationHeightSourceReadStop = this.heightOriginal - 1; weight < interpolationHeightSourceReadStop; weight += ratioWeight) {\n        //Calculate weightings:\n        secondWeight = weight % 1;\n        firstWeight = 1 - secondWeight;\n        //Interpolate:\n        pixelOffsetAccumulated = Math.floor(weight) * this.targetWidthMultipliedByChannels;\n        pixelOffsetAccumulated2 = pixelOffsetAccumulated + this.targetWidthMultipliedByChannels;\n        for (pixelOffset = 0; pixelOffset < this.targetWidthMultipliedByChannels; ++pixelOffset) {\n            outputBuffer[finalOffset++] = Math.round((buffer[pixelOffsetAccumulated++] * firstWeight) + (buffer[pixelOffsetAccumulated2++] * secondWeight));\n        }\n    }\n    //Handle for only one interpolation input being valid for end calculation:\n    while (finalOffset < this.finalResultSize) {\n        for (pixelOffset = 0, pixelOffsetAccumulated = interpolationHeightSourceReadStop * this.targetWidthMultipliedByChannels; pixelOffset < this.targetWidthMultipliedByChannels; ++pixelOffset) {\n            outputBuffer[finalOffset++] = Math.round(buffer[pixelOffsetAccumulated++]);\n        }\n    }\n    return outputBuffer;\n}\n\nResize.prototype.resizeHeightRGB = function (buffer) {\n    return this._resizeHeightRGBChannels(buffer, false);\n}\n\nResize.prototype.resizeHeightRGBA = function (buffer) {\n    return this._resizeHeightRGBChannels(buffer, true);\n}\n\nResize.prototype.resize = function (buffer) {\n    this.resizeCallback(this.resizeHeight(this.resizeWidth(buffer)));\n}\n\nResize.prototype.bypassResizer = function (buffer) {\n    //Just return the buffer passsed:\n    return buffer;\n}\n\nResize.prototype.initializeFirstPassBuffers = function (BILINEARAlgo) {\n    //Initialize the internal width pass buffers:\n    this.widthBuffer = this.generateFloatBuffer(this.widthPassResultSize);\n    if (!BILINEARAlgo) {\n        this.outputWidthWorkBench = this.generateFloatBuffer(this.originalHeightMultipliedByChannels);\n        if (this.colorChannels > 3) {\n            this.outputWidthWorkBenchOpaquePixelsCount = this.generateFloat64Buffer(this.heightOriginal);\n        }\n    }\n}\n\nResize.prototype.initializeSecondPassBuffers = function (BILINEARAlgo) {\n    //Initialize the internal height pass buffers:\n    this.heightBuffer = this.generateUint8Buffer(this.finalResultSize);\n    if (!BILINEARAlgo) {\n        this.outputHeightWorkBench = this.generateFloatBuffer(this.targetWidthMultipliedByChannels);\n        if (this.colorChannels > 3) {\n            this.outputHeightWorkBenchOpaquePixelsCount = this.generateFloat64Buffer(this.targetWidth);\n        }\n    }\n}\n\nResize.prototype.generateFloatBuffer = function (bufferLength) {\n    //Generate a float32 typed array buffer:\n    try {\n        return new Float32Array(bufferLength);\n    } catch (error) {\n        return [];\n    }\n}\n\nResize.prototype.generateFloat64Buffer = function (bufferLength) {\n    //Generate a float64 typed array buffer:\n    try {\n        return new Float64Array(bufferLength);\n    } catch (error) {\n        return [];\n    }\n}\n\nResize.prototype.generateUint8Buffer = function (bufferLength) {\n    //Generate a uint8 typed array buffer:\n    try {\n        return new Uint8Array(bufferLength);\n    } catch (error) {\n        return [];\n    }\n}\n\nmodule.exports = Resize;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jimp/resize.js\n// module id = 71\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/jimp/resize.js","/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- /\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n/*\n   Copyright 2011 notmasteryet\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*/\n\n// - The JPEG specification can be found in the ITU CCITT Recommendation T.81\n//   (www.w3.org/Graphics/JPEG/itu-t81.pdf)\n// - The JFIF specification can be found in the JPEG File Interchange Format\n//   (www.w3.org/Graphics/JPEG/jfif3.pdf)\n// - The Adobe Application-Specific JPEG markers in the Supporting the DCT Filters\n//   in PostScript Level 2, Technical Note #5116\n//   (partners.adobe.com/public/developer/en/ps/sdk/5116.DCT_Filter.pdf)\n\nvar JpegImage = (function jpegImage() {\n  \"use strict\";\n  var dctZigZag = new Int32Array([\n     0,\n     1,  8,\n    16,  9,  2,\n     3, 10, 17, 24,\n    32, 25, 18, 11, 4,\n     5, 12, 19, 26, 33, 40,\n    48, 41, 34, 27, 20, 13,  6,\n     7, 14, 21, 28, 35, 42, 49, 56,\n    57, 50, 43, 36, 29, 22, 15,\n    23, 30, 37, 44, 51, 58,\n    59, 52, 45, 38, 31,\n    39, 46, 53, 60,\n    61, 54, 47,\n    55, 62,\n    63\n  ]);\n\n  var dctCos1  =  4017   // cos(pi/16)\n  var dctSin1  =   799   // sin(pi/16)\n  var dctCos3  =  3406   // cos(3*pi/16)\n  var dctSin3  =  2276   // sin(3*pi/16)\n  var dctCos6  =  1567   // cos(6*pi/16)\n  var dctSin6  =  3784   // sin(6*pi/16)\n  var dctSqrt2 =  5793   // sqrt(2)\n  var dctSqrt1d2 = 2896  // sqrt(2) / 2\n\n  function constructor() {\n  }\n\n  function buildHuffmanTable(codeLengths, values) {\n    var k = 0, code = [], i, j, length = 16;\n    while (length > 0 && !codeLengths[length - 1])\n      length--;\n    code.push({children: [], index: 0});\n    var p = code[0], q;\n    for (i = 0; i < length; i++) {\n      for (j = 0; j < codeLengths[i]; j++) {\n        p = code.pop();\n        p.children[p.index] = values[k];\n        while (p.index > 0) {\n          p = code.pop();\n        }\n        p.index++;\n        code.push(p);\n        while (code.length <= i) {\n          code.push(q = {children: [], index: 0});\n          p.children[p.index] = q.children;\n          p = q;\n        }\n        k++;\n      }\n      if (i + 1 < length) {\n        // p here points to last code\n        code.push(q = {children: [], index: 0});\n        p.children[p.index] = q.children;\n        p = q;\n      }\n    }\n    return code[0].children;\n  }\n\n  function decodeScan(data, offset,\n                      frame, components, resetInterval,\n                      spectralStart, spectralEnd,\n                      successivePrev, successive) {\n    var precision = frame.precision;\n    var samplesPerLine = frame.samplesPerLine;\n    var scanLines = frame.scanLines;\n    var mcusPerLine = frame.mcusPerLine;\n    var progressive = frame.progressive;\n    var maxH = frame.maxH, maxV = frame.maxV;\n\n    var startOffset = offset, bitsData = 0, bitsCount = 0;\n    function readBit() {\n      if (bitsCount > 0) {\n        bitsCount--;\n        return (bitsData >> bitsCount) & 1;\n      }\n      bitsData = data[offset++];\n      if (bitsData == 0xFF) {\n        var nextByte = data[offset++];\n        if (nextByte) {\n          throw \"unexpected marker: \" + ((bitsData << 8) | nextByte).toString(16);\n        }\n        // unstuff 0\n      }\n      bitsCount = 7;\n      return bitsData >>> 7;\n    }\n    function decodeHuffman(tree) {\n      var node = tree, bit;\n      while ((bit = readBit()) !== null) {\n        node = node[bit];\n        if (typeof node === 'number')\n          return node;\n        if (typeof node !== 'object')\n          throw \"invalid huffman sequence\";\n      }\n      return null;\n    }\n    function receive(length) {\n      var n = 0;\n      while (length > 0) {\n        var bit = readBit();\n        if (bit === null) return;\n        n = (n << 1) | bit;\n        length--;\n      }\n      return n;\n    }\n    function receiveAndExtend(length) {\n      var n = receive(length);\n      if (n >= 1 << (length - 1))\n        return n;\n      return n + (-1 << length) + 1;\n    }\n    function decodeBaseline(component, zz) {\n      var t = decodeHuffman(component.huffmanTableDC);\n      var diff = t === 0 ? 0 : receiveAndExtend(t);\n      zz[0]= (component.pred += diff);\n      var k = 1;\n      while (k < 64) {\n        var rs = decodeHuffman(component.huffmanTableAC);\n        var s = rs & 15, r = rs >> 4;\n        if (s === 0) {\n          if (r < 15)\n            break;\n          k += 16;\n          continue;\n        }\n        k += r;\n        var z = dctZigZag[k];\n        zz[z] = receiveAndExtend(s);\n        k++;\n      }\n    }\n    function decodeDCFirst(component, zz) {\n      var t = decodeHuffman(component.huffmanTableDC);\n      var diff = t === 0 ? 0 : (receiveAndExtend(t) << successive);\n      zz[0] = (component.pred += diff);\n    }\n    function decodeDCSuccessive(component, zz) {\n      zz[0] |= readBit() << successive;\n    }\n    var eobrun = 0;\n    function decodeACFirst(component, zz) {\n      if (eobrun > 0) {\n        eobrun--;\n        return;\n      }\n      var k = spectralStart, e = spectralEnd;\n      while (k <= e) {\n        var rs = decodeHuffman(component.huffmanTableAC);\n        var s = rs & 15, r = rs >> 4;\n        if (s === 0) {\n          if (r < 15) {\n            eobrun = receive(r) + (1 << r) - 1;\n            break;\n          }\n          k += 16;\n          continue;\n        }\n        k += r;\n        var z = dctZigZag[k];\n        zz[z] = receiveAndExtend(s) * (1 << successive);\n        k++;\n      }\n    }\n    var successiveACState = 0, successiveACNextValue;\n    function decodeACSuccessive(component, zz) {\n      var k = spectralStart, e = spectralEnd, r = 0;\n      while (k <= e) {\n        var z = dctZigZag[k];\n        switch (successiveACState) {\n        case 0: // initial state\n          var rs = decodeHuffman(component.huffmanTableAC);\n          var s = rs & 15, r = rs >> 4;\n          if (s === 0) {\n            if (r < 15) {\n              eobrun = receive(r) + (1 << r);\n              successiveACState = 4;\n            } else {\n              r = 16;\n              successiveACState = 1;\n            }\n          } else {\n            if (s !== 1)\n              throw \"invalid ACn encoding\";\n            successiveACNextValue = receiveAndExtend(s);\n            successiveACState = r ? 2 : 3;\n          }\n          continue;\n        case 1: // skipping r zero items\n        case 2:\n          if (zz[z])\n            zz[z] += (readBit() << successive);\n          else {\n            r--;\n            if (r === 0)\n              successiveACState = successiveACState == 2 ? 3 : 0;\n          }\n          break;\n        case 3: // set value for a zero item\n          if (zz[z])\n            zz[z] += (readBit() << successive);\n          else {\n            zz[z] = successiveACNextValue << successive;\n            successiveACState = 0;\n          }\n          break;\n        case 4: // eob\n          if (zz[z])\n            zz[z] += (readBit() << successive);\n          break;\n        }\n        k++;\n      }\n      if (successiveACState === 4) {\n        eobrun--;\n        if (eobrun === 0)\n          successiveACState = 0;\n      }\n    }\n    function decodeMcu(component, decode, mcu, row, col) {\n      var mcuRow = (mcu / mcusPerLine) | 0;\n      var mcuCol = mcu % mcusPerLine;\n      var blockRow = mcuRow * component.v + row;\n      var blockCol = mcuCol * component.h + col;\n      decode(component, component.blocks[blockRow][blockCol]);\n    }\n    function decodeBlock(component, decode, mcu) {\n      var blockRow = (mcu / component.blocksPerLine) | 0;\n      var blockCol = mcu % component.blocksPerLine;\n      decode(component, component.blocks[blockRow][blockCol]);\n    }\n\n    var componentsLength = components.length;\n    var component, i, j, k, n;\n    var decodeFn;\n    if (progressive) {\n      if (spectralStart === 0)\n        decodeFn = successivePrev === 0 ? decodeDCFirst : decodeDCSuccessive;\n      else\n        decodeFn = successivePrev === 0 ? decodeACFirst : decodeACSuccessive;\n    } else {\n      decodeFn = decodeBaseline;\n    }\n\n    var mcu = 0, marker;\n    var mcuExpected;\n    if (componentsLength == 1) {\n      mcuExpected = components[0].blocksPerLine * components[0].blocksPerColumn;\n    } else {\n      mcuExpected = mcusPerLine * frame.mcusPerColumn;\n    }\n    if (!resetInterval) resetInterval = mcuExpected;\n\n    var h, v;\n    while (mcu < mcuExpected) {\n      // reset interval stuff\n      for (i = 0; i < componentsLength; i++)\n        components[i].pred = 0;\n      eobrun = 0;\n\n      if (componentsLength == 1) {\n        component = components[0];\n        for (n = 0; n < resetInterval; n++) {\n          decodeBlock(component, decodeFn, mcu);\n          mcu++;\n        }\n      } else {\n        for (n = 0; n < resetInterval; n++) {\n          for (i = 0; i < componentsLength; i++) {\n            component = components[i];\n            h = component.h;\n            v = component.v;\n            for (j = 0; j < v; j++) {\n              for (k = 0; k < h; k++) {\n                decodeMcu(component, decodeFn, mcu, j, k);\n              }\n            }\n          }\n          mcu++;\n\n          // If we've reached our expected MCU's, stop decoding\n          if (mcu === mcuExpected) break;\n        }\n      }\n\n      // find marker\n      bitsCount = 0;\n      marker = (data[offset] << 8) | data[offset + 1];\n      if (marker < 0xFF00) {\n        throw \"marker was not found\";\n      }\n\n      if (marker >= 0xFFD0 && marker <= 0xFFD7) { // RSTx\n        offset += 2;\n      }\n      else\n        break;\n    }\n\n    return offset - startOffset;\n  }\n\n  function buildComponentData(frame, component) {\n    var lines = [];\n    var blocksPerLine = component.blocksPerLine;\n    var blocksPerColumn = component.blocksPerColumn;\n    var samplesPerLine = blocksPerLine << 3;\n    var R = new Int32Array(64), r = new Uint8Array(64);\n\n    // A port of poppler's IDCT method which in turn is taken from:\n    //   Christoph Loeffler, Adriaan Ligtenberg, George S. Moschytz,\n    //   \"Practical Fast 1-D DCT Algorithms with 11 Multiplications\",\n    //   IEEE Intl. Conf. on Acoustics, Speech & Signal Processing, 1989,\n    //   988-991.\n    function quantizeAndInverse(zz, dataOut, dataIn) {\n      var qt = component.quantizationTable;\n      var v0, v1, v2, v3, v4, v5, v6, v7, t;\n      var p = dataIn;\n      var i;\n\n      // dequant\n      for (i = 0; i < 64; i++)\n        p[i] = zz[i] * qt[i];\n\n      // inverse DCT on rows\n      for (i = 0; i < 8; ++i) {\n        var row = 8 * i;\n\n        // check for all-zero AC coefficients\n        if (p[1 + row] == 0 && p[2 + row] == 0 && p[3 + row] == 0 &&\n            p[4 + row] == 0 && p[5 + row] == 0 && p[6 + row] == 0 &&\n            p[7 + row] == 0) {\n          t = (dctSqrt2 * p[0 + row] + 512) >> 10;\n          p[0 + row] = t;\n          p[1 + row] = t;\n          p[2 + row] = t;\n          p[3 + row] = t;\n          p[4 + row] = t;\n          p[5 + row] = t;\n          p[6 + row] = t;\n          p[7 + row] = t;\n          continue;\n        }\n\n        // stage 4\n        v0 = (dctSqrt2 * p[0 + row] + 128) >> 8;\n        v1 = (dctSqrt2 * p[4 + row] + 128) >> 8;\n        v2 = p[2 + row];\n        v3 = p[6 + row];\n        v4 = (dctSqrt1d2 * (p[1 + row] - p[7 + row]) + 128) >> 8;\n        v7 = (dctSqrt1d2 * (p[1 + row] + p[7 + row]) + 128) >> 8;\n        v5 = p[3 + row] << 4;\n        v6 = p[5 + row] << 4;\n\n        // stage 3\n        t = (v0 - v1+ 1) >> 1;\n        v0 = (v0 + v1 + 1) >> 1;\n        v1 = t;\n        t = (v2 * dctSin6 + v3 * dctCos6 + 128) >> 8;\n        v2 = (v2 * dctCos6 - v3 * dctSin6 + 128) >> 8;\n        v3 = t;\n        t = (v4 - v6 + 1) >> 1;\n        v4 = (v4 + v6 + 1) >> 1;\n        v6 = t;\n        t = (v7 + v5 + 1) >> 1;\n        v5 = (v7 - v5 + 1) >> 1;\n        v7 = t;\n\n        // stage 2\n        t = (v0 - v3 + 1) >> 1;\n        v0 = (v0 + v3 + 1) >> 1;\n        v3 = t;\n        t = (v1 - v2 + 1) >> 1;\n        v1 = (v1 + v2 + 1) >> 1;\n        v2 = t;\n        t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n        v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n        v7 = t;\n        t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n        v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n        v6 = t;\n\n        // stage 1\n        p[0 + row] = v0 + v7;\n        p[7 + row] = v0 - v7;\n        p[1 + row] = v1 + v6;\n        p[6 + row] = v1 - v6;\n        p[2 + row] = v2 + v5;\n        p[5 + row] = v2 - v5;\n        p[3 + row] = v3 + v4;\n        p[4 + row] = v3 - v4;\n      }\n\n      // inverse DCT on columns\n      for (i = 0; i < 8; ++i) {\n        var col = i;\n\n        // check for all-zero AC coefficients\n        if (p[1*8 + col] == 0 && p[2*8 + col] == 0 && p[3*8 + col] == 0 &&\n            p[4*8 + col] == 0 && p[5*8 + col] == 0 && p[6*8 + col] == 0 &&\n            p[7*8 + col] == 0) {\n          t = (dctSqrt2 * dataIn[i+0] + 8192) >> 14;\n          p[0*8 + col] = t;\n          p[1*8 + col] = t;\n          p[2*8 + col] = t;\n          p[3*8 + col] = t;\n          p[4*8 + col] = t;\n          p[5*8 + col] = t;\n          p[6*8 + col] = t;\n          p[7*8 + col] = t;\n          continue;\n        }\n\n        // stage 4\n        v0 = (dctSqrt2 * p[0*8 + col] + 2048) >> 12;\n        v1 = (dctSqrt2 * p[4*8 + col] + 2048) >> 12;\n        v2 = p[2*8 + col];\n        v3 = p[6*8 + col];\n        v4 = (dctSqrt1d2 * (p[1*8 + col] - p[7*8 + col]) + 2048) >> 12;\n        v7 = (dctSqrt1d2 * (p[1*8 + col] + p[7*8 + col]) + 2048) >> 12;\n        v5 = p[3*8 + col];\n        v6 = p[5*8 + col];\n\n        // stage 3\n        t = (v0 - v1 + 1) >> 1;\n        v0 = (v0 + v1 + 1) >> 1;\n        v1 = t;\n        t = (v2 * dctSin6 + v3 * dctCos6 + 2048) >> 12;\n        v2 = (v2 * dctCos6 - v3 * dctSin6 + 2048) >> 12;\n        v3 = t;\n        t = (v4 - v6 + 1) >> 1;\n        v4 = (v4 + v6 + 1) >> 1;\n        v6 = t;\n        t = (v7 + v5 + 1) >> 1;\n        v5 = (v7 - v5 + 1) >> 1;\n        v7 = t;\n\n        // stage 2\n        t = (v0 - v3 + 1) >> 1;\n        v0 = (v0 + v3 + 1) >> 1;\n        v3 = t;\n        t = (v1 - v2 + 1) >> 1;\n        v1 = (v1 + v2 + 1) >> 1;\n        v2 = t;\n        t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n        v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n        v7 = t;\n        t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n        v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n        v6 = t;\n\n        // stage 1\n        p[0*8 + col] = v0 + v7;\n        p[7*8 + col] = v0 - v7;\n        p[1*8 + col] = v1 + v6;\n        p[6*8 + col] = v1 - v6;\n        p[2*8 + col] = v2 + v5;\n        p[5*8 + col] = v2 - v5;\n        p[3*8 + col] = v3 + v4;\n        p[4*8 + col] = v3 - v4;\n      }\n\n      // convert to 8-bit integers\n      for (i = 0; i < 64; ++i) {\n        var sample = 128 + ((p[i] + 8) >> 4);\n        dataOut[i] = sample < 0 ? 0 : sample > 0xFF ? 0xFF : sample;\n      }\n    }\n\n    var i, j;\n    for (var blockRow = 0; blockRow < blocksPerColumn; blockRow++) {\n      var scanLine = blockRow << 3;\n      for (i = 0; i < 8; i++)\n        lines.push(new Uint8Array(samplesPerLine));\n      for (var blockCol = 0; blockCol < blocksPerLine; blockCol++) {\n        quantizeAndInverse(component.blocks[blockRow][blockCol], r, R);\n\n        var offset = 0, sample = blockCol << 3;\n        for (j = 0; j < 8; j++) {\n          var line = lines[scanLine + j];\n          for (i = 0; i < 8; i++)\n            line[sample + i] = r[offset++];\n        }\n      }\n    }\n    return lines;\n  }\n\n  function clampTo8bit(a) {\n    return a < 0 ? 0 : a > 255 ? 255 : a;\n  }\n\n  constructor.prototype = {\n    load: function load(path) {\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", path, true);\n      xhr.responseType = \"arraybuffer\";\n      xhr.onload = (function() {\n        // TODO catch parse error\n        var data = new Uint8Array(xhr.response || xhr.mozResponseArrayBuffer);\n        this.parse(data);\n        if (this.onload)\n          this.onload();\n      }).bind(this);\n      xhr.send(null);\n    },\n    parse: function parse(data) {\n      var offset = 0, length = data.length;\n      function readUint16() {\n        var value = (data[offset] << 8) | data[offset + 1];\n        offset += 2;\n        return value;\n      }\n      function readDataBlock() {\n        var length = readUint16();\n        var array = data.subarray(offset, offset + length - 2);\n        offset += array.length;\n        return array;\n      }\n      function prepareComponents(frame) {\n        var maxH = 0, maxV = 0;\n        var component, componentId;\n        for (componentId in frame.components) {\n          if (frame.components.hasOwnProperty(componentId)) {\n            component = frame.components[componentId];\n            if (maxH < component.h) maxH = component.h;\n            if (maxV < component.v) maxV = component.v;\n          }\n        }\n        var mcusPerLine = Math.ceil(frame.samplesPerLine / 8 / maxH);\n        var mcusPerColumn = Math.ceil(frame.scanLines / 8 / maxV);\n        for (componentId in frame.components) {\n          if (frame.components.hasOwnProperty(componentId)) {\n            component = frame.components[componentId];\n            var blocksPerLine = Math.ceil(Math.ceil(frame.samplesPerLine / 8) * component.h / maxH);\n            var blocksPerColumn = Math.ceil(Math.ceil(frame.scanLines  / 8) * component.v / maxV);\n            var blocksPerLineForMcu = mcusPerLine * component.h;\n            var blocksPerColumnForMcu = mcusPerColumn * component.v;\n            var blocks = [];\n            for (var i = 0; i < blocksPerColumnForMcu; i++) {\n              var row = [];\n              for (var j = 0; j < blocksPerLineForMcu; j++)\n                row.push(new Int32Array(64));\n              blocks.push(row);\n            }\n            component.blocksPerLine = blocksPerLine;\n            component.blocksPerColumn = blocksPerColumn;\n            component.blocks = blocks;\n          }\n        }\n        frame.maxH = maxH;\n        frame.maxV = maxV;\n        frame.mcusPerLine = mcusPerLine;\n        frame.mcusPerColumn = mcusPerColumn;\n      }\n      var jfif = null;\n      var adobe = null;\n      var pixels = null;\n      var frame, resetInterval;\n      var quantizationTables = [], frames = [];\n      var huffmanTablesAC = [], huffmanTablesDC = [];\n      var fileMarker = readUint16();\n      if (fileMarker != 0xFFD8) { // SOI (Start of Image)\n        throw \"SOI not found\";\n      }\n\n      fileMarker = readUint16();\n      while (fileMarker != 0xFFD9) { // EOI (End of image)\n        var i, j, l;\n        switch(fileMarker) {\n          case 0xFF00: break;\n          case 0xFFE0: // APP0 (Application Specific)\n          case 0xFFE1: // APP1\n          case 0xFFE2: // APP2\n          case 0xFFE3: // APP3\n          case 0xFFE4: // APP4\n          case 0xFFE5: // APP5\n          case 0xFFE6: // APP6\n          case 0xFFE7: // APP7\n          case 0xFFE8: // APP8\n          case 0xFFE9: // APP9\n          case 0xFFEA: // APP10\n          case 0xFFEB: // APP11\n          case 0xFFEC: // APP12\n          case 0xFFED: // APP13\n          case 0xFFEE: // APP14\n          case 0xFFEF: // APP15\n          case 0xFFFE: // COM (Comment)\n            var appData = readDataBlock();\n\n            if (fileMarker === 0xFFE0) {\n              if (appData[0] === 0x4A && appData[1] === 0x46 && appData[2] === 0x49 &&\n                appData[3] === 0x46 && appData[4] === 0) { // 'JFIF\\x00'\n                jfif = {\n                  version: { major: appData[5], minor: appData[6] },\n                  densityUnits: appData[7],\n                  xDensity: (appData[8] << 8) | appData[9],\n                  yDensity: (appData[10] << 8) | appData[11],\n                  thumbWidth: appData[12],\n                  thumbHeight: appData[13],\n                  thumbData: appData.subarray(14, 14 + 3 * appData[12] * appData[13])\n                };\n              }\n            }\n            // TODO APP1 - Exif\n            if (fileMarker === 0xFFEE) {\n              if (appData[0] === 0x41 && appData[1] === 0x64 && appData[2] === 0x6F &&\n                appData[3] === 0x62 && appData[4] === 0x65 && appData[5] === 0) { // 'Adobe\\x00'\n                adobe = {\n                  version: appData[6],\n                  flags0: (appData[7] << 8) | appData[8],\n                  flags1: (appData[9] << 8) | appData[10],\n                  transformCode: appData[11]\n                };\n              }\n            }\n            break;\n\n          case 0xFFDB: // DQT (Define Quantization Tables)\n            var quantizationTablesLength = readUint16();\n            var quantizationTablesEnd = quantizationTablesLength + offset - 2;\n            while (offset < quantizationTablesEnd) {\n              var quantizationTableSpec = data[offset++];\n              var tableData = new Int32Array(64);\n              if ((quantizationTableSpec >> 4) === 0) { // 8 bit values\n                for (j = 0; j < 64; j++) {\n                  var z = dctZigZag[j];\n                  tableData[z] = data[offset++];\n                }\n              } else if ((quantizationTableSpec >> 4) === 1) { //16 bit\n                for (j = 0; j < 64; j++) {\n                  var z = dctZigZag[j];\n                  tableData[z] = readUint16();\n                }\n              } else\n                throw \"DQT: invalid table spec\";\n              quantizationTables[quantizationTableSpec & 15] = tableData;\n            }\n            break;\n\n          case 0xFFC0: // SOF0 (Start of Frame, Baseline DCT)\n          case 0xFFC1: // SOF1 (Start of Frame, Extended DCT)\n          case 0xFFC2: // SOF2 (Start of Frame, Progressive DCT)\n            readUint16(); // skip data length\n            frame = {};\n            frame.extended = (fileMarker === 0xFFC1);\n            frame.progressive = (fileMarker === 0xFFC2);\n            frame.precision = data[offset++];\n            frame.scanLines = readUint16();\n            frame.samplesPerLine = readUint16();\n            frame.components = {};\n            frame.componentsOrder = [];\n            var componentsCount = data[offset++], componentId;\n            var maxH = 0, maxV = 0;\n            for (i = 0; i < componentsCount; i++) {\n              componentId = data[offset];\n              var h = data[offset + 1] >> 4;\n              var v = data[offset + 1] & 15;\n              var qId = data[offset + 2];\n              frame.componentsOrder.push(componentId);\n              frame.components[componentId] = {\n                h: h,\n                v: v,\n                quantizationIdx: qId\n              };\n              offset += 3;\n            }\n            prepareComponents(frame);\n            frames.push(frame);\n            break;\n\n          case 0xFFC4: // DHT (Define Huffman Tables)\n            var huffmanLength = readUint16();\n            for (i = 2; i < huffmanLength;) {\n              var huffmanTableSpec = data[offset++];\n              var codeLengths = new Uint8Array(16);\n              var codeLengthSum = 0;\n              for (j = 0; j < 16; j++, offset++)\n                codeLengthSum += (codeLengths[j] = data[offset]);\n              var huffmanValues = new Uint8Array(codeLengthSum);\n              for (j = 0; j < codeLengthSum; j++, offset++)\n                huffmanValues[j] = data[offset];\n              i += 17 + codeLengthSum;\n\n              ((huffmanTableSpec >> 4) === 0 ? \n                huffmanTablesDC : huffmanTablesAC)[huffmanTableSpec & 15] =\n                buildHuffmanTable(codeLengths, huffmanValues);\n            }\n            break;\n\n          case 0xFFDD: // DRI (Define Restart Interval)\n            readUint16(); // skip data length\n            resetInterval = readUint16();\n            break;\n\n          case 0xFFDA: // SOS (Start of Scan)\n            var scanLength = readUint16();\n            var selectorsCount = data[offset++];\n            var components = [], component;\n            for (i = 0; i < selectorsCount; i++) {\n              component = frame.components[data[offset++]];\n              var tableSpec = data[offset++];\n              component.huffmanTableDC = huffmanTablesDC[tableSpec >> 4];\n              component.huffmanTableAC = huffmanTablesAC[tableSpec & 15];\n              components.push(component);\n            }\n            var spectralStart = data[offset++];\n            var spectralEnd = data[offset++];\n            var successiveApproximation = data[offset++];\n            var processed = decodeScan(data, offset,\n              frame, components, resetInterval,\n              spectralStart, spectralEnd,\n              successiveApproximation >> 4, successiveApproximation & 15);\n            offset += processed;\n            break;\n          default:\n            if (data[offset - 3] == 0xFF &&\n                data[offset - 2] >= 0xC0 && data[offset - 2] <= 0xFE) {\n              // could be incorrect encoding -- last 0xFF byte of the previous\n              // block was eaten by the encoder\n              offset -= 3;\n              break;\n            }\n            throw \"unknown JPEG marker \" + fileMarker.toString(16);\n        }\n        fileMarker = readUint16();\n      }\n      if (frames.length != 1)\n        throw \"only single frame JPEGs supported\";\n\n      // set each frame's components quantization table\n      for (var i = 0; i < frames.length; i++) {\n        var cp = frames[i].components;\n        for (var j in cp) {\n          cp[j].quantizationTable = quantizationTables[cp[j].quantizationIdx];\n          delete cp[j].quantizationIdx;\n        }\n      }\n\n      this.width = frame.samplesPerLine;\n      this.height = frame.scanLines;\n      this.jfif = jfif;\n      this.adobe = adobe;\n      this.components = [];\n      for (var i = 0; i < frame.componentsOrder.length; i++) {\n        var component = frame.components[frame.componentsOrder[i]];\n        this.components.push({\n          lines: buildComponentData(frame, component),\n          scaleX: component.h / frame.maxH,\n          scaleY: component.v / frame.maxV\n        });\n      }\n    },\n    getData: function getData(width, height) {\n      var scaleX = this.width / width, scaleY = this.height / height;\n\n      var component1, component2, component3, component4;\n      var component1Line, component2Line, component3Line, component4Line;\n      var x, y;\n      var offset = 0;\n      var Y, Cb, Cr, K, C, M, Ye, R, G, B;\n      var colorTransform;\n      var dataLength = width * height * this.components.length;\n      var data = new Uint8Array(dataLength);\n      switch (this.components.length) {\n        case 1:\n          component1 = this.components[0];\n          for (y = 0; y < height; y++) {\n            component1Line = component1.lines[0 | (y * component1.scaleY * scaleY)];\n            for (x = 0; x < width; x++) {\n              Y = component1Line[0 | (x * component1.scaleX * scaleX)];\n\n              data[offset++] = Y;\n            }\n          }\n          break;\n        case 2:\n          // PDF might compress two component data in custom colorspace\n          component1 = this.components[0];\n          component2 = this.components[1];\n          for (y = 0; y < height; y++) {\n            component1Line = component1.lines[0 | (y * component1.scaleY * scaleY)];\n            component2Line = component2.lines[0 | (y * component2.scaleY * scaleY)];\n            for (x = 0; x < width; x++) {\n              Y = component1Line[0 | (x * component1.scaleX * scaleX)];\n              data[offset++] = Y;\n              Y = component2Line[0 | (x * component2.scaleX * scaleX)];\n              data[offset++] = Y;\n            }\n          }\n          break;\n        case 3:\n          // The default transform for three components is true\n          colorTransform = true;\n          // The adobe transform marker overrides any previous setting\n          if (this.adobe && this.adobe.transformCode)\n            colorTransform = true;\n          else if (typeof this.colorTransform !== 'undefined')\n            colorTransform = !!this.colorTransform;\n\n          component1 = this.components[0];\n          component2 = this.components[1];\n          component3 = this.components[2];\n          for (y = 0; y < height; y++) {\n            component1Line = component1.lines[0 | (y * component1.scaleY * scaleY)];\n            component2Line = component2.lines[0 | (y * component2.scaleY * scaleY)];\n            component3Line = component3.lines[0 | (y * component3.scaleY * scaleY)];\n            for (x = 0; x < width; x++) {\n              if (!colorTransform) {\n                R = component1Line[0 | (x * component1.scaleX * scaleX)];\n                G = component2Line[0 | (x * component2.scaleX * scaleX)];\n                B = component3Line[0 | (x * component3.scaleX * scaleX)];\n              } else {\n                Y = component1Line[0 | (x * component1.scaleX * scaleX)];\n                Cb = component2Line[0 | (x * component2.scaleX * scaleX)];\n                Cr = component3Line[0 | (x * component3.scaleX * scaleX)];\n\n                R = clampTo8bit(Y + 1.402 * (Cr - 128));\n                G = clampTo8bit(Y - 0.3441363 * (Cb - 128) - 0.71413636 * (Cr - 128));\n                B = clampTo8bit(Y + 1.772 * (Cb - 128));\n              }\n\n              data[offset++] = R;\n              data[offset++] = G;\n              data[offset++] = B;\n            }\n          }\n          break;\n        case 4:\n          if (!this.adobe)\n            throw 'Unsupported color mode (4 components)';\n          // The default transform for four components is false\n          colorTransform = false;\n          // The adobe transform marker overrides any previous setting\n          if (this.adobe && this.adobe.transformCode)\n            colorTransform = true;\n          else if (typeof this.colorTransform !== 'undefined')\n            colorTransform = !!this.colorTransform;\n\n          component1 = this.components[0];\n          component2 = this.components[1];\n          component3 = this.components[2];\n          component4 = this.components[3];\n          for (y = 0; y < height; y++) {\n            component1Line = component1.lines[0 | (y * component1.scaleY * scaleY)];\n            component2Line = component2.lines[0 | (y * component2.scaleY * scaleY)];\n            component3Line = component3.lines[0 | (y * component3.scaleY * scaleY)];\n            component4Line = component4.lines[0 | (y * component4.scaleY * scaleY)];\n            for (x = 0; x < width; x++) {\n              if (!colorTransform) {\n                C = component1Line[0 | (x * component1.scaleX * scaleX)];\n                M = component2Line[0 | (x * component2.scaleX * scaleX)];\n                Ye = component3Line[0 | (x * component3.scaleX * scaleX)];\n                K = component4Line[0 | (x * component4.scaleX * scaleX)];\n              } else {\n                Y = component1Line[0 | (x * component1.scaleX * scaleX)];\n                Cb = component2Line[0 | (x * component2.scaleX * scaleX)];\n                Cr = component3Line[0 | (x * component3.scaleX * scaleX)];\n                K = component4Line[0 | (x * component4.scaleX * scaleX)];\n\n                C = 255 - clampTo8bit(Y + 1.402 * (Cr - 128));\n                M = 255 - clampTo8bit(Y - 0.3441363 * (Cb - 128) - 0.71413636 * (Cr - 128));\n                Ye = 255 - clampTo8bit(Y + 1.772 * (Cb - 128));\n              }\n              data[offset++] = 255-C;\n              data[offset++] = 255-M;\n              data[offset++] = 255-Ye;\n              data[offset++] = 255-K;\n            }\n          }\n          break;\n        default:\n          throw 'Unsupported color mode';\n      }\n      return data;\n    },\n    copyToImageData: function copyToImageData(imageData) {\n      var width = imageData.width, height = imageData.height;\n      var imageDataArray = imageData.data;\n      var data = this.getData(width, height);\n      var i = 0, j = 0, x, y;\n      var Y, K, C, M, R, G, B;\n      switch (this.components.length) {\n        case 1:\n          for (y = 0; y < height; y++) {\n            for (x = 0; x < width; x++) {\n              Y = data[i++];\n\n              imageDataArray[j++] = Y;\n              imageDataArray[j++] = Y;\n              imageDataArray[j++] = Y;\n              imageDataArray[j++] = 255;\n            }\n          }\n          break;\n        case 3:\n          for (y = 0; y < height; y++) {\n            for (x = 0; x < width; x++) {\n              R = data[i++];\n              G = data[i++];\n              B = data[i++];\n\n              imageDataArray[j++] = R;\n              imageDataArray[j++] = G;\n              imageDataArray[j++] = B;\n              imageDataArray[j++] = 255;\n            }\n          }\n          break;\n        case 4:\n          for (y = 0; y < height; y++) {\n            for (x = 0; x < width; x++) {\n              C = data[i++];\n              M = data[i++];\n              Y = data[i++];\n              K = data[i++];\n\n              R = 255 - clampTo8bit(C * (1 - K / 255) + K);\n              G = 255 - clampTo8bit(M * (1 - K / 255) + K);\n              B = 255 - clampTo8bit(Y * (1 - K / 255) + K);\n\n              imageDataArray[j++] = R;\n              imageDataArray[j++] = G;\n              imageDataArray[j++] = B;\n              imageDataArray[j++] = 255;\n            }\n          }\n          break;\n        default:\n          throw 'Unsupported color mode';\n      }\n    }\n  };\n\n  return constructor;\n})();\nmodule.exports = decode;\n\nfunction decode(jpegData) {\n  var arr = new Uint8Array(jpegData);\n  var decoder = new JpegImage();\n  decoder.parse(arr);\n\n  var image = {\n    width: decoder.width,\n    height: decoder.height,\n    data: new Buffer(decoder.width * decoder.height * 4)\n  };\n  \n  decoder.copyToImageData(image);\n  \n  return image;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jpeg-js/lib/decoder.js\n// module id = 72\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/jpeg-js/lib/decoder.js","/*\n  Copyright (c) 2008, Adobe Systems Incorporated\n  All rights reserved.\n\n  Redistribution and use in source and binary forms, with or without \n  modification, are permitted provided that the following conditions are\n  met:\n\n  * Redistributions of source code must retain the above copyright notice, \n    this list of conditions and the following disclaimer.\n  \n  * Redistributions in binary form must reproduce the above copyright\n    notice, this list of conditions and the following disclaimer in the \n    documentation and/or other materials provided with the distribution.\n  \n  * Neither the name of Adobe Systems Incorporated nor the names of its \n    contributors may be used to endorse or promote products derived from \n    this software without specific prior written permission.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n  IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,\n  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR \n  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n/*\nJPEG encoder ported to JavaScript and optimized by Andreas Ritter, www.bytestrom.eu, 11/2009\n\nBasic GUI blocking jpeg encoder\n*/\n\nvar btoa = btoa || function(buf) {\n  return new Buffer(buf).toString('base64');\n};\n\nfunction JPEGEncoder(quality) {\n  var self = this;\n\tvar fround = Math.round;\n\tvar ffloor = Math.floor;\n\tvar YTable = new Array(64);\n\tvar UVTable = new Array(64);\n\tvar fdtbl_Y = new Array(64);\n\tvar fdtbl_UV = new Array(64);\n\tvar YDC_HT;\n\tvar UVDC_HT;\n\tvar YAC_HT;\n\tvar UVAC_HT;\n\t\n\tvar bitcode = new Array(65535);\n\tvar category = new Array(65535);\n\tvar outputfDCTQuant = new Array(64);\n\tvar DU = new Array(64);\n\tvar byteout = [];\n\tvar bytenew = 0;\n\tvar bytepos = 7;\n\t\n\tvar YDU = new Array(64);\n\tvar UDU = new Array(64);\n\tvar VDU = new Array(64);\n\tvar clt = new Array(256);\n\tvar RGB_YUV_TABLE = new Array(2048);\n\tvar currentQuality;\n\t\n\tvar ZigZag = [\n\t\t\t 0, 1, 5, 6,14,15,27,28,\n\t\t\t 2, 4, 7,13,16,26,29,42,\n\t\t\t 3, 8,12,17,25,30,41,43,\n\t\t\t 9,11,18,24,31,40,44,53,\n\t\t\t10,19,23,32,39,45,52,54,\n\t\t\t20,22,33,38,46,51,55,60,\n\t\t\t21,34,37,47,50,56,59,61,\n\t\t\t35,36,48,49,57,58,62,63\n\t\t];\n\t\n\tvar std_dc_luminance_nrcodes = [0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];\n\tvar std_dc_luminance_values = [0,1,2,3,4,5,6,7,8,9,10,11];\n\tvar std_ac_luminance_nrcodes = [0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,0x7d];\n\tvar std_ac_luminance_values = [\n\t\t\t0x01,0x02,0x03,0x00,0x04,0x11,0x05,0x12,\n\t\t\t0x21,0x31,0x41,0x06,0x13,0x51,0x61,0x07,\n\t\t\t0x22,0x71,0x14,0x32,0x81,0x91,0xa1,0x08,\n\t\t\t0x23,0x42,0xb1,0xc1,0x15,0x52,0xd1,0xf0,\n\t\t\t0x24,0x33,0x62,0x72,0x82,0x09,0x0a,0x16,\n\t\t\t0x17,0x18,0x19,0x1a,0x25,0x26,0x27,0x28,\n\t\t\t0x29,0x2a,0x34,0x35,0x36,0x37,0x38,0x39,\n\t\t\t0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,\n\t\t\t0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,\n\t\t\t0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,\n\t\t\t0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,\n\t\t\t0x7a,0x83,0x84,0x85,0x86,0x87,0x88,0x89,\n\t\t\t0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,\n\t\t\t0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,\n\t\t\t0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,\n\t\t\t0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,\n\t\t\t0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,\n\t\t\t0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe1,0xe2,\n\t\t\t0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,\n\t\t\t0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,\n\t\t\t0xf9,0xfa\n\t\t];\n\t\n\tvar std_dc_chrominance_nrcodes = [0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];\n\tvar std_dc_chrominance_values = [0,1,2,3,4,5,6,7,8,9,10,11];\n\tvar std_ac_chrominance_nrcodes = [0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,0x77];\n\tvar std_ac_chrominance_values = [\n\t\t\t0x00,0x01,0x02,0x03,0x11,0x04,0x05,0x21,\n\t\t\t0x31,0x06,0x12,0x41,0x51,0x07,0x61,0x71,\n\t\t\t0x13,0x22,0x32,0x81,0x08,0x14,0x42,0x91,\n\t\t\t0xa1,0xb1,0xc1,0x09,0x23,0x33,0x52,0xf0,\n\t\t\t0x15,0x62,0x72,0xd1,0x0a,0x16,0x24,0x34,\n\t\t\t0xe1,0x25,0xf1,0x17,0x18,0x19,0x1a,0x26,\n\t\t\t0x27,0x28,0x29,0x2a,0x35,0x36,0x37,0x38,\n\t\t\t0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,\n\t\t\t0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,\n\t\t\t0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,\n\t\t\t0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,\n\t\t\t0x79,0x7a,0x82,0x83,0x84,0x85,0x86,0x87,\n\t\t\t0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,\n\t\t\t0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,\n\t\t\t0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,\n\t\t\t0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,\n\t\t\t0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,\n\t\t\t0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,\n\t\t\t0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,\n\t\t\t0xea,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,\n\t\t\t0xf9,0xfa\n\t\t];\n\t\n\tfunction initQuantTables(sf){\n\t\t\tvar YQT = [\n\t\t\t\t16, 11, 10, 16, 24, 40, 51, 61,\n\t\t\t\t12, 12, 14, 19, 26, 58, 60, 55,\n\t\t\t\t14, 13, 16, 24, 40, 57, 69, 56,\n\t\t\t\t14, 17, 22, 29, 51, 87, 80, 62,\n\t\t\t\t18, 22, 37, 56, 68,109,103, 77,\n\t\t\t\t24, 35, 55, 64, 81,104,113, 92,\n\t\t\t\t49, 64, 78, 87,103,121,120,101,\n\t\t\t\t72, 92, 95, 98,112,100,103, 99\n\t\t\t];\n\t\t\t\n\t\t\tfor (var i = 0; i < 64; i++) {\n\t\t\t\tvar t = ffloor((YQT[i]*sf+50)/100);\n\t\t\t\tif (t < 1) {\n\t\t\t\t\tt = 1;\n\t\t\t\t} else if (t > 255) {\n\t\t\t\t\tt = 255;\n\t\t\t\t}\n\t\t\t\tYTable[ZigZag[i]] = t;\n\t\t\t}\n\t\t\tvar UVQT = [\n\t\t\t\t17, 18, 24, 47, 99, 99, 99, 99,\n\t\t\t\t18, 21, 26, 66, 99, 99, 99, 99,\n\t\t\t\t24, 26, 56, 99, 99, 99, 99, 99,\n\t\t\t\t47, 66, 99, 99, 99, 99, 99, 99,\n\t\t\t\t99, 99, 99, 99, 99, 99, 99, 99,\n\t\t\t\t99, 99, 99, 99, 99, 99, 99, 99,\n\t\t\t\t99, 99, 99, 99, 99, 99, 99, 99,\n\t\t\t\t99, 99, 99, 99, 99, 99, 99, 99\n\t\t\t];\n\t\t\tfor (var j = 0; j < 64; j++) {\n\t\t\t\tvar u = ffloor((UVQT[j]*sf+50)/100);\n\t\t\t\tif (u < 1) {\n\t\t\t\t\tu = 1;\n\t\t\t\t} else if (u > 255) {\n\t\t\t\t\tu = 255;\n\t\t\t\t}\n\t\t\t\tUVTable[ZigZag[j]] = u;\n\t\t\t}\n\t\t\tvar aasf = [\n\t\t\t\t1.0, 1.387039845, 1.306562965, 1.175875602,\n\t\t\t\t1.0, 0.785694958, 0.541196100, 0.275899379\n\t\t\t];\n\t\t\tvar k = 0;\n\t\t\tfor (var row = 0; row < 8; row++)\n\t\t\t{\n\t\t\t\tfor (var col = 0; col < 8; col++)\n\t\t\t\t{\n\t\t\t\t\tfdtbl_Y[k]  = (1.0 / (YTable [ZigZag[k]] * aasf[row] * aasf[col] * 8.0));\n\t\t\t\t\tfdtbl_UV[k] = (1.0 / (UVTable[ZigZag[k]] * aasf[row] * aasf[col] * 8.0));\n\t\t\t\t\tk++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction computeHuffmanTbl(nrcodes, std_table){\n\t\t\tvar codevalue = 0;\n\t\t\tvar pos_in_table = 0;\n\t\t\tvar HT = new Array();\n\t\t\tfor (var k = 1; k <= 16; k++) {\n\t\t\t\tfor (var j = 1; j <= nrcodes[k]; j++) {\n\t\t\t\t\tHT[std_table[pos_in_table]] = [];\n\t\t\t\t\tHT[std_table[pos_in_table]][0] = codevalue;\n\t\t\t\t\tHT[std_table[pos_in_table]][1] = k;\n\t\t\t\t\tpos_in_table++;\n\t\t\t\t\tcodevalue++;\n\t\t\t\t}\n\t\t\t\tcodevalue*=2;\n\t\t\t}\n\t\t\treturn HT;\n\t\t}\n\t\t\n\t\tfunction initHuffmanTbl()\n\t\t{\n\t\t\tYDC_HT = computeHuffmanTbl(std_dc_luminance_nrcodes,std_dc_luminance_values);\n\t\t\tUVDC_HT = computeHuffmanTbl(std_dc_chrominance_nrcodes,std_dc_chrominance_values);\n\t\t\tYAC_HT = computeHuffmanTbl(std_ac_luminance_nrcodes,std_ac_luminance_values);\n\t\t\tUVAC_HT = computeHuffmanTbl(std_ac_chrominance_nrcodes,std_ac_chrominance_values);\n\t\t}\n\t\n\t\tfunction initCategoryNumber()\n\t\t{\n\t\t\tvar nrlower = 1;\n\t\t\tvar nrupper = 2;\n\t\t\tfor (var cat = 1; cat <= 15; cat++) {\n\t\t\t\t//Positive numbers\n\t\t\t\tfor (var nr = nrlower; nr<nrupper; nr++) {\n\t\t\t\t\tcategory[32767+nr] = cat;\n\t\t\t\t\tbitcode[32767+nr] = [];\n\t\t\t\t\tbitcode[32767+nr][1] = cat;\n\t\t\t\t\tbitcode[32767+nr][0] = nr;\n\t\t\t\t}\n\t\t\t\t//Negative numbers\n\t\t\t\tfor (var nrneg =-(nrupper-1); nrneg<=-nrlower; nrneg++) {\n\t\t\t\t\tcategory[32767+nrneg] = cat;\n\t\t\t\t\tbitcode[32767+nrneg] = [];\n\t\t\t\t\tbitcode[32767+nrneg][1] = cat;\n\t\t\t\t\tbitcode[32767+nrneg][0] = nrupper-1+nrneg;\n\t\t\t\t}\n\t\t\t\tnrlower <<= 1;\n\t\t\t\tnrupper <<= 1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction initRGBYUVTable() {\n\t\t\tfor(var i = 0; i < 256;i++) {\n\t\t\t\tRGB_YUV_TABLE[i]      \t\t=  19595 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+ 256)>>0] \t=  38470 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+ 512)>>0] \t=   7471 * i + 0x8000;\n\t\t\t\tRGB_YUV_TABLE[(i+ 768)>>0] \t= -11059 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+1024)>>0] \t= -21709 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+1280)>>0] \t=  32768 * i + 0x807FFF;\n\t\t\t\tRGB_YUV_TABLE[(i+1536)>>0] \t= -27439 * i;\n\t\t\t\tRGB_YUV_TABLE[(i+1792)>>0] \t= - 5329 * i;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// IO functions\n\t\tfunction writeBits(bs)\n\t\t{\n\t\t\tvar value = bs[0];\n\t\t\tvar posval = bs[1]-1;\n\t\t\twhile ( posval >= 0 ) {\n\t\t\t\tif (value & (1 << posval) ) {\n\t\t\t\t\tbytenew |= (1 << bytepos);\n\t\t\t\t}\n\t\t\t\tposval--;\n\t\t\t\tbytepos--;\n\t\t\t\tif (bytepos < 0) {\n\t\t\t\t\tif (bytenew == 0xFF) {\n\t\t\t\t\t\twriteByte(0xFF);\n\t\t\t\t\t\twriteByte(0);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\twriteByte(bytenew);\n\t\t\t\t\t}\n\t\t\t\t\tbytepos=7;\n\t\t\t\t\tbytenew=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction writeByte(value)\n\t\t{\n\t\t\t//byteout.push(clt[value]); // write char directly instead of converting later\n      byteout.push(value);\n\t\t}\n\t\n\t\tfunction writeWord(value)\n\t\t{\n\t\t\twriteByte((value>>8)&0xFF);\n\t\t\twriteByte((value   )&0xFF);\n\t\t}\n\t\t\n\t\t// DCT & quantization core\n\t\tfunction fDCTQuant(data, fdtbl)\n\t\t{\n\t\t\tvar d0, d1, d2, d3, d4, d5, d6, d7;\n\t\t\t/* Pass 1: process rows. */\n\t\t\tvar dataOff=0;\n\t\t\tvar i;\n\t\t\tconst I8 = 8;\n\t\t\tconst I64 = 64;\n\t\t\tfor (i=0; i<I8; ++i)\n\t\t\t{\n\t\t\t\td0 = data[dataOff];\n\t\t\t\td1 = data[dataOff+1];\n\t\t\t\td2 = data[dataOff+2];\n\t\t\t\td3 = data[dataOff+3];\n\t\t\t\td4 = data[dataOff+4];\n\t\t\t\td5 = data[dataOff+5];\n\t\t\t\td6 = data[dataOff+6];\n\t\t\t\td7 = data[dataOff+7];\n\t\t\t\t\n\t\t\t\tvar tmp0 = d0 + d7;\n\t\t\t\tvar tmp7 = d0 - d7;\n\t\t\t\tvar tmp1 = d1 + d6;\n\t\t\t\tvar tmp6 = d1 - d6;\n\t\t\t\tvar tmp2 = d2 + d5;\n\t\t\t\tvar tmp5 = d2 - d5;\n\t\t\t\tvar tmp3 = d3 + d4;\n\t\t\t\tvar tmp4 = d3 - d4;\n\t\n\t\t\t\t/* Even part */\n\t\t\t\tvar tmp10 = tmp0 + tmp3;\t/* phase 2 */\n\t\t\t\tvar tmp13 = tmp0 - tmp3;\n\t\t\t\tvar tmp11 = tmp1 + tmp2;\n\t\t\t\tvar tmp12 = tmp1 - tmp2;\n\t\n\t\t\t\tdata[dataOff] = tmp10 + tmp11; /* phase 3 */\n\t\t\t\tdata[dataOff+4] = tmp10 - tmp11;\n\t\n\t\t\t\tvar z1 = (tmp12 + tmp13) * 0.707106781; /* c4 */\n\t\t\t\tdata[dataOff+2] = tmp13 + z1; /* phase 5 */\n\t\t\t\tdata[dataOff+6] = tmp13 - z1;\n\t\n\t\t\t\t/* Odd part */\n\t\t\t\ttmp10 = tmp4 + tmp5; /* phase 2 */\n\t\t\t\ttmp11 = tmp5 + tmp6;\n\t\t\t\ttmp12 = tmp6 + tmp7;\n\t\n\t\t\t\t/* The rotator is modified from fig 4-8 to avoid extra negations. */\n\t\t\t\tvar z5 = (tmp10 - tmp12) * 0.382683433; /* c6 */\n\t\t\t\tvar z2 = 0.541196100 * tmp10 + z5; /* c2-c6 */\n\t\t\t\tvar z4 = 1.306562965 * tmp12 + z5; /* c2+c6 */\n\t\t\t\tvar z3 = tmp11 * 0.707106781; /* c4 */\n\t\n\t\t\t\tvar z11 = tmp7 + z3;\t/* phase 5 */\n\t\t\t\tvar z13 = tmp7 - z3;\n\t\n\t\t\t\tdata[dataOff+5] = z13 + z2;\t/* phase 6 */\n\t\t\t\tdata[dataOff+3] = z13 - z2;\n\t\t\t\tdata[dataOff+1] = z11 + z4;\n\t\t\t\tdata[dataOff+7] = z11 - z4;\n\t\n\t\t\t\tdataOff += 8; /* advance pointer to next row */\n\t\t\t}\n\t\n\t\t\t/* Pass 2: process columns. */\n\t\t\tdataOff = 0;\n\t\t\tfor (i=0; i<I8; ++i)\n\t\t\t{\n\t\t\t\td0 = data[dataOff];\n\t\t\t\td1 = data[dataOff + 8];\n\t\t\t\td2 = data[dataOff + 16];\n\t\t\t\td3 = data[dataOff + 24];\n\t\t\t\td4 = data[dataOff + 32];\n\t\t\t\td5 = data[dataOff + 40];\n\t\t\t\td6 = data[dataOff + 48];\n\t\t\t\td7 = data[dataOff + 56];\n\t\t\t\t\n\t\t\t\tvar tmp0p2 = d0 + d7;\n\t\t\t\tvar tmp7p2 = d0 - d7;\n\t\t\t\tvar tmp1p2 = d1 + d6;\n\t\t\t\tvar tmp6p2 = d1 - d6;\n\t\t\t\tvar tmp2p2 = d2 + d5;\n\t\t\t\tvar tmp5p2 = d2 - d5;\n\t\t\t\tvar tmp3p2 = d3 + d4;\n\t\t\t\tvar tmp4p2 = d3 - d4;\n\t\n\t\t\t\t/* Even part */\n\t\t\t\tvar tmp10p2 = tmp0p2 + tmp3p2;\t/* phase 2 */\n\t\t\t\tvar tmp13p2 = tmp0p2 - tmp3p2;\n\t\t\t\tvar tmp11p2 = tmp1p2 + tmp2p2;\n\t\t\t\tvar tmp12p2 = tmp1p2 - tmp2p2;\n\t\n\t\t\t\tdata[dataOff] = tmp10p2 + tmp11p2; /* phase 3 */\n\t\t\t\tdata[dataOff+32] = tmp10p2 - tmp11p2;\n\t\n\t\t\t\tvar z1p2 = (tmp12p2 + tmp13p2) * 0.707106781; /* c4 */\n\t\t\t\tdata[dataOff+16] = tmp13p2 + z1p2; /* phase 5 */\n\t\t\t\tdata[dataOff+48] = tmp13p2 - z1p2;\n\t\n\t\t\t\t/* Odd part */\n\t\t\t\ttmp10p2 = tmp4p2 + tmp5p2; /* phase 2 */\n\t\t\t\ttmp11p2 = tmp5p2 + tmp6p2;\n\t\t\t\ttmp12p2 = tmp6p2 + tmp7p2;\n\t\n\t\t\t\t/* The rotator is modified from fig 4-8 to avoid extra negations. */\n\t\t\t\tvar z5p2 = (tmp10p2 - tmp12p2) * 0.382683433; /* c6 */\n\t\t\t\tvar z2p2 = 0.541196100 * tmp10p2 + z5p2; /* c2-c6 */\n\t\t\t\tvar z4p2 = 1.306562965 * tmp12p2 + z5p2; /* c2+c6 */\n\t\t\t\tvar z3p2 = tmp11p2 * 0.707106781; /* c4 */\n\t\n\t\t\t\tvar z11p2 = tmp7p2 + z3p2;\t/* phase 5 */\n\t\t\t\tvar z13p2 = tmp7p2 - z3p2;\n\t\n\t\t\t\tdata[dataOff+40] = z13p2 + z2p2; /* phase 6 */\n\t\t\t\tdata[dataOff+24] = z13p2 - z2p2;\n\t\t\t\tdata[dataOff+ 8] = z11p2 + z4p2;\n\t\t\t\tdata[dataOff+56] = z11p2 - z4p2;\n\t\n\t\t\t\tdataOff++; /* advance pointer to next column */\n\t\t\t}\n\t\n\t\t\t// Quantize/descale the coefficients\n\t\t\tvar fDCTQuant;\n\t\t\tfor (i=0; i<I64; ++i)\n\t\t\t{\n\t\t\t\t// Apply the quantization and scaling factor & Round to nearest integer\n\t\t\t\tfDCTQuant = data[i]*fdtbl[i];\n\t\t\t\toutputfDCTQuant[i] = (fDCTQuant > 0.0) ? ((fDCTQuant + 0.5)|0) : ((fDCTQuant - 0.5)|0);\n\t\t\t\t//outputfDCTQuant[i] = fround(fDCTQuant);\n\n\t\t\t}\n\t\t\treturn outputfDCTQuant;\n\t\t}\n\t\t\n\t\tfunction writeAPP0()\n\t\t{\n\t\t\twriteWord(0xFFE0); // marker\n\t\t\twriteWord(16); // length\n\t\t\twriteByte(0x4A); // J\n\t\t\twriteByte(0x46); // F\n\t\t\twriteByte(0x49); // I\n\t\t\twriteByte(0x46); // F\n\t\t\twriteByte(0); // = \"JFIF\",'\\0'\n\t\t\twriteByte(1); // versionhi\n\t\t\twriteByte(1); // versionlo\n\t\t\twriteByte(0); // xyunits\n\t\t\twriteWord(1); // xdensity\n\t\t\twriteWord(1); // ydensity\n\t\t\twriteByte(0); // thumbnwidth\n\t\t\twriteByte(0); // thumbnheight\n\t\t}\n\t\n\t\tfunction writeSOF0(width, height)\n\t\t{\n\t\t\twriteWord(0xFFC0); // marker\n\t\t\twriteWord(17);   // length, truecolor YUV JPG\n\t\t\twriteByte(8);    // precision\n\t\t\twriteWord(height);\n\t\t\twriteWord(width);\n\t\t\twriteByte(3);    // nrofcomponents\n\t\t\twriteByte(1);    // IdY\n\t\t\twriteByte(0x11); // HVY\n\t\t\twriteByte(0);    // QTY\n\t\t\twriteByte(2);    // IdU\n\t\t\twriteByte(0x11); // HVU\n\t\t\twriteByte(1);    // QTU\n\t\t\twriteByte(3);    // IdV\n\t\t\twriteByte(0x11); // HVV\n\t\t\twriteByte(1);    // QTV\n\t\t}\n\t\n\t\tfunction writeDQT()\n\t\t{\n\t\t\twriteWord(0xFFDB); // marker\n\t\t\twriteWord(132);\t   // length\n\t\t\twriteByte(0);\n\t\t\tfor (var i=0; i<64; i++) {\n\t\t\t\twriteByte(YTable[i]);\n\t\t\t}\n\t\t\twriteByte(1);\n\t\t\tfor (var j=0; j<64; j++) {\n\t\t\t\twriteByte(UVTable[j]);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction writeDHT()\n\t\t{\n\t\t\twriteWord(0xFFC4); // marker\n\t\t\twriteWord(0x01A2); // length\n\t\n\t\t\twriteByte(0); // HTYDCinfo\n\t\t\tfor (var i=0; i<16; i++) {\n\t\t\t\twriteByte(std_dc_luminance_nrcodes[i+1]);\n\t\t\t}\n\t\t\tfor (var j=0; j<=11; j++) {\n\t\t\t\twriteByte(std_dc_luminance_values[j]);\n\t\t\t}\n\t\n\t\t\twriteByte(0x10); // HTYACinfo\n\t\t\tfor (var k=0; k<16; k++) {\n\t\t\t\twriteByte(std_ac_luminance_nrcodes[k+1]);\n\t\t\t}\n\t\t\tfor (var l=0; l<=161; l++) {\n\t\t\t\twriteByte(std_ac_luminance_values[l]);\n\t\t\t}\n\t\n\t\t\twriteByte(1); // HTUDCinfo\n\t\t\tfor (var m=0; m<16; m++) {\n\t\t\t\twriteByte(std_dc_chrominance_nrcodes[m+1]);\n\t\t\t}\n\t\t\tfor (var n=0; n<=11; n++) {\n\t\t\t\twriteByte(std_dc_chrominance_values[n]);\n\t\t\t}\n\t\n\t\t\twriteByte(0x11); // HTUACinfo\n\t\t\tfor (var o=0; o<16; o++) {\n\t\t\t\twriteByte(std_ac_chrominance_nrcodes[o+1]);\n\t\t\t}\n\t\t\tfor (var p=0; p<=161; p++) {\n\t\t\t\twriteByte(std_ac_chrominance_values[p]);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction writeSOS()\n\t\t{\n\t\t\twriteWord(0xFFDA); // marker\n\t\t\twriteWord(12); // length\n\t\t\twriteByte(3); // nrofcomponents\n\t\t\twriteByte(1); // IdY\n\t\t\twriteByte(0); // HTY\n\t\t\twriteByte(2); // IdU\n\t\t\twriteByte(0x11); // HTU\n\t\t\twriteByte(3); // IdV\n\t\t\twriteByte(0x11); // HTV\n\t\t\twriteByte(0); // Ss\n\t\t\twriteByte(0x3f); // Se\n\t\t\twriteByte(0); // Bf\n\t\t}\n\t\t\n\t\tfunction processDU(CDU, fdtbl, DC, HTDC, HTAC){\n\t\t\tvar EOB = HTAC[0x00];\n\t\t\tvar M16zeroes = HTAC[0xF0];\n\t\t\tvar pos;\n\t\t\tconst I16 = 16;\n\t\t\tconst I63 = 63;\n\t\t\tconst I64 = 64;\n\t\t\tvar DU_DCT = fDCTQuant(CDU, fdtbl);\n\t\t\t//ZigZag reorder\n\t\t\tfor (var j=0;j<I64;++j) {\n\t\t\t\tDU[ZigZag[j]]=DU_DCT[j];\n\t\t\t}\n\t\t\tvar Diff = DU[0] - DC; DC = DU[0];\n\t\t\t//Encode DC\n\t\t\tif (Diff==0) {\n\t\t\t\twriteBits(HTDC[0]); // Diff might be 0\n\t\t\t} else {\n\t\t\t\tpos = 32767+Diff;\n\t\t\t\twriteBits(HTDC[category[pos]]);\n\t\t\t\twriteBits(bitcode[pos]);\n\t\t\t}\n\t\t\t//Encode ACs\n\t\t\tvar end0pos = 63; // was const... which is crazy\n\t\t\tfor (; (end0pos>0)&&(DU[end0pos]==0); end0pos--) {};\n\t\t\t//end0pos = first element in reverse order !=0\n\t\t\tif ( end0pos == 0) {\n\t\t\t\twriteBits(EOB);\n\t\t\t\treturn DC;\n\t\t\t}\n\t\t\tvar i = 1;\n\t\t\tvar lng;\n\t\t\twhile ( i <= end0pos ) {\n\t\t\t\tvar startpos = i;\n\t\t\t\tfor (; (DU[i]==0) && (i<=end0pos); ++i) {}\n\t\t\t\tvar nrzeroes = i-startpos;\n\t\t\t\tif ( nrzeroes >= I16 ) {\n\t\t\t\t\tlng = nrzeroes>>4;\n\t\t\t\t\tfor (var nrmarker=1; nrmarker <= lng; ++nrmarker)\n\t\t\t\t\t\twriteBits(M16zeroes);\n\t\t\t\t\tnrzeroes = nrzeroes&0xF;\n\t\t\t\t}\n\t\t\t\tpos = 32767+DU[i];\n\t\t\t\twriteBits(HTAC[(nrzeroes<<4)+category[pos]]);\n\t\t\t\twriteBits(bitcode[pos]);\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif ( end0pos != I63 ) {\n\t\t\t\twriteBits(EOB);\n\t\t\t}\n\t\t\treturn DC;\n\t\t}\n\n\t\tfunction initCharLookupTable(){\n\t\t\tvar sfcc = String.fromCharCode;\n\t\t\tfor(var i=0; i < 256; i++){ ///// ACHTUNG // 255\n\t\t\t\tclt[i] = sfcc(i);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.encode = function(image,quality) // image data object\n\t\t{\n\t\t\tvar time_start = new Date().getTime();\n\t\t\t\n\t\t\tif(quality) setQuality(quality);\n\t\t\t\n\t\t\t// Initialize bit writer\n\t\t\tbyteout = new Array();\n\t\t\tbytenew=0;\n\t\t\tbytepos=7;\n\t\n\t\t\t// Add JPEG headers\n\t\t\twriteWord(0xFFD8); // SOI\n\t\t\twriteAPP0();\n\t\t\twriteDQT();\n\t\t\twriteSOF0(image.width,image.height);\n\t\t\twriteDHT();\n\t\t\twriteSOS();\n\n\t\n\t\t\t// Encode 8x8 macroblocks\n\t\t\tvar DCY=0;\n\t\t\tvar DCU=0;\n\t\t\tvar DCV=0;\n\t\t\t\n\t\t\tbytenew=0;\n\t\t\tbytepos=7;\n\t\t\t\n\t\t\t\n\t\t\tthis.encode.displayName = \"_encode_\";\n\n\t\t\tvar imageData = image.data;\n\t\t\tvar width = image.width;\n\t\t\tvar height = image.height;\n\n\t\t\tvar quadWidth = width*4;\n\t\t\tvar tripleWidth = width*3;\n\t\t\t\n\t\t\tvar x, y = 0;\n\t\t\tvar r, g, b;\n\t\t\tvar start,p, col,row,pos;\n\t\t\twhile(y < height){\n\t\t\t\tx = 0;\n\t\t\t\twhile(x < quadWidth){\n\t\t\t\tstart = quadWidth * y + x;\n\t\t\t\tp = start;\n\t\t\t\tcol = -1;\n\t\t\t\trow = 0;\n\t\t\t\t\n\t\t\t\tfor(pos=0; pos < 64; pos++){\n\t\t\t\t\trow = pos >> 3;// /8\n\t\t\t\t\tcol = ( pos & 7 ) * 4; // %8\n\t\t\t\t\tp = start + ( row * quadWidth ) + col;\t\t\n\t\t\t\t\t\n\t\t\t\t\tif(y+row >= height){ // padding bottom\n\t\t\t\t\t\tp-= (quadWidth*(y+1+row-height));\n\t\t\t\t\t}\n\n\t\t\t\t\tif(x+col >= quadWidth){ // padding right\t\n\t\t\t\t\t\tp-= ((x+col) - quadWidth +4)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tr = imageData[ p++ ];\n\t\t\t\t\tg = imageData[ p++ ];\n\t\t\t\t\tb = imageData[ p++ ];\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t/* // calculate YUV values dynamically\n\t\t\t\t\tYDU[pos]=((( 0.29900)*r+( 0.58700)*g+( 0.11400)*b))-128; //-0x80\n\t\t\t\t\tUDU[pos]=(((-0.16874)*r+(-0.33126)*g+( 0.50000)*b));\n\t\t\t\t\tVDU[pos]=((( 0.50000)*r+(-0.41869)*g+(-0.08131)*b));\n\t\t\t\t\t*/\n\t\t\t\t\t\n\t\t\t\t\t// use lookup table (slightly faster)\n\t\t\t\t\tYDU[pos] = ((RGB_YUV_TABLE[r]             + RGB_YUV_TABLE[(g +  256)>>0] + RGB_YUV_TABLE[(b +  512)>>0]) >> 16)-128;\n\t\t\t\t\tUDU[pos] = ((RGB_YUV_TABLE[(r +  768)>>0] + RGB_YUV_TABLE[(g + 1024)>>0] + RGB_YUV_TABLE[(b + 1280)>>0]) >> 16)-128;\n\t\t\t\t\tVDU[pos] = ((RGB_YUV_TABLE[(r + 1280)>>0] + RGB_YUV_TABLE[(g + 1536)>>0] + RGB_YUV_TABLE[(b + 1792)>>0]) >> 16)-128;\n\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tDCY = processDU(YDU, fdtbl_Y, DCY, YDC_HT, YAC_HT);\n\t\t\t\tDCU = processDU(UDU, fdtbl_UV, DCU, UVDC_HT, UVAC_HT);\n\t\t\t\tDCV = processDU(VDU, fdtbl_UV, DCV, UVDC_HT, UVAC_HT);\n\t\t\t\tx+=32;\n\t\t\t\t}\n\t\t\t\ty+=8;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t////////////////////////////////////////////////////////////////\n\t\n\t\t\t// Do the bit alignment of the EOI marker\n\t\t\tif ( bytepos >= 0 ) {\n\t\t\t\tvar fillbits = [];\n\t\t\t\tfillbits[1] = bytepos+1;\n\t\t\t\tfillbits[0] = (1<<(bytepos+1))-1;\n\t\t\t\twriteBits(fillbits);\n\t\t\t}\n\t\n\t\t\twriteWord(0xFFD9); //EOI\n\n      //return new Uint8Array(byteout);\n      return new Buffer(byteout);\n\n\t\t\tvar jpegDataUri = 'data:image/jpeg;base64,' + btoa(byteout.join(''));\n\t\t\t\n\t\t\tbyteout = [];\n\t\t\t\n\t\t\t// benchmarking\n\t\t\tvar duration = new Date().getTime() - time_start;\n    \t\t//console.log('Encoding time: '+ duration + 'ms');\n    \t\t//\n\t\t\t\n\t\t\treturn jpegDataUri\t\t\t\n\t}\n\t\n\tfunction setQuality(quality){\n\t\tif (quality <= 0) {\n\t\t\tquality = 1;\n\t\t}\n\t\tif (quality > 100) {\n\t\t\tquality = 100;\n\t\t}\n\t\t\n\t\tif(currentQuality == quality) return // don't recalc if unchanged\n\t\t\n\t\tvar sf = 0;\n\t\tif (quality < 50) {\n\t\t\tsf = Math.floor(5000 / quality);\n\t\t} else {\n\t\t\tsf = Math.floor(200 - quality*2);\n\t\t}\n\t\t\n\t\tinitQuantTables(sf);\n\t\tcurrentQuality = quality;\n\t\t//console.log('Quality set to: '+quality +'%');\n\t}\n\t\n\tfunction init(){\n\t\tvar time_start = new Date().getTime();\n\t\tif(!quality) quality = 50;\n\t\t// Create tables\n\t\tinitCharLookupTable()\n\t\tinitHuffmanTbl();\n\t\tinitCategoryNumber();\n\t\tinitRGBYUVTable();\n\t\t\n\t\tsetQuality(quality);\n\t\tvar duration = new Date().getTime() - time_start;\n    \t//console.log('Initialization '+ duration + 'ms');\n\t}\n\t\n\tinit();\n\t\n};\nmodule.exports = encode;\n\nfunction encode(imgData, qu) {\n  if (typeof qu === 'undefined') qu = 50;\n  var encoder = new JPEGEncoder(qu);\n\tvar data = encoder.encode(imgData, qu);\n  return {\n    data: data,\n    width: imgData.width,\n    height: imgData.height\n  };\n}\n\n// helper function to get the imageData of an existing image on the current page.\nfunction getImageDataFromImage(idOrElement){\n\tvar theImg = (typeof(idOrElement)=='string')? document.getElementById(idOrElement):idOrElement;\n\tvar cvs = document.createElement('canvas');\n\tcvs.width = theImg.width;\n\tcvs.height = theImg.height;\n\tvar ctx = cvs.getContext(\"2d\");\n\tctx.drawImage(theImg,0,0);\n\t\n\treturn (ctx.getImageData(0, 0, cvs.width, cvs.height));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jpeg-js/lib/encoder.js\n// module id = 73\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/jpeg-js/lib/encoder.js","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ms/index.js\n// module id = 74\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/ms/index.js","'use strict';\n\nmodule.exports = typeof Promise === 'function' ? Promise : require('pinkie');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pinkie-promise/index.js\n// module id = 75\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pinkie-promise/index.js","'use strict';\n\nvar PENDING = 'pending';\nvar SETTLED = 'settled';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar NOOP = function () {};\nvar isNode = typeof global !== 'undefined' && typeof global.process !== 'undefined' && typeof global.process.emit === 'function';\n\nvar asyncSetTimer = typeof setImmediate === 'undefined' ? setTimeout : setImmediate;\nvar asyncQueue = [];\nvar asyncTimer;\n\nfunction asyncFlush() {\n\t// run promise callbacks\n\tfor (var i = 0; i < asyncQueue.length; i++) {\n\t\tasyncQueue[i][0](asyncQueue[i][1]);\n\t}\n\n\t// reset async asyncQueue\n\tasyncQueue = [];\n\tasyncTimer = false;\n}\n\nfunction asyncCall(callback, arg) {\n\tasyncQueue.push([callback, arg]);\n\n\tif (!asyncTimer) {\n\t\tasyncTimer = true;\n\t\tasyncSetTimer(asyncFlush, 0);\n\t}\n}\n\nfunction invokeResolver(resolver, promise) {\n\tfunction resolvePromise(value) {\n\t\tresolve(promise, value);\n\t}\n\n\tfunction rejectPromise(reason) {\n\t\treject(promise, reason);\n\t}\n\n\ttry {\n\t\tresolver(resolvePromise, rejectPromise);\n\t} catch (e) {\n\t\trejectPromise(e);\n\t}\n}\n\nfunction invokeCallback(subscriber) {\n\tvar owner = subscriber.owner;\n\tvar settled = owner._state;\n\tvar value = owner._data;\n\tvar callback = subscriber[settled];\n\tvar promise = subscriber.then;\n\n\tif (typeof callback === 'function') {\n\t\tsettled = FULFILLED;\n\t\ttry {\n\t\t\tvalue = callback(value);\n\t\t} catch (e) {\n\t\t\treject(promise, e);\n\t\t}\n\t}\n\n\tif (!handleThenable(promise, value)) {\n\t\tif (settled === FULFILLED) {\n\t\t\tresolve(promise, value);\n\t\t}\n\n\t\tif (settled === REJECTED) {\n\t\t\treject(promise, value);\n\t\t}\n\t}\n}\n\nfunction handleThenable(promise, value) {\n\tvar resolved;\n\n\ttry {\n\t\tif (promise === value) {\n\t\t\tthrow new TypeError('A promises callback cannot return that same promise.');\n\t\t}\n\n\t\tif (value && (typeof value === 'function' || typeof value === 'object')) {\n\t\t\t// then should be retrieved only once\n\t\t\tvar then = value.then;\n\n\t\t\tif (typeof then === 'function') {\n\t\t\t\tthen.call(value, function (val) {\n\t\t\t\t\tif (!resolved) {\n\t\t\t\t\t\tresolved = true;\n\n\t\t\t\t\t\tif (value === val) {\n\t\t\t\t\t\t\tfulfill(promise, val);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve(promise, val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, function (reason) {\n\t\t\t\t\tif (!resolved) {\n\t\t\t\t\t\tresolved = true;\n\n\t\t\t\t\t\treject(promise, reason);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tif (!resolved) {\n\t\t\treject(promise, e);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nfunction resolve(promise, value) {\n\tif (promise === value || !handleThenable(promise, value)) {\n\t\tfulfill(promise, value);\n\t}\n}\n\nfunction fulfill(promise, value) {\n\tif (promise._state === PENDING) {\n\t\tpromise._state = SETTLED;\n\t\tpromise._data = value;\n\n\t\tasyncCall(publishFulfillment, promise);\n\t}\n}\n\nfunction reject(promise, reason) {\n\tif (promise._state === PENDING) {\n\t\tpromise._state = SETTLED;\n\t\tpromise._data = reason;\n\n\t\tasyncCall(publishRejection, promise);\n\t}\n}\n\nfunction publish(promise) {\n\tpromise._then = promise._then.forEach(invokeCallback);\n}\n\nfunction publishFulfillment(promise) {\n\tpromise._state = FULFILLED;\n\tpublish(promise);\n}\n\nfunction publishRejection(promise) {\n\tpromise._state = REJECTED;\n\tpublish(promise);\n\tif (!promise._handled && isNode) {\n\t\tglobal.process.emit('unhandledRejection', promise._data, promise);\n\t}\n}\n\nfunction notifyRejectionHandled(promise) {\n\tglobal.process.emit('rejectionHandled', promise);\n}\n\n/**\n * @class\n */\nfunction Promise(resolver) {\n\tif (typeof resolver !== 'function') {\n\t\tthrow new TypeError('Promise resolver ' + resolver + ' is not a function');\n\t}\n\n\tif (this instanceof Promise === false) {\n\t\tthrow new TypeError('Failed to construct \\'Promise\\': Please use the \\'new\\' operator, this object constructor cannot be called as a function.');\n\t}\n\n\tthis._then = [];\n\n\tinvokeResolver(resolver, this);\n}\n\nPromise.prototype = {\n\tconstructor: Promise,\n\n\t_state: PENDING,\n\t_then: null,\n\t_data: undefined,\n\t_handled: false,\n\n\tthen: function (onFulfillment, onRejection) {\n\t\tvar subscriber = {\n\t\t\towner: this,\n\t\t\tthen: new this.constructor(NOOP),\n\t\t\tfulfilled: onFulfillment,\n\t\t\trejected: onRejection\n\t\t};\n\n\t\tif ((onRejection || onFulfillment) && !this._handled) {\n\t\t\tthis._handled = true;\n\t\t\tif (this._state === REJECTED && isNode) {\n\t\t\t\tasyncCall(notifyRejectionHandled, this);\n\t\t\t}\n\t\t}\n\n\t\tif (this._state === FULFILLED || this._state === REJECTED) {\n\t\t\t// already resolved, call callback async\n\t\t\tasyncCall(invokeCallback, subscriber);\n\t\t} else {\n\t\t\t// subscribe\n\t\t\tthis._then.push(subscriber);\n\t\t}\n\n\t\treturn subscriber.then;\n\t},\n\n\tcatch: function (onRejection) {\n\t\treturn this.then(null, onRejection);\n\t}\n};\n\nPromise.all = function (promises) {\n\tif (!Array.isArray(promises)) {\n\t\tthrow new TypeError('You must pass an array to Promise.all().');\n\t}\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar results = [];\n\t\tvar remaining = 0;\n\n\t\tfunction resolver(index) {\n\t\t\tremaining++;\n\t\t\treturn function (value) {\n\t\t\t\tresults[index] = value;\n\t\t\t\tif (!--remaining) {\n\t\t\t\t\tresolve(results);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfor (var i = 0, promise; i < promises.length; i++) {\n\t\t\tpromise = promises[i];\n\n\t\t\tif (promise && typeof promise.then === 'function') {\n\t\t\t\tpromise.then(resolver(i), reject);\n\t\t\t} else {\n\t\t\t\tresults[i] = promise;\n\t\t\t}\n\t\t}\n\n\t\tif (!remaining) {\n\t\t\tresolve(results);\n\t\t}\n\t});\n};\n\nPromise.race = function (promises) {\n\tif (!Array.isArray(promises)) {\n\t\tthrow new TypeError('You must pass an array to Promise.race().');\n\t}\n\n\treturn new Promise(function (resolve, reject) {\n\t\tfor (var i = 0, promise; i < promises.length; i++) {\n\t\t\tpromise = promises[i];\n\n\t\t\tif (promise && typeof promise.then === 'function') {\n\t\t\t\tpromise.then(resolve, reject);\n\t\t\t} else {\n\t\t\t\tresolve(promise);\n\t\t\t}\n\t\t}\n\t});\n};\n\nPromise.resolve = function (value) {\n\tif (value && typeof value === 'object' && value.constructor === Promise) {\n\t\treturn value;\n\t}\n\n\treturn new Promise(function (resolve) {\n\t\tresolve(value);\n\t});\n};\n\nPromise.reject = function (reason) {\n\treturn new Promise(function (resolve, reject) {\n\t\treject(reason);\n\t});\n};\n\nmodule.exports = Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pinkie/index.js\n// module id = 76\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pinkie/index.js","'use strict';\n\nvar constants = require('./constants');\n\nmodule.exports = function(data, width, height, options) {\n  var outHasAlpha = [constants.COLORTYPE_COLOR_ALPHA, constants.COLORTYPE_ALPHA].indexOf(options.colorType) !== -1;\n\n  if ([constants.COLORTYPE_GRAYSCALE, constants.COLORTYPE_ALPHA].indexOf(options.colorType) === -1) {\n    // If no need to convert to grayscale and alpha is present/absent in both, take a fast route\n    if (options.inputHasAlpha && outHasAlpha) {\n      return data;\n    }\n    if (!options.inputHasAlpha && !outHasAlpha) {\n      return data;\n    }\n  }\n\n  var outBpp = constants.COLORTYPE_TO_BPP_MAP[options.colorType];\n  var outData = new Buffer(width * height * outBpp);\n  var inBpp = options.inputHasAlpha ? 4 : 3;\n  var inIndex = 0;\n  var outIndex = 0;\n\n  var bgColor = options.bgColor || {};\n  if (bgColor.red === undefined) {\n    bgColor.red = 255;\n  }\n  if (bgColor.green === undefined) {\n    bgColor.green = 255;\n  }\n  if (bgColor.blue === undefined) {\n    bgColor.blue = 255;\n  }\n\n  for (var y = 0; y < height; y++) {\n    for (var x = 0; x < width; x++) {\n      var red = data[inIndex];\n      var green = data[inIndex + 1];\n      var blue = data[inIndex + 2];\n\n      var alpha;\n      if (options.inputHasAlpha) {\n        alpha = data[inIndex + 3];\n        if (!outHasAlpha) {\n          alpha /= 255;\n          red = Math.min(Math.max(Math.round((1 - alpha) * bgColor.red + alpha * red), 0), 255);\n          green = Math.min(Math.max(Math.round((1 - alpha) * bgColor.green + alpha * green), 0), 255);\n          blue = Math.min(Math.max(Math.round((1 - alpha) * bgColor.blue + alpha * blue), 0), 255);\n        }\n      }\n      else {\n        alpha = 255;\n      }\n\n      switch (options.colorType) {\n        case constants.COLORTYPE_COLOR_ALPHA:\n        case constants.COLORTYPE_COLOR:\n          outData[outIndex] = red;\n          outData[outIndex + 1] = green;\n          outData[outIndex + 2] = blue;\n          if (outHasAlpha) {\n            outData[outIndex + 3] = alpha;\n          }\n          break;\n        case constants.COLORTYPE_ALPHA:\n        case constants.COLORTYPE_GRAYSCALE:\n          // Convert to grayscale and alpha\n          var grayscale = (red + green + blue) / 3;\n          outData[outIndex] = grayscale;\n          if (outHasAlpha) {\n            outData[outIndex + 1] = alpha;\n          }\n          break;\n      }\n\n      inIndex += inBpp;\n      outIndex += outBpp;\n    }\n  }\n\n  return outData;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/bitpacker.js\n// module id = 77\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/bitpacker.js","'use strict';\n\nvar paethPredictor = require('./paeth-predictor');\n\nfunction filterNone(pxData, pxPos, byteWidth, rawData, rawPos) {\n  pxData.copy(rawData, rawPos, pxPos, pxPos + byteWidth);\n}\n\nfunction filterSumNone(pxData, pxPos, byteWidth) {\n\n  var sum = 0;\n  var length = pxPos + byteWidth;\n\n  for (var i = pxPos; i < length; i++) {\n    sum += Math.abs(pxData[i]);\n  }\n  return sum;\n}\n\nfunction filterSub(pxData, pxPos, byteWidth, rawData, rawPos, bpp) {\n\n  for (var x = 0; x < byteWidth; x++) {\n\n    var left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    var val = pxData[pxPos + x] - left;\n\n    rawData[rawPos + x] = val;\n  }\n}\n\nfunction filterSumSub(pxData, pxPos, byteWidth, bpp) {\n\n  var sum = 0;\n  for (var x = 0; x < byteWidth; x++) {\n\n    var left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    var val = pxData[pxPos + x] - left;\n\n    sum += Math.abs(val);\n  }\n\n  return sum;\n}\n\nfunction filterUp(pxData, pxPos, byteWidth, rawData, rawPos) {\n\n  for (var x = 0; x < byteWidth; x++) {\n\n    var up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    var val = pxData[pxPos + x] - up;\n\n    rawData[rawPos + x] = val;\n  }\n}\n\nfunction filterSumUp(pxData, pxPos, byteWidth) {\n\n  var sum = 0;\n  var length = pxPos + byteWidth;\n  for (var x = pxPos; x < length; x++) {\n\n    var up = pxPos > 0 ? pxData[x - byteWidth] : 0;\n    var val = pxData[x] - up;\n\n    sum += Math.abs(val);\n  }\n\n  return sum;\n}\n\nfunction filterAvg(pxData, pxPos, byteWidth, rawData, rawPos, bpp) {\n\n  for (var x = 0; x < byteWidth; x++) {\n\n    var left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    var up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    var val = pxData[pxPos + x] - ((left + up) >> 1);\n\n    rawData[rawPos + x] = val;\n  }\n}\n\nfunction filterSumAvg(pxData, pxPos, byteWidth, bpp) {\n\n  var sum = 0;\n  for (var x = 0; x < byteWidth; x++) {\n\n    var left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    var up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    var val = pxData[pxPos + x] - ((left + up) >> 1);\n\n    sum += Math.abs(val);\n  }\n\n  return sum;\n}\n\nfunction filterPaeth(pxData, pxPos, byteWidth, rawData, rawPos, bpp) {\n\n  for (var x = 0; x < byteWidth; x++) {\n\n    var left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    var up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    var upleft = pxPos > 0 && x >= bpp ? pxData[pxPos + x - (byteWidth + bpp)] : 0;\n    var val = pxData[pxPos + x] - paethPredictor(left, up, upleft);\n\n    rawData[rawPos + x] = val;\n  }\n}\n\nfunction filterSumPaeth(pxData, pxPos, byteWidth, bpp) {\n  var sum = 0;\n  for (var x = 0; x < byteWidth; x++) {\n\n    var left = x >= bpp ? pxData[pxPos + x - bpp] : 0;\n    var up = pxPos > 0 ? pxData[pxPos + x - byteWidth] : 0;\n    var upleft = pxPos > 0 && x >= bpp ? pxData[pxPos + x - (byteWidth + bpp)] : 0;\n    var val = pxData[pxPos + x] - paethPredictor(left, up, upleft);\n\n    sum += Math.abs(val);\n  }\n\n  return sum;\n}\n\nvar filters = {\n  0: filterNone,\n  1: filterSub,\n  2: filterUp,\n  3: filterAvg,\n  4: filterPaeth\n};\n\nvar filterSums = {\n  0: filterSumNone,\n  1: filterSumSub,\n  2: filterSumUp,\n  3: filterSumAvg,\n  4: filterSumPaeth\n};\n\nmodule.exports = function(pxData, width, height, options, bpp) {\n\n  var filterTypes;\n  if (!('filterType' in options) || options.filterType === -1) {\n    filterTypes = [0, 1, 2, 3, 4];\n  }\n  else if (typeof options.filterType === 'number') {\n    filterTypes = [options.filterType];\n  }\n  else {\n    throw new Error('unrecognised filter types');\n  }\n\n  var byteWidth = width * bpp;\n  var rawPos = 0;\n  var pxPos = 0;\n  var rawData = new Buffer((byteWidth + 1) * height);\n  var sel = filterTypes[0];\n\n  for (var y = 0; y < height; y++) {\n\n    if (filterTypes.length > 1) {\n      // find best filter for this line (with lowest sum of values)\n      var min = Infinity;\n\n      for (var i = 0; i < filterTypes.length; i++) {\n        var sum = filterSums[filterTypes[i]](pxData, pxPos, byteWidth, bpp);\n        if (sum < min) {\n          sel = filterTypes[i];\n          min = sum;\n        }\n      }\n    }\n\n    rawData[rawPos] = sel;\n    rawPos++;\n    filters[sel](pxData, pxPos, byteWidth, rawData, rawPos, bpp);\n    rawPos += byteWidth;\n    pxPos += byteWidth;\n  }\n  return rawData;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/filter-pack.js\n// module id = 78\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/filter-pack.js","'use strict';\n\nvar util = require('util');\nvar ChunkStream = require('./chunkstream');\nvar Filter = require('./filter-parse');\n\n\nvar FilterAsync = module.exports = function(bitmapInfo) {\n  ChunkStream.call(this);\n\n  var buffers = [];\n  var that = this;\n  this._filter = new Filter(bitmapInfo, {\n    read: this.read.bind(this),\n    write: function(buffer) {\n      buffers.push(buffer);\n    },\n    complete: function() {\n      that.emit('complete', Buffer.concat(buffers));\n    }\n  });\n\n  this._filter.start();\n};\nutil.inherits(FilterAsync, ChunkStream);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/filter-parse-async.js\n// module id = 79\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/filter-parse-async.js","'use strict';\n\nvar SyncReader = require('./sync-reader');\nvar Filter = require('./filter-parse');\n\n\nexports.process = function(inBuffer, bitmapInfo) {\n\n  var outBuffers = [];\n  var reader = new SyncReader(inBuffer);\n  var filter = new Filter(bitmapInfo, {\n    read: reader.read.bind(reader),\n    write: function(bufferPart) {\n      outBuffers.push(bufferPart);\n    },\n    complete: function() {\n    }\n  });\n\n  filter.start();\n  reader.process();\n\n  return Buffer.concat(outBuffers);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/filter-parse-sync.js\n// module id = 80\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/filter-parse-sync.js","'use strict';\n\nvar util = require('util');\nvar Stream = require('stream');\nvar constants = require('./constants');\nvar Packer = require('./packer');\n\nvar PackerAsync = module.exports = function(opt) {\n  Stream.call(this);\n\n  var options = opt || {};\n\n  this._packer = new Packer(options);\n  this._deflate = this._packer.createDeflate();\n\n  this.readable = true;\n};\nutil.inherits(PackerAsync, Stream);\n\n\nPackerAsync.prototype.pack = function(data, width, height, gamma) {\n  // Signature\n  this.emit('data', new Buffer(constants.PNG_SIGNATURE));\n  this.emit('data', this._packer.packIHDR(width, height));\n\n  if (gamma) {\n    this.emit('data', this._packer.packGAMA(gamma));\n  }\n\n  var filteredData = this._packer.filterData(data, width, height);\n\n  // compress it\n  this._deflate.on('error', this.emit.bind(this, 'error'));\n\n  this._deflate.on('data', function(compressedData) {\n    this.emit('data', this._packer.packIDAT(compressedData));\n  }.bind(this));\n\n  this._deflate.on('end', function() {\n    this.emit('data', this._packer.packIEND());\n    this.emit('end');\n  }.bind(this));\n\n  this._deflate.end(filteredData);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/packer-async.js\n// module id = 81\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/packer-async.js","'use strict';\n\nvar hasSyncZlib = true;\nvar zlib = require('zlib');\nvar constants = require('./constants');\nvar Packer = require('./packer');\n\nmodule.exports = function(metaData, opt) {\n\n  if (!hasSyncZlib) {\n    throw new Error('To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0');\n  }\n\n  var options = opt || {};\n\n  var packer = new Packer(options);\n\n  var chunks = [];\n\n  // Signature\n  chunks.push(new Buffer(constants.PNG_SIGNATURE));\n\n  // Header\n  chunks.push(packer.packIHDR(metaData.width, metaData.height));\n\n  if (metaData.gamma) {\n    chunks.push(packer.packGAMA(metaData.gamma));\n  }\n\n  var filteredData = packer.filterData(metaData.data, metaData.width, metaData.height);\n\n  // compress it\n  var compressedData = zlib.deflateSync(filteredData, packer.getDeflateOptions());\n  filteredData = null;\n\n  if (!compressedData || !compressedData.length) {\n    throw new Error('bad png - invalid compressed data response');\n  }\n  chunks.push(packer.packIDAT(compressedData));\n\n  // End\n  chunks.push(packer.packIEND());\n\n  return Buffer.concat(chunks);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/packer-sync.js\n// module id = 82\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/packer-sync.js","'use strict';\n\nvar util = require('util');\nvar zlib = require('zlib');\nvar ChunkStream = require('./chunkstream');\nvar FilterAsync = require('./filter-parse-async');\nvar Parser = require('./parser');\nvar bitmapper = require('./bitmapper');\nvar formatNormaliser = require('./format-normaliser');\n\nvar ParserAsync = module.exports = function(options) {\n  ChunkStream.call(this);\n\n  this._parser = new Parser(options, {\n    read: this.read.bind(this),\n    error: this._handleError.bind(this),\n    metadata: this._handleMetaData.bind(this),\n    gamma: this.emit.bind(this, 'gamma'),\n    palette: this._handlePalette.bind(this),\n    transColor: this._handleTransColor.bind(this),\n    finished: this._finished.bind(this),\n    inflateData: this._inflateData.bind(this)\n  });\n  this._options = options;\n  this.writable = true;\n\n  this._parser.start();\n};\nutil.inherits(ParserAsync, ChunkStream);\n\n\nParserAsync.prototype._handleError = function(err) {\n\n  this.emit('error', err);\n\n  this.writable = false;\n\n  this.destroy();\n\n  if (this._inflate && this._inflate.destroy) {\n    this._inflate.destroy();\n  }\n\n  this.errord = true;\n};\n\nParserAsync.prototype._inflateData = function(data) {\n  if (!this._inflate) {\n    if (this._bitmapInfo.interlace) {\n      this._inflate = zlib.createInflate();\n\n      this._inflate.on('error', this.emit.bind(this, 'error'));\n      this._filter.on('complete', this._complete.bind(this));\n\n      this._inflate.pipe(this._filter);\n    } else {\n      var rowSize = ((this._bitmapInfo.width * this._bitmapInfo.bpp * this._bitmapInfo.depth + 7) >> 3) + 1;\n      var imageSize = rowSize * this._bitmapInfo.height;\n      var chunkSize = Math.max(imageSize, zlib.Z_MIN_CHUNK);\n      \n      this._inflate = zlib.createInflate({ chunkSize: chunkSize });\n      var leftToInflate = imageSize;\n\n      var emitError = this.emit.bind(this, 'error');\n      this._inflate.on('error', function(err) {\n        if (!leftToInflate) {\n          return;\n        }\n\n        emitError(err);\n      });\n      this._filter.on('complete', this._complete.bind(this));\n\n      var filterWrite = this._filter.write.bind(this._filter);\n      this._inflate.on('data', function(chunk) {\n        if (!leftToInflate) {\n          return;\n        }\n\n        if (chunk.length > leftToInflate) {\n          chunk = chunk.slice(0, leftToInflate);\n        }\n\n        leftToInflate -= chunk.length;\n\n        filterWrite(chunk);\n      });\n\n      this._inflate.on('end', this._filter.end.bind(this._filter));\n    }\n  }\n  this._inflate.write(data);\n};\n\nParserAsync.prototype._handleMetaData = function(metaData) {\n\n  this.emit('metadata', metaData);\n\n  this._bitmapInfo = Object.create(metaData);\n\n  this._filter = new FilterAsync(this._bitmapInfo);\n};\n\nParserAsync.prototype._handleTransColor = function(transColor) {\n  this._bitmapInfo.transColor = transColor;\n};\n\nParserAsync.prototype._handlePalette = function(palette) {\n  this._bitmapInfo.palette = palette;\n};\n\n\nParserAsync.prototype._finished = function() {\n  if (this.errord) {\n    return;\n  }\n\n  if (!this._inflate) {\n    this.emit('error', 'No Inflate block');\n  }\n  else {\n    // no more data to inflate\n    this._inflate.end();\n  }\n  this.destroySoon();\n};\n\nParserAsync.prototype._complete = function(filteredData) {\n\n  if (this.errord) {\n    return;\n  }\n\n  try {\n    var bitmapData = bitmapper.dataToBitMap(filteredData, this._bitmapInfo);\n\n    var normalisedBitmapData = formatNormaliser(bitmapData, this._bitmapInfo);\n    bitmapData = null;\n  }\n  catch (ex) {\n    this._handleError(ex);\n    return;\n  }\n\n  this.emit('parsed', normalisedBitmapData);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/parser-async.js\n// module id = 83\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/parser-async.js","'use strict';\n\nvar hasSyncZlib = true;\nvar zlib = require('zlib');\nvar inflateSync = require('./sync-inflate');\nvar SyncReader = require('./sync-reader');\nvar FilterSync = require('./filter-parse-sync');\nvar Parser = require('./parser');\nvar bitmapper = require('./bitmapper');\nvar formatNormaliser = require('./format-normaliser');\n\n\nmodule.exports = function(buffer, options) {\n\n  if (!hasSyncZlib) {\n    throw new Error('To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0');\n  }\n\n  var err;\n  function handleError(_err_) {\n    err = _err_;\n  }\n\n  var metaData;\n  function handleMetaData(_metaData_) {\n    metaData = _metaData_;\n  }\n\n  function handleTransColor(transColor) {\n    metaData.transColor = transColor;\n  }\n\n  function handlePalette(palette) {\n    metaData.palette = palette;\n  }\n\n  var gamma;\n  function handleGamma(_gamma_) {\n    gamma = _gamma_;\n  }\n\n  var inflateDataList = [];\n  function handleInflateData(inflatedData) {\n    inflateDataList.push(inflatedData);\n  }\n\n  var reader = new SyncReader(buffer);\n\n  var parser = new Parser(options, {\n    read: reader.read.bind(reader),\n    error: handleError,\n    metadata: handleMetaData,\n    gamma: handleGamma,\n    palette: handlePalette,\n    transColor: handleTransColor,\n    inflateData: handleInflateData\n  });\n\n  parser.start();\n  reader.process();\n\n  if (err) {\n    throw err;\n  }\n\n  //join together the inflate datas\n  var inflateData = Buffer.concat(inflateDataList);\n  inflateDataList.length = 0;\n\n  var inflatedData;\n  if (metaData.interlace) {\n    inflatedData = zlib.inflateSync(inflateData);\n  } else {\n    var rowSize = ((metaData.width * metaData.bpp * metaData.depth + 7) >> 3) + 1;\n    var imageSize = rowSize * metaData.height;\n    inflatedData = inflateSync(inflateData, { chunkSize: imageSize, maxLength: imageSize });\n  }\n  inflateData = null;\n\n  if (!inflatedData || !inflatedData.length) {\n    throw new Error('bad png - invalid inflate data response');\n  }\n\n  var unfilteredData = FilterSync.process(inflatedData, metaData);\n  inflateData = null;\n\n  var bitmapData = bitmapper.dataToBitMap(unfilteredData, metaData);\n  unfilteredData = null;\n\n  var normalisedBitmapData = formatNormaliser(bitmapData, metaData);\n\n  metaData.data = normalisedBitmapData;\n  metaData.gamma = gamma || 0;\n\n  return metaData;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/parser-sync.js\n// module id = 84\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/parser-sync.js","'use strict';\n\n\nvar parse = require('./parser-sync');\nvar pack = require('./packer-sync');\n\n\nexports.read = function(buffer, options) {\n\n  return parse(buffer, options || {});\n};\n\nexports.write = function(png, options) {\n\n  return pack(png, options);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/png-sync.js\n// module id = 85\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/png-sync.js","'use strict';\n\nvar assert = require('assert').ok;\nvar zlib = require('zlib');\nvar util = require('util');\n\nvar kMaxLength = require('buffer').kMaxLength;\n\nfunction Inflate(opts) {\n  if (!(this instanceof Inflate)) {\n    return new Inflate(opts);\n  }\n\n  if (opts && opts.chunkSize < zlib.Z_MIN_CHUNK) {\n    opts.chunkSize = zlib.Z_MIN_CHUNK;\n  }\n\n  zlib.Inflate.call(this, opts);\n\n  if (opts && opts.maxLength != null) {\n    this._maxLength = opts.maxLength;\n  }\n}\n\nfunction createInflate(opts) {\n  return new Inflate(opts);\n}\n\nfunction _close(engine, callback) {\n  if (callback) {\n    process.nextTick(callback);\n  }\n\n  // Caller may invoke .close after a zlib error (which will null _handle).\n  if (!engine._handle) {\n    return;\n  }\n\n  engine._handle.close();\n  engine._handle = null;\n}\n\nInflate.prototype._processChunk = function(chunk, flushFlag, asyncCb) {\n  if (typeof asyncCb === 'function') {\n    return zlib.Inflate._processChunk.call(this, chunk, flushFlag, asyncCb);\n  }\n\n  var self = this;\n\n  var availInBefore = chunk && chunk.length;\n  var availOutBefore = this._chunkSize - this._offset;\n  var leftToInflate = this._maxLength;\n  var inOff = 0;\n\n  var buffers = [];\n  var nread = 0;\n\n  var error;\n  this.on('error', function(err) {\n    error = err;\n  });\n\n  function handleChunk(availInAfter, availOutAfter) {\n    if (self._hadError) {\n      return;\n    }\n\n    var have = availOutBefore - availOutAfter;\n    assert(have >= 0, 'have should not go down');\n\n    if (have > 0) {\n      var out = self._buffer.slice(self._offset, self._offset + have);\n      self._offset += have;\n\n      if (out.length > leftToInflate) {\n        out = out.slice(0, leftToInflate);\n      }\n\n      buffers.push(out);\n      nread += out.length;\n      leftToInflate -= out.length;\n\n      if (leftToInflate === 0) {\n        return false;\n      }\n    }\n\n    if (availOutAfter === 0 || self._offset >= self._chunkSize) {\n      availOutBefore = self._chunkSize;\n      self._offset = 0;\n      self._buffer = Buffer.allocUnsafe(self._chunkSize);\n    }\n\n    if (availOutAfter === 0) {\n      inOff += (availInBefore - availInAfter);\n      availInBefore = availInAfter;\n\n      return true;\n    }\n\n    return false;\n  }\n\n  assert(this._handle, 'zlib binding closed');\n  do {\n    var res = this._handle.writeSync(flushFlag,\n                                     chunk, // in\n                                     inOff, // in_off\n                                     availInBefore, // in_len\n                                     this._buffer, // out\n                                     this._offset, //out_off\n                                     availOutBefore); // out_len\n  } while (!this._hadError && handleChunk(res[0], res[1]));\n\n  if (this._hadError) {\n    throw error;\n  }\n\n  if (nread >= kMaxLength) {\n    _close(this);\n    throw new RangeError('Cannot create final Buffer. It would be larger than 0x' + kMaxLength.toString(16) + ' bytes');\n  }\n\n  var buf = Buffer.concat(buffers, nread);\n  _close(this);\n\n  return buf;\n};\n\nutil.inherits(Inflate, zlib.Inflate);\n\nfunction zlibBufferSync(engine, buffer) {\n  if (typeof buffer === 'string') {\n    buffer = Buffer.from(buffer);\n  }\n  if (!(buffer instanceof Buffer)) {\n    throw new TypeError('Not a string or buffer');\n  }\n\n  var flushFlag = engine._finishFlushFlag;\n  if (flushFlag == null) {\n    flushFlag = zlib.Z_FINISH;\n  }\n\n  return engine._processChunk(buffer, flushFlag);\n}\n\nfunction inflateSync(buffer, opts) {\n  return zlibBufferSync(new Inflate(opts), buffer);\n}\n\nmodule.exports = exports = inflateSync;\nexports.Inflate = Inflate;\nexports.createInflate = createInflate;\nexports.inflateSync = inflateSync;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/pngjs/lib/sync-inflate.js\n// module id = 86\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/pngjs/lib/sync-inflate.js","'use strict';\nconst bmp = require('bmp-js');\nconst fileType = require('file-type');\nconst getStream = require('get-stream');\nconst jpeg = require('jpeg-js');\nconst parsePng = require('parse-png');\nconst PNG = require('pngjs').PNG;\nconst Resize = require('jimp/resize');\n\nconst resize = (img, opts) => {\n\tif (typeof opts.width !== 'number') {\n\t\topts.width = Math.trunc(img.width * (opts.height / img.height));\n\t}\n\n\tif (typeof opts.height !== 'number') {\n\t\topts.height = Math.trunc(img.height * (opts.width / img.width));\n\t}\n\n\treturn new Promise(resolve => {\n\t\tconst resize = new Resize(img.width, img.height, opts.width, opts.height, true, true, buf => resolve(buf));\n\t\tresize.resize(img.data);\n\t});\n};\n\nmodule.exports = (buf, opts) => {\n\tif (!Buffer.isBuffer(buf)) {\n\t\treturn Promise.reject(new TypeError('Expected a buffer'));\n\t}\n\n\tconst type = fileType(buf);\n\n\tif (!type || (type.ext !== 'bmp' && type.ext !== 'jpg' && type.ext !== 'png')) {\n\t\treturn Promise.reject(new Error('Image format not supported'));\n\t}\n\n\topts = Object.assign({}, opts);\n\n\tif (typeof opts.width !== 'number' && typeof opts.height !== 'number') {\n\t\treturn Promise.reject(new Error('You need to set either width or height'));\n\t}\n\n\tconst encodeJpeg = (buf, opts) => {\n\t\treturn jpeg.encode({\n\t\t\twidth: opts.width,\n\t\t\theight: opts.height,\n\t\t\tdata: buf\n\t\t}).data;\n\t};\n\n\tconst encodePng = (buf, opts) => {\n\t\tconst png = new PNG({width: opts.width, height: opts.height, filterType: -1});\n\t\tpng.data = buf;\n\t\treturn getStream.buffer(png.pack());\n\t};\n\n\tconst encodeBmp = (buf, opts) => {\n\t\treturn bmp.encode({\n\t\t\twidth: opts.width,\n\t\t\theight: opts.height,\n\t\t\tdata: buf\n\t\t}).data;\n\t};\n\n\tif (type.ext === 'bmp') {\n\t\tconst img = bmp.decode(buf);\n\n\t\treturn resize(img, opts).then(buf => {\n\t\t\tif (opts.out === 'jpg') {\n\t\t\t\treturn encodeJpeg(buf, opts);\n\t\t\t} else if (opts.out === 'png') {\n\t\t\t\treturn encodePng(buf, opts);\n\t\t\t}\n\t\t\treturn encodeBmp(buf, opts);\n\t\t});\n\t}\n\n\tif (type.ext === 'jpg') {\n\t\tconst img = jpeg.decode(buf);\n\n\t\treturn resize(img, opts).then(buf => {\n\t\t\tif (opts.out === 'png') {\n\t\t\t\treturn encodePng(buf, opts);\n\t\t\t} else if (opts.out === 'bmp') {\n\t\t\t\treturn encodeBmp(buf, opts);\n\t\t\t}\n\t\t\treturn encodeJpeg(buf, opts);\n\t\t});\n\t}\n\n\treturn parsePng(buf).then(img => resize(img, opts).then(buf => {\n\t\tif (opts.out === 'jpg') {\n\t\t\treturn encodeJpeg(buf, opts);\n\t\t} else if (opts.out === 'bmp') {\n\t\t\treturn encodeBmp(buf, opts);\n\t\t}\n\t\timg.width = opts.width;\n\t\timg.height = opts.height;\n\t\timg.data = Buffer.isBuffer(buf) ? buf : Buffer.from(buf);\n\t\treturn getStream.buffer(img.pack());\n\t}));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/resize-img/index.js\n// module id = 87\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/resize-img/index.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 88\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///(webpack)/buildin/module.js","module.exports = which\nwhich.sync = whichSync\n\nvar isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nvar path = require('path')\nvar COLON = isWindows ? ';' : ':'\nvar isexe = require('isexe')\n\nfunction getNotFoundError (cmd) {\n  var er = new Error('not found: ' + cmd)\n  er.code = 'ENOENT'\n\n  return er\n}\n\nfunction getPathInfo (cmd, opt) {\n  var colon = opt.colon || COLON\n  var pathEnv = opt.path || process.env.PATH || ''\n  var pathExt = ['']\n\n  pathEnv = pathEnv.split(colon)\n\n  var pathExtExe = ''\n  if (isWindows) {\n    pathEnv.unshift(process.cwd())\n    pathExtExe = (opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM')\n    pathExt = pathExtExe.split(colon)\n\n\n    // Always test the cmd itself first.  isexe will check to make sure\n    // it's found in the pathExt set.\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  if (cmd.match(/\\//) || isWindows && cmd.match(/\\\\/))\n    pathEnv = ['']\n\n  return {\n    env: pathEnv,\n    ext: pathExt,\n    extExe: pathExtExe\n  }\n}\n\nfunction which (cmd, opt, cb) {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  ;(function F (i, l) {\n    if (i === l) {\n      if (opt.all && found.length)\n        return cb(null, found)\n      else\n        return cb(getNotFoundError(cmd))\n    }\n\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && (/^\\.[\\\\\\/]/).test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    ;(function E (ii, ll) {\n      if (ii === ll) return F(i + 1, l)\n      var ext = pathExt[ii]\n      isexe(p + ext, { pathExt: pathExtExe }, function (er, is) {\n        if (!er && is) {\n          if (opt.all)\n            found.push(p + ext)\n          else\n            return cb(null, p + ext)\n        }\n        return E(ii + 1, ll)\n      })\n    })(0, pathExt.length)\n  })(0, pathEnv.length)\n}\n\nfunction whichSync (cmd, opt) {\n  opt = opt || {}\n\n  var info = getPathInfo(cmd, opt)\n  var pathEnv = info.env\n  var pathExt = info.ext\n  var pathExtExe = info.extExe\n  var found = []\n\n  for (var i = 0, l = pathEnv.length; i < l; i ++) {\n    var pathPart = pathEnv[i]\n    if (pathPart.charAt(0) === '\"' && pathPart.slice(-1) === '\"')\n      pathPart = pathPart.slice(1, -1)\n\n    var p = path.join(pathPart, cmd)\n    if (!pathPart && /^\\.[\\\\\\/]/.test(cmd)) {\n      p = cmd.slice(0, 2) + p\n    }\n    for (var j = 0, ll = pathExt.length; j < ll; j ++) {\n      var cur = p + pathExt[j]\n      var is\n      try {\n        is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  throw getNotFoundError(cmd)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/which/which.js\n// module id = 89\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:///~/which/which.js","module.exports = require(\"buffer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"buffer\"\n// module id = 90\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"buffer\"","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 91\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"crypto\"","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 92\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"events\"","module.exports = require(\"net\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"net\"\n// module id = 93\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"net\"","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 94\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"os\"","module.exports = require(\"tmp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tmp\"\n// module id = 95\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"tmp\"","module.exports = require(\"tty\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tty\"\n// module id = 96\n// module chunks = 0\n\n\n// WEBPACK FOOTER //\n// webpack:/external \"tty\"","'use strict';\n\nvar typeMap = {};\nvar types = require('./types');\n\n// load all available handlers\ntypes.forEach(function (type) {\n  typeMap[type] = require('./types/' + type).detect;\n});\n\nmodule.exports = function (buffer, filepath) {\n  var type, result;\n  for (type in typeMap) {\n    result = typeMap[type](buffer, filepath);\n    if (result) {\n      return type;\n    }\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/detector.js\n// module id = 96\n// module chunks = 0","'use strict';\n\n// Abstract reading multi-byte unsigned integers\nfunction readUInt (buffer, bits, offset, isBigEndian) {\n  offset = offset || 0;\n  var endian = !!isBigEndian ? 'BE' : 'LE';\n  var method = buffer['readUInt' + bits + endian];\n  return method.call(buffer, offset);\n}\n\nmodule.exports = readUInt;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/image-size/lib/readUInt.js\n// module id = 97\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_DataView.js\n// module id = 98\n// module chunks = 0","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Hash.js\n// module id = 99\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Promise.js\n// module id = 100\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Set.js\n// module id = 101\n// module chunks = 0","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_SetCache.js\n// module id = 102\n// module chunks = 0","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Uint8Array.js\n// module id = 103\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_WeakMap.js\n// module id = 104\n// module chunks = 0","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_apply.js\n// module id = 105\n// module chunks = 0","/**\n * A specialized version of `_.every` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = arrayEvery;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayEvery.js\n// module id = 106\n// module chunks = 0","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayFilter.js\n// module id = 107\n// module chunks = 0","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayLikeKeys.js\n// module id = 108\n// module chunks = 0","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayMap.js\n// module id = 109\n// module chunks = 0","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayPush.js\n// module id = 110\n// module chunks = 0","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arraySome.js\n// module id = 111\n// module chunks = 0","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseAssign.js\n// module id = 112\n// module chunks = 0","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseCreate.js\n// module id = 113\n// module chunks = 0","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseEach.js\n// module id = 114\n// module chunks = 0","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.every` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nmodule.exports = baseEvery;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseEvery.js\n// module id = 115\n// module chunks = 0","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseFor.js\n// module id = 116\n// module chunks = 0","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseForOwn.js\n// module id = 117\n// module chunks = 0","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGetAllKeys.js\n// module id = 118\n// module chunks = 0","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseHasIn.js\n// module id = 119\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsArguments.js\n// module id = 120\n// module chunks = 0","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsEqualDeep.js\n// module id = 121\n// module chunks = 0","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsMatch.js\n// module id = 122\n// module chunks = 0","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsNative.js\n// module id = 123\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsTypedArray.js\n// module id = 124\n// module chunks = 0","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIteratee.js\n// module id = 125\n// module chunks = 0","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMatches.js\n// module id = 126\n// module chunks = 0","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMatchesProperty.js\n// module id = 127\n// module chunks = 0","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseProperty.js\n// module id = 128\n// module chunks = 0","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_basePropertyDeep.js\n// module id = 129\n// module chunks = 0","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseRest.js\n// module id = 130\n// module chunks = 0","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseSetToString.js\n// module id = 131\n// module chunks = 0","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseTimes.js\n// module id = 132\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseToString.js\n// module id = 133\n// module chunks = 0","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseUnary.js\n// module id = 134\n// module chunks = 0","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cacheHas.js\n// module id = 135\n// module chunks = 0","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_coreJsData.js\n// module id = 136\n// module chunks = 0","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createAssigner.js\n// module id = 137\n// module chunks = 0","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createBaseEach.js\n// module id = 138\n// module chunks = 0","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createBaseFor.js\n// module id = 139\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_equalByTag.js\n// module id = 140\n// module chunks = 0","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_equalObjects.js\n// module id = 141\n// module chunks = 0","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getAllKeys.js\n// module id = 142\n// module chunks = 0","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getMatchData.js\n// module id = 143\n// module chunks = 0","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getRawTag.js\n// module id = 144\n// module chunks = 0","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getSymbols.js\n// module id = 145\n// module chunks = 0","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getValue.js\n// module id = 146\n// module chunks = 0","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hasPath.js\n// module id = 147\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashClear.js\n// module id = 148\n// module chunks = 0","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashDelete.js\n// module id = 149\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashGet.js\n// module id = 150\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashHas.js\n// module id = 151\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashSet.js\n// module id = 152\n// module chunks = 0","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isKeyable.js\n// module id = 153\n// module chunks = 0","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isMasked.js\n// module id = 154\n// module chunks = 0","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheClear.js\n// module id = 155\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheDelete.js\n// module id = 156\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheGet.js\n// module id = 157\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheHas.js\n// module id = 158\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheSet.js\n// module id = 159\n// module chunks = 0","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheClear.js\n// module id = 160\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheDelete.js\n// module id = 161\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheGet.js\n// module id = 162\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheHas.js\n// module id = 163\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheSet.js\n// module id = 164\n// module chunks = 0","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapToArray.js\n// module id = 165\n// module chunks = 0","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_memoizeCapped.js\n// module id = 166\n// module chunks = 0","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nativeKeys.js\n// module id = 167\n// module chunks = 0","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nodeUtil.js\n// module id = 168\n// module chunks = 0","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_objectToString.js\n// module id = 169\n// module chunks = 0","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_overArg.js\n// module id = 170\n// module chunks = 0","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_overRest.js\n// module id = 171\n// module chunks = 0","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setCacheAdd.js\n// module id = 172\n// module chunks = 0","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setCacheHas.js\n// module id = 173\n// module chunks = 0","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setToArray.js\n// module id = 174\n// module chunks = 0","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setToString.js\n// module id = 175\n// module chunks = 0","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_shortOut.js\n// module id = 176\n// module chunks = 0","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackClear.js\n// module id = 177\n// module chunks = 0","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackDelete.js\n// module id = 178\n// module chunks = 0","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackGet.js\n// module id = 179\n// module chunks = 0","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackHas.js\n// module id = 180\n// module chunks = 0","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackSet.js\n// module id = 181\n// module chunks = 0","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stringToPath.js\n// module id = 182\n// module chunks = 0","var assignValue = require('./_assignValue'),\n    copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    isArrayLike = require('./isArrayLike'),\n    isPrototype = require('./_isPrototype'),\n    keys = require('./keys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nmodule.exports = assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/assign.js\n// module id = 183\n// module chunks = 0","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/constant.js\n// module id = 184\n// module chunks = 0","var arrayEvery = require('./_arrayEvery'),\n    baseEvery = require('./_baseEvery'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * Iteration is stopped once `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * **Note:** This method returns `true` for\n * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n * elements of empty collections.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.every(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, guard) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = every;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/every.js\n// module id = 185\n// module chunks = 0","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/get.js\n// module id = 186\n// module chunks = 0","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/hasIn.js\n// module id = 187\n// module chunks = 0","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isEmpty.js\n// module id = 188\n// module chunks = 0","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/memoize.js\n// module id = 189\n// module chunks = 0","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/property.js\n// module id = 190\n// module chunks = 0","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/stubArray.js\n// module id = 191\n// module chunks = 0","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/stubFalse.js\n// module id = 192\n// module chunks = 0","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toString.js\n// module id = 193\n// module chunks = 0","'use strict';\nvar isWindows = process.platform === 'win32';\nvar trailingSlashRe = isWindows ? /[^:]\\\\$/ : /.\\/$/;\n\n// https://github.com/nodejs/node/blob/3e7a14381497a3b73dda68d05b5130563cdab420/lib/os.js#L25-L43\nmodule.exports = function () {\n\tvar path;\n\n\tif (isWindows) {\n\t\tpath = process.env.TEMP ||\n\t\t\tprocess.env.TMP ||\n\t\t\t(process.env.SystemRoot || process.env.windir) + '\\\\temp';\n\t} else {\n\t\tpath = process.env.TMPDIR ||\n\t\t\tprocess.env.TMP ||\n\t\t\tprocess.env.TEMP ||\n\t\t\t'/tmp';\n\t}\n\n\tif (trailingSlashRe.test(path)) {\n\t\tpath = path.slice(0, -1);\n\t}\n\n\treturn path;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/os-tmpdir/index.js\n// module id = 194\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nfunction createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexports['default'] = thunk;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/redux-thunk/lib/index.js\n// module id = 195\n// module chunks = 0",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/sax/lib/sax.js\n// module id = 196\n// module chunks = 0","// Generated by CoffeeScript 1.10.0\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xml2js/lib/bom.js\n// module id = 197\n// module chunks = 0","// Generated by CoffeeScript 1.10.0\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xml2js/lib/processors.js\n// module id = 198\n// module chunks = 0","// Generated by CoffeeScript 1.10.0\n(function() {\n  \"use strict\";\n  var bom, builder, escapeCDATA, events, isEmpty, processName, processors, requiresCDATA, sax, setImmediate, wrapCDATA,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  sax = require('sax');\n\n  events = require('events');\n\n  builder = require('xmlbuilder');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processName = function(processors, processedName) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      processedName = process(processedName);\n    }\n    return processedName;\n  };\n\n  requiresCDATA = function(entry) {\n    return entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0;\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.processors = processors;\n\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = exports.defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === exports.defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = exports.defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err, error1;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processName(_this.options.attrValueProcessors, node.attributes[key]) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processName(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processName(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, err, error1, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processName(_this.options.valueProcessors, obj[charkey]) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            try {\n              obj = _this.options.validator(xpath, s && s[nodeName], obj);\n            } catch (error1) {\n              err = error1;\n              _this.emit(\"error\", err);\n            }\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                objClone[key] = obj[key];\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err, error1;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xml2js/lib/xml2js.js\n// module id = 199\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLAttribute, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name of element \" + parent.name);\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value for attribute \" + name + \" of element \" + parent.name);\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return create(XMLAttribute.prototype, this);\n    };\n\n    XMLAttribute.prototype.toString = function(options, level) {\n      return ' ' + this.name + '=\"' + this.value + '\"';\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLAttribute.js\n// module id = 200\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLElement = require('./XMLElement');\n\n  module.exports = XMLBuilder = (function() {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if ((options.pubID != null) || (options.sysID != null)) {\n          root.doctype(options);\n        }\n      }\n    }\n\n    XMLBuilder.prototype.root = function() {\n      return this.rootObject;\n    };\n\n    XMLBuilder.prototype.end = function(options) {\n      return this.toString(options);\n    };\n\n    XMLBuilder.prototype.toString = function(options) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n\n    return XMLBuilder;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLBuilder.js\n// module id = 201\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDAttList, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLDTDAttList = (function() {\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      this.stringify = parent.stringify;\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ATTLIST ' + this.elementName + ' ' + this.attributeName + ' ' + this.attributeType;\n      if (this.defaultValueType !== '#DEFAULT') {\n        r += ' ' + this.defaultValueType;\n      }\n      if (this.defaultValue) {\n        r += ' \"' + this.defaultValue + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDAttList;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLDTDAttList.js\n// module id = 202\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDElement, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLDTDElement = (function() {\n    function XMLDTDElement(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ELEMENT ' + this.name + ' ' + this.value + '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDElement;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLDTDElement.js\n// module id = 203\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDEntity, create, isObject;\n\n  create = require('lodash/create');\n\n  isObject = require('lodash/isObject');\n\n  module.exports = XMLDTDEntity = (function() {\n    function XMLDTDEntity(parent, pe, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ENTITY';\n      if (this.pe) {\n        r += ' %';\n      }\n      r += ' ' + this.name;\n      if (this.value) {\n        r += ' \"' + this.value + '\"';\n      } else {\n        if (this.pubID && this.sysID) {\n          r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n        } else if (this.sysID) {\n          r += ' SYSTEM \"' + this.sysID + '\"';\n        }\n        if (this.nData) {\n          r += ' NDATA ' + this.nData;\n        }\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDEntity;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLDTDEntity.js\n// module id = 204\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLDTDNotation, create;\n\n  create = require('lodash/create');\n\n  module.exports = XMLDTDNotation = (function() {\n    function XMLDTDNotation(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!NOTATION ' + this.name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.pubID) {\n        r += ' PUBLIC \"' + this.pubID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDNotation;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLDTDNotation.js\n// module id = 205\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLNode, XMLRaw, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return create(XMLRaw.prototype, this);\n    };\n\n    XMLRaw.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLRaw.js\n// module id = 206\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      this.allowSurrogateChars = options != null ? options.allowSurrogateChars : void 0;\n      this.noDoubleEncoding = options != null ? options.noDoubleEncoding : void 0;\n      ref = (options != null ? options.stringify : void 0) || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      if (val.match(/]]>/)) {\n        throw new Error(\"Invalid CDATA text: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var chars, chr;\n      if (this.allowSurrogateChars) {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uFFFE-\\uFFFF]/;\n      } else {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uD800-\\uDFFF\\uFFFE-\\uFFFF]/;\n      }\n      chr = str.match(chars);\n      if (chr) {\n        throw new Error(\"Invalid character (\" + chr + \") in string: \" + str + \" at index \" + chr.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      var ampregex;\n      ampregex = this.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      ampregex = this.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLStringifier.js\n// module id = 207\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLNode, XMLText, create,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  create = require('lodash/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return create(XMLText.prototype, this);\n    };\n\n    XMLText.prototype.toString = function(options, level) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2, space;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      level || (level = 0);\n      space = new Array(level + offset + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/XMLText.js\n// module id = 208\n// module chunks = 0","// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLBuilder, assign;\n\n  assign = require('lodash/assign');\n\n  XMLBuilder = require('./XMLBuilder');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    options = assign({}, xmldec, doctype, options);\n    return new XMLBuilder(name, options).root();\n  };\n\n}).call(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/xmlbuilder/lib/index.js\n// module id = 209\n// module chunks = 0","module.exports = require(\"string_decoder\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"string_decoder\"\n// module id = 210\n// module chunks = 0","module.exports = require(\"timers\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"timers\"\n// module id = 211\n// module chunks = 0"],"sourceRoot":""}